[{"title":"(重要)关于地图内部数据解析","tags":["高级"],"categories":"其他教程","author":"天雪酱","excerpt":"含金量很高的一篇教程，全文上万字，非常详细地解析了地图的内部文本数据，解析了每个小节（如所属方、`[Basic]、[Structures]`）的键值的含义、作用以及注意事项。\n\n::: info\n由于","link":"/posts/about-map-internal-data-analysis","content":"含金量很高的一篇教程，全文上万字，非常详细地解析了地图的内部文本数据，解析了每个小节（如所属方、`[Basic]、[Structures]`）的键值的含义、作用以及注意事项。\n\n::: info\n由于作者禁止其他平台转载教程本体，这里尊重作者的意愿，你需要注册红警任务之家账号以下载教程。\n:::\n\n<TxCard title=\"【教程】如何用记事本看地图文件\" url=\"http://www.pkuit.com/forum.php?mod=viewthread&tid=205869\" author=\"AuY\" date=\"2024-2-29\" imgPath=\"\" size='large'>\n\n\t\t本文档记录了红警2地图文件里比较重要的部分，并结合前人成果对这些内容加以解释，如果有错误，请联系我。\n\t\t\n\t\t关于地图1.2.4\n\t\t\n\t\t此版本不代表最终版本。\n\t\t\n\t\t尽管经过数百次修改，此文档内容依然可能存在错误，需要读者自行辨识。由于地编版本众多，很多地方的翻译文本多有不同。本文档使用的地编图片均来自sp版1.4.0.1。如果遇到翻译文本不同的地方，可对照图片中对应的具体位置或记事本中的英文文本来确定所说的是否为同一条目。（学会用记事本看地图对于mapper来说也是一项很重要的技能）\n\t\t\n\t\t此文档中填充为黄色的表示有待核实或仍需补充，红色表示重要。此文档中的某些配图内容来源于官方任务图，其中部分内容可能命名奇怪或条目过多，读者可视自身情况选择阅读。\n\t\t\n\t\t本作者禁止红警任务之家以外的任何平台发布、转载此文章，尤指兰博玩（兰博、兰博电竞）。个人的部分内容引用不受限制，但在红警任务之家以外的平台发布，引用部分需要先获得本作者的许可。\n\t\t\n\t\t特别感谢：韩大妈，数分\n\t\t---AuY\n\t\t\n\t\t\n\t\t版本修改：\n\t\t版本1.1  对“标签和执行触发的关系”进行了大改，并删去了部分不需要或错误的东西。\n\t\t版本1.2  重新对文档进行排版，增加了强制触发对“标签和执行触发的关系”的影响，添加了部分ai触发内容\n        版本1.2.3  增加了“索引”等内容，修改了“光照”等内容。 2024/2/19\n        版本1.2.4  将“编队”改为“分组”以对应地编文本表述，对作战小队的“用于基地防御”“仅攻击敌对方”“运载器下客后返回”的解释进行修改，修改了一些其他文本表述。2024/2/29\n\t\t\n\t\t关于地图1.2.4.rar\n\t\t\n\t\t1.95 MB, 下载次数: 101, 下载积分: 金钱 1\n\n</TxCard>\n"},{"title":"心灵终结任务相关","tags":["进阶","MO"],"categories":"其他教程","author":"天雪酱","excerpt":"> 即使不做MO地图，也值得一看\n\n<TxCard title=\"[教程向]浅谈MO任务制作\" url=\"https://www.bilibili.com/read/cv1018359\" author","link":"/posts/about-mo","content":"> 即使不做MO地图，也值得一看\n\n<TxCard title=\"[教程向]浅谈MO任务制作\" url=\"https://www.bilibili.com/read/cv1018359\" author=\"某书记\" date=\"2018-08-23\">这篇文章的主要受众应该是有意愿制作地图的普通玩家和刚刚入门的MAPPER。我会分为几个部分：1.单人任务注册2.多人任务注册3.其它</TxCard>\n\n<TxCard title=\"[教程向]心灵终结 自制战役注册\" url=\"https://www.bilibili.com/video/BV1EW411X7G3/\" author=\"某书记\" date=\"2018-08-23\">收藏+投币+好评三连走起~我是MZMAG制作组的触发/代码制作人员Xie_Ge12138。在临近开学之际，看到MO的MAPPER里还有很多人不知道一些基本的制作方式，于是录了一期视频。第一部分大家可以跳过，是讲MO安装的。接着是单人战役注册，然后是多人战役注册，最后有小知识。</TxCard>\n\n<TxCard title=\"MO地编辅助参考资料（一）-恶灵巢\" url=\"https://www.bilibili.com/read/cv2875403/\" author=\"Takitoru\" date=\"2019-06-15\">最近在闲暇之余，想写一些有关MO地编的资料用来帮助mapper们更多的扩展任务的可玩性。第一次决定详细地阐述一下MO里面的恶灵巢的地形、代码、原理以及在地编里的具体应用。</TxCard>\n\n<TxCard title=\"MO地编辅助参考资料（二） -选择机制\" url=\"https://www.bilibili.com/read/cv2882538/\" author=\"Takitoru\" date=\"2019-06-16\">大家好，这一篇主要针对或许还算“有意思”的机制选择机制进行一些阐述。MO3.34更新最大的特点除了BUG一堆之外最大的特点便是选择机制，即在大洋彼岸和战火兄弟连里面通过点击信标来决定自己指挥的阵营。</TxCard>\n\n<TxCard title=\"# 关于ARES平台下红警2抢点机制的实现方案\" url=\"https://www.bilibili.com/read/cv31317379/\" author=\"蓝色曳光\" date=\"2024年02月16日\">首先说明：红警2的据点争夺机制已有开发实例，但依靠的是大佬们自己改的平台，公开的据点争夺机制可以说是没有。本人为民间MO3战役制作者（或许会回去水YR任务），在上一年心心念念的要搞这个机制</TxCard>\n\n> 不会游泳的企鹅24\n\n在官方和自制的很多任务中，会在任务目标关键建筑的头上设置一个标志，比如若要保护一个建筑，就在上面设置一个防御（绿色盾牌）标志，要摧毁的目标就设置一个红色瞄准的标志，这些都属于定点标记。注意，有一些标记是顶在移动单位头上的，比如官方任务“生存本能”中五个原型机头上都有一个防御标记，这个不在此处的讨论范围之内。\n\n定点标记的实现方法是结果“41：播放动画在……”，有两个参数，一个是动画的类型，有几千种动画，和定点标记有关的动画是1858 - QUESTMARK到1865 - VIPMARK，从1858到1865分别为：问号（在“时间胶囊”中出现过），叹号（警告），骷颅头（危险），进入标记，盾牌（防御），眼睛（间谍渗透），瞄准（攻击目标），五角星（重要单位或建筑）。直接输入动画序号即可。另一个参数是路径点，就是播放动画的位置。写完这个触发后，你会发现这个标记只会持续几秒钟，于是自然可以想到可以用重复触发来使这个标记一直维持。\n\n生存本能原型机标志是直接改动单位ini代码设置的alphaimage 这导致这个单位会全程带着标记\n\n超时空动画（就是用超时空传送时的那个旋转的白色罩子），如果需要的话可以添加结果41：播放动画在……，动画类型选256 - ChronoTG.\n\n[MO 常用音效、语音和动画](https://www.bilibili.com/read/cv19191448/)\n\n[心灵终结3.3.6地图编辑器萌新教程第14篇：战役中常用的ini修改 - 哔哩哔哩](https://www.bilibili.com/read/cv17283354/)\n\n"},{"title":"【未完成】多人地图相关","tags":["进阶","草稿"],"categories":"其他教程","author":"天雪酱","excerpt":"::: danger\n此文已过时，更新的内容有待补充\n:::\n\n## 其他\n\n部分内容有误，仅供参考：[警告！制作多人联机任务必须注意的 - 红警任务之家](http://www.pkuit.com/","link":"/posts/about-multiple-map","content":"::: danger\n此文已过时，更新的内容有待补充\n:::\n\n## 其他\n\n部分内容有误，仅供参考：[警告！制作多人联机任务必须注意的 - 红警任务之家](http://www.pkuit.com/forum.php?mod=viewthread&tid=125675&fromuid=233973)\n\n## 多人合作任务制作教程\n\n> 阿林--2007-11-18--于广州\n\n1：提取关键文件：\n\n用XCC提取missionsmd.PKT（在LANGMD.MIX里提取),再在RA2MD.MIX里的LOCALMD.MIX里提取missionmd.ini和coopcampmd.ini两文件。\n\n2：文件编辑：\n\nA：coopcampmd.ini的编辑：\n\n```ini\n[Campaigns];;任务列表注册;\nCampaign1=Allied\nCampaign2=Soviet\nCampaign3=Yuri\nCampaign4=World\nCampaign5=Peace：新任务注册！\n```\n\n----编辑新任务规则-----\n\n```ini\n[Peace];;新增合作任务\nNumberOfCampaignMaps=1;任务关数;\nCampaignName=Name:Nzbzs_Coop ;任务名称（对应RA2MD.CSF);\nCampaignPlayer1=Russians,Africans;第一关可选国家(你自己定);\n;;CampaignPlayer2=自己定 ;第二关可选国家;\n;;CampaignPlayer3=自己定 ;第三关可选国家;\nCampaignEnemy1=Americans,Alliance;;第一关敌人国家(随机?你自己定);\n;;CampaignEnemy2=Confederation,Russians ;第二关敌人国家(随机?你自己定);\n;;CampaignEnemy3=Russians,British ;第三关敌人国家(随机?你自己定);\nCampaignAI=Normal ;敌人AI(?)[AI模式=标准模式];\nMap1=C5P01MD,C5P01MD,C5P01MD ;第一关载入地图(简单,中等,困难?);\n;;Map2=C5P02MD,C5P02MD,C5P02MD ;第二关载入地图(简单,中等,困难?);\n;;Map3=C5P03MD,C5P03MD,C5P03MD ;第三关载入地图(简单,中等,困难?);\n```\n\n注:C5P01MD里的C是Campaigns的开头字母,P是Peace的开头字母,5代表:5=Peace：新任务注册\n\nCampaignLoadScreen=LS800CS.shp ;载入图(联军系默认);\n\nCampaignLoadScreenPallet=LS800CS.pal ;载入图调色板(联军系默认);\n\n好!编辑完毕,进行下一步-----\n\nB:编辑missionmd.ini\n\n在里面找到[C4W01MD.MAP]在后面编辑:\n\n```ini\n;;新增第五任务;;\n;;;\n;;5ns Campaign;;=============第五任务;\n;;;\n[C5P01MD.MAP]\nBriefing=NAME:COOPDESC51(对应RA2MD.CSF)\n```\n\n好!编辑完毕,进行下一步--------\n\nC:编辑missionsmd.PKT文件\n\n```ini\n修改文件后缀.PKT为TXT格式,再打开---\n[MultiMaps]\n1=XXXXX\n;;;;;;;;\n在后面注册如:\n173=C5P01MD\n再编辑如下内容:\n[C5P01MD]\nDescription=DESC:C5M1\nCD=2\nMinPlayers=2\nMaxPlayers=4\nGameMode=cooperative\n```\n\n好!规则文件编辑完毕!进入下一步---编辑地图^=^(当然你得同时把RA2MD.CSF编辑完)\n\n3:地图制作\n\nA:用地图编辑器新建多人地图一张,再删除一些多余的作战方\n\n(新建会有0-7,七个初始路径点,实际就是7家作战方,删掉多余的保留4家即可)\n\n再拖动四家,你自己想好咋放置撒,这个我就不多说哈!\n\nB:往地图里加单位,编辑触发,作战小队呀,等等,具体的请参阅普通任务制作教程^=^\n\n地图做完你可以强改地图格式为C5P01MD.MAP^=^\n\n4:修改地图关键地方!\n\n用写字板形式(改文件格式为C5P01MD.TXT咯!)打开地图文件\n\n```ini\n----------修改-----------\n[Header]\nWidth=82\nHeight=106\nStartX=215\nStartY=48\nWaypoint1=219,125;这里不要改地图原有的\nWaypoint2=229,141;这里不要改地图原有的\nWaypoint3=286,109;这里不要改地图原有的\nWaypoint4=290,134;这里不要改地图原有的\nWaypoint5=0,0\nWaypoint6=0,0\nWaypoint7=0,0\nWaypoint8=0,0\nNumberStartingPoints=4;就是这里^=^\nNumCoopHumanStartSpots=2;就是这里^=^\n\n[Basic];把原有的删掉,修改如下:\nName=NZBZS001;随意写\nTheme=No theme\nPercent=0\nBriefing=Brief:ALL01md\nGameMode=standard, cooperative\nInitTime=10000\nOfficial=yes\nEndOfGame=no\nFreeRadar=yes\nMaxPlayer=4\nMinPlayer=2\nSkipScore=no\nTrainCrate=no\nTruckCrate=no\nOneTimeOnly=no\nCarryOverCap=0\nNewINIFormat=4\nNextScenario=GDI2A.map\nSkipMapSelect=no\nAltNextScenario=GDI9C.MAP\nMultiplayerOnly=1\nIceGrowthEnabled=no\nVeinGrowthEnabled=no\nTiberiumGrowthEnabled=no\nIgnoreGlobalAITriggers=yes\nTiberiumDeathToVisceroid=yes\n```\n\n修改完毕再把地图格式改回去即可!\n\n不明之处，请发帖详问（当然，地图编辑器的基本功本人就不作回答）\n\n^=^合作任务是多人联机任务，必须双方版本一致哦！\n"},{"title":"高级触发教程：帧计时","tags":["高级"],"categories":["触发与小队","细节"],"author":"天雪酱","excerpt":"> Ra2map：本文转载自[【教程】高级触发教程：帧计时 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204170)\n\n**警告：","link":"/posts/advanced-trigger-tutorial-frame-timing","content":"> Ra2map：本文转载自[【教程】高级触发教程：帧计时 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204170)\n\n**警告：本教程并不适合任务制作新手，最终达成的效果并不常用，且仅用于细枝末节的优化效果，只是非常特殊需求下的产物。因此，新手可以完全无视本教程中提及的所有细节。**\n\n我开发出这个触发组已经好几年了，也实际使用了几次，虽然说目前来看用处不大，但一直想写个教程分享一下，说不定什么时候就能派上用场吧。\n\n## 帧计时\n\n众所周知，YR中的触发条件“13 流逝时间...”仅能完成整数秒的延时。即使是触发条件“51 随机延时...”也不能随机出非整数秒，而是取整到最近的整数秒。\n\n（注：**本文中所有的“秒”都指的是游戏中超武倒计时/全局任务计时器的1秒**，具体持续时间会随游戏速度的变化而变化，而非现实中的1秒。下同。）\n\n而在游戏中，实际上最小的时间单位是“帧”。在每一帧中，引擎重新结算一次全部逻辑并重新绘制一次画面。任何在1帧之内发生的事件都被认为是同时发生的事情。**1秒=15帧**。\n\n也许你会注意到了，有时我们对”计时“这一需求并不满足精确到秒的精确度，比如在以下场景：\n\n* 需要制作在1秒之内先后发生的一系列事件（例：快速在不同位置播放一连串动画）\n* 需要制作一个发生时间不足1秒的事件（例：使用触发实现几帧的屏幕亮度变化，达到闪电划过的效果）\n* 需要对某个事件进行精确到帧的对齐（例：精确的踩点对上BGM、精确的控制字幕出现的时间）\n* 需要制作一个均匀的但是出现在非整数秒的一系列事件（例：5秒内均匀的执行3次）\n* 等等……\n\n这个时候我们就无比期望有一个**精确到帧的计时器**。既然原版没有提供直接的方式，那我们有没有别的办法呢？这就是本教程要讲的主要内容。\n\n这个计时器触发组，由三个功能部分组成：\n\n* 振荡器：一个每帧执行1次的触发。\n* 计数器：计算经过了多少帧。\n* 复位器：对整个计时器触发组进行复位。\n\n首先是振荡器触发。什么样的触发能做到每帧都执行1次呢？根据帧的定义，既然1帧是游戏逻辑结算的最小单位，那么**一个始终满足条件的重复触发就是1帧执行1次的**。我习惯使用的条件是”*13 流逝时间...*“参数写0，当然”*8 任何事件...*“也是可用的。\n\n如果不信的话，可以做如下试验：使用一个始终满足条件的重复触发，每次刷出1辆坦克，把这个触发允许1秒再禁止，你会发现无论在什么条件下执行，刷出坦克的数量总是精确的15辆。这也印证了以上的论断。\n\n通常来说，出现了一个每帧都执行1次的触发被认为是触发制作中的错误，因为它可能会大量消耗计算资源，甚至导致某种形式的溢出（单位数量、小队实例）导致游戏极度变卡，但我们这里就是需要它……为此，我们也需要其它措施来严格的限制这个触发对资源的消耗，这个一会再谈。\n\n既然有了一个每帧执行1次的触发，就可以通过统计这个触发执行的次数，来实现精确到帧的计时了。但是什么样的计数手段最好呢？一般来说我们需要这个计数手段可拓展、可重复，所以我通常会采取**刷单位计数**的方式。\n\n就是让那个每一帧都执行一次的触发，每一次运行都在地图的不可见区域刷一个别的地方都用不到的单位，而我们的触发条件”60 科技类型存在...“参数可以用于计数，就可以在被刷出的单位数量到达一定数量的时候被触发。刷出了几个单位，就是经过了几帧，没问题。\n\n为了让这个触发组可以复用，还需要在达到了一定的数量以后，清理掉所有的用于计数的单位。为所有的计数单位使用一个单独的作战方，使用将这个作战方直接全部摧毁是一个非常直接的方式。注意如果是重复利用已有单位进行计数，记得修改其ini，确保死亡武器、阵亡的嚎叫等都写上空白，否则使用触发组时可能听到地图外传来阵阵哀嚎或者爆炸声……\n\n可以预想到的是，在振荡器触发执行的时候，游戏可能会产生轻微的卡顿。而实测的效果是卡顿几乎可以忽略。只要它不是一直在运行刷单位，而是只在需要的时候开启、经过短暂的计时以后被关闭、刷出来的单位被及时清理掉，这个触发组对游戏性能带来的影响就可以忽略。\n\n总结一下这个触发组的组成：\n\n* 振荡器：重复，条件【流逝时间：0 / 任何事件】，结果【在地图的不可见区域刷出一个单位】\n* 计数器：条件【科技类型存在：计数单位到了一定数量】，结果【做你想做的事】\n* 复位器：条件【需要复位的时候使用】，结果【禁止振荡器，摧毁振荡器刷出的所有单位】\n\n目前来看这个触发组的功能应该是无法替代的。至于用途，仅凭我贫乏的想象力，之前也就想到了那几种。也许还有更多用途，希望这篇教程能拓宽大家的思路。\n\n## 帧对齐\n\n这部分涉及到另一个需要以”帧“为单位精确计时的场景，与上面的帧计时关系不大，算是做一个补充。\n\n我们在使用全局任务计时器的时候，有时需要达到”暂停计时器“的效果。通常使用的手段是”流逝时间1，计时延伸1“，即每秒把计时器加1秒，就和计时器自带的减1秒抵消了，达到计时器不动了的效果。\n\n以上全都是理论中的想象。实际使用的时候可能会出现这样的问题：计时器的减1秒是从计时器开始倒计时每15帧减1秒，但是如果那个用来暂停计时器的触发是由玩家某个操作允许的，这个允许的时间节点并不一定落在计时器开始以后15帧的整数倍上。废话这么多，**最终的后果就是计时器会在1秒之内先减1秒在加1秒，不停的在两秒之间跳动，俗称”跳秒“**。虽然说影响不大，但看着数字乱跳就很烦……\n\n我一开始以为这个需要使用帧计时器来解决，后来经过*@tslza* 的提醒，完全不用那么麻烦，可以这样简单的解决：\n\n* 触发A：流逝时间1，计时延伸1。\n* 触发B：流逝时间1，计时缩短1。\n\n在计时开始的时候，同时允许触发A和触发B。需要暂停的时候，禁止触发B，恢复的时候再允许。\n\n触发A和全局任务计时器本身一直保持着精确到帧的对齐。因为结算都在1帧之内，因此画面上不会有变化，数字也不会跳动了。然后用触发B来手动完成倒计时流逝。这就是一个完美的解决方案了。\n\n***\n\n> 竹蜻蜓：昨天与人讨论的时候，谈到有一个问题挺有意思的：短时间刷了这么多单位，为啥这个触发组实际用起来不会突然卡一下之类的？\n> \n> 我目前这样解释：刷出来的单位就是在原地不动的，不执行脚本也不搜索敌人……\n> \n> 寻仇和寻路可能才是刷大量单位的时候消耗计算量的大头，不寻仇也不寻路的话其实真的消耗没那么可怕……\n> \n> 比如说几十辆坦克叠在一个路径点上发呆，是没那么卡的；但你打它一下，这些坦克突然开始动了，游戏就会一瞬间变卡。"},{"title":"高级触发教程：电力连锁","tags":["高级"],"categories":["触发与小队","细节"],"author":"天雪酱","excerpt":"> Ra2map：本文转载自[【教程】高级触发教程：电力连锁 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204435&extra=","link":"/posts/advanced-trigger-tutorial-power-interlock","content":"> Ra2map：本文转载自[【教程】高级触发教程：电力连锁 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204435&extra=page%3D1)\n\n## 电力连锁\n\n在战略任务制作过程中，为了方便进行条件判断、战区规划、建筑重建、超武复制等操作，使用若干个颜色相同的敌人作战方是一种常用的障眼法：地图上的敌人看起来颜色都是相同的，但它们实际上属于不同的、相互结盟的若干个作战方。\n\n但这样也带来了一个问题：虽然它们颜色相同，但它们的一些属性没有完全共享，比如电力。在使用间谍、飞碟等方式切断其中一个作战方的电力以后，就会出现“相同颜色的敌人一半断电了，而另一半没有”的迷惑现象，玩家也难以判断“我究竟能切断哪部分敌人基地的电力”。所以从游戏体验上而言，**相同颜色的作战方的电力也应该是连锁的，其中一方断电，另一方也要跟着一起断电**，这样才是符合直觉的。\n\n“电力连锁”触发组就是为解决这个问题而设计的。\n\n首先，我们需要一种用触发让一个作战方强制停电的方法。对于原版平台，可以新增一种建筑物，我称其为“耗电负载”——它没有别的任何作用，除了极高的耗电量（比如Power=-999999），以确保哪个作战方只要拥有这样的一个建筑物，它就会当场停电。\n我们要在地图可视区域之外，为每个需要进行电力连锁的作战方，摆一个自己对应的“耗电负载”。只不过它们的所属方先被设置为平民方，在需要强制断电的时候，才会把它们的所属方更改过来。\n（至于Ares 3.0平台以后，增加了使用触发直接给所属方增加或者减少电力的功能。制作思路是类似的，只是方便了许多。下文以原版的设计为例。）\n\n“电力连锁”触发组一共分为4组。需要进行电力连锁的作战方有多少个，每组触发就有几个——每一个参与连锁的作战方都需要一个。\n\n**A组**：强制切断某作战方的电力\n\n- 默认**禁止**，类型为**2-重复**\n- **关联触发：B组中的本作战方的对应触发**\n- 条件：8 [任何事件]\n- 结果：14 [更改所属方]-本作战方，54 [禁止目标触发]-本触发自身\n\n然后将地图外的每个“耗电负载”关联到A组对应触发。\n\n**B组**：结束某作战方的强制电力切断状态\n\n- 默认**禁止**，类型为**2-重复**\n- 关联触发：无\n- 条件：8 [任何事件]\n- 结果：14 [更改所属方]-平民方，54 [禁止目标触发]-本触发自身\n\n**C组**：检测到某作战方断电\n\n- 默认**允许**，类型为**2-重复**\n- 条件：30 [电力不足]-本作战方\n- 结果：54 [禁止目标触发]-所有C组触发（含自身），53 [允许目标触发]-**非本作战方**对应的所有A组触发，53 [允许目标触发]-本作战方对应的D组触发。\n\n**D组**：检测到某作战方电力恢复\n\n- 默认**禁止**，类型为**2-重复**\n- 条件：58 [电力充足]-本作战方，**13 [流逝时间]-1**\n- 结果：54 [禁止目标触发]-本触发自身，53 [允许目标触发]-所有B组和C组的触发\n\n触发组的逻辑原理如下：\n\nA组和B组提供了“强制切断/结束强制切断”某一个作战方电力的单元操作。这里用了一个多触发关联，就不赘述了。\n\nC组触发负责检测某个作战方的电力是否不足（不是来自A组的强制切断，而是来源于地图上的其它原因）；如果电力不足的话，就会强制切断其余作战方的电力，同时唤起D组中对应触发，来检测本作战方电力是否已经自然恢复。\n\n最关键的问题还是，要把 **“一个作战方的电力，是因为真的自己没电才导致电力不足，还是被触发强制断电了”给区分明白**。万一一个作战方真的被触发强制断电了，别人还在眼巴巴的等着它恢复电力，那可永远也等不来了。\n\n为此，本触发组采用的处理模式是：**“因为谁的原因导致大家都强制断电了，就去检测谁的电力是否自然恢复，别人先等等。至于别人的电力不足的问题，等这轮强制断电结束以后，再进行下一轮判断。”**\n\n比如，考虑以下情况：\n\nRussians和Confederation两个作战方进行了电力连锁，我使用飞碟吸住了Russians的电厂，此时Russians电力不足，触发了Confederation的强制断电。\n\n然后我再用飞碟吸住了Confederation的电厂，此时触发组没有任何动作。\n\n可在此之后，当我让吸Russians电厂的飞碟松开时，首先因为Russians电力恢复充足，触发组结束了Confederation的强制断电状态；但此时Confederation的电力仍然是不足的，于是触发组又一次运行，触发了Russians的强制断电。这两个断电状态就如此衔接上了。\n\nD组的条件里面有一个“13 [流逝时间]-1”，这个是必需的。根据实际测试，判断来电与断电的触发之间，必须要有一个延时，否则条件判断会出现误判。\n\n## 这就结束了吗？\n\n其实还有一个极端情况下的小bug：飞碟吸电的内部原理是“把所有发电厂的电力降到0”，而不是真正的“强制断电”。如果把一个作战方拆到只剩电厂，没有任何耗电的玩意（_蜜蜂狼牛：“这是碳基生物能做出来的活吗？？”_）再去用飞碟吸住它的电厂，此时这个作战方的电力=0，负载=0，电力≥负载，触发的条件判断会认为它电力充足，从而不去强制连锁断电……于是，“我用飞碟吸住了电厂，但是没有断电，这是怎么回事？”\n\n解决的方法也很简单：为每个需要连锁断电的作战方，在地图可视区域外面放置等量的发电建筑和耗电建筑；或者更简单一点，放一个耗电量为1的建筑。\n\n（不过这个bug实现条件有点阴间，不处理也就算了……）\n\n另一个bug是没法解决的，就是拿间谍同时渗透2座不同所属方的电厂，右下角一定有2个“电力恢复时间”倒计时。不过实际上的断电表现，和向同一个作战方的电厂中塞2个间谍的效果是相同的，都是按照后进入的时间来，因此本触发组在这里的表现还算马马虎虎合格。"},{"title":"高级触发教程：字幕队列","tags":["高级"],"categories":["触发与小队","细节"],"author":"天雪酱","excerpt":"> Ra2map：本文转载自[【教程】高级触发教程：字幕队列 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204171&extra=","link":"/posts/advanced-trigger-tutorial-subtitle-queue","content":"> Ra2map：本文转载自[【教程】高级触发教程：字幕队列 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204171&extra=page%3D1)\n\n虽然说是“高级触发”，但这个触发组其实是极其实用的，以至于被开发出来以后，我的每一张任务图中都在稳定的使用，其对游戏体验的提升非常明显。\n\n## 字幕队列\n\n在任务进行的时候，左上角出现的字幕是对玩家重要的提示和引导。你可能用单独的一条字幕来表示某个提示，或者使用一连串的字幕来为玩家展示一段剧情或对话。\n\n然而展示的效果有时并不尽人意，其中一个因素就是字幕之间的相互干扰：比如，一堆倾泻而出的非重要提示，可能会把一条重要信息快速淹没；或者是，玩家在触发A和B之间的对话的时候，同时触发了C与D之间的对话，相互穿插的字幕导致信息几乎变得不可读；再比如，你不希望让循环出现的任务目标提示和别的字幕撞车……\n\n本教程介绍的这个触发组就是为了优化这些场景而出现的。\n\n先来看看这个触发组的结构：\n\n- 一个局部变量， “锁”。初始为0。\n- 延时解锁触发：重复；【条件】_13 流逝时间..._ 8秒（或者你认为两条信息之间的合理间隔）；【结果】_57 局部清除..._ 锁，_54 禁止目标触发..._ 自身。\n\n没错，就这么简单。\n\n这个触发组要如何使用呢？\n\n- 当一条单独的字幕需要出现的时候，在对应字幕的触发条件上附加一个额外的条件：_37 局部设置关闭..._ 锁；结果上附加两个额外的结果：_56 局部设置..._ 锁，_53 允许目标触发..._ 延时解锁触发。\n- 当一连串的字幕要出现的时候，在第一个字幕的触发条件上附加额外条件：_37 局部设置关闭..._ 锁；结果上附加额外结果：_56 局部设置..._ 锁；在最后一个字幕触发的结果上附加一个额外的结果：_53 允许目标触发..._ 延时解锁触发。\n\n这个局部变量确实是一个“锁”。有字幕要出现的时候，就“上锁”（设置局部变量为1），暂时不让其他字幕同时出现，只有过了一段时间以后才由延时解锁触发来“解锁”（清除局部变量为0），其它字幕才能出现。如果有一连串的字幕要出现，在这段字幕进行的时间中，就是全程上锁的，不让其它字幕插进来打扰。\n\n如果有很多条字幕要同时显示，这个“锁”就起到了一个“队列”的作用：让字幕一条一条的，或者一段一段的，按照“延时解锁触发”的解锁时间间隔逐个显示出来，哪怕时间上刚好撞车，也会自动错开一小段间隔，因此我把它叫做“字幕队列”。\n\n你以为这就结束了吗？\n\n理论上很完美，但是实际使用的时候会发现一个问题，是来自于触发条件“_13 流逝时间..._”的：\n当一个触发拥有双条件，一个是“_13 流逝时间..._”，另一个是“_37 局部设置关闭..._”的时候，仅仅当局部变量改变了状态的时候（不论是从0到1还是从1到0），“_13 流逝时间..._”的计时器就会重新开始计时。\n\n也就是说，如果原来的字幕触发是延时8秒产生字幕，延时解锁触发是延时8秒解锁的话，那么这个触发最长要延时8+8=16秒（上锁8秒，解锁以后自身的延时重新开始计时，又延时8秒）。这个对于短延时的字幕触发影响轻微，但是对于长延时的字幕触发（比如延时120秒提示任务目标）可能就会导致，其它字幕引发的上锁解锁操作引发自身计时器反复被重置、一直到不了时间，导致一直显示不出字幕。\n\n这个问题怎么解决呢？既然对于显示字幕的触发本身，延时越短，影响越小，我们可以采取如下方式，以延时120秒提示任务目标为例，把它拆成两个触发：\n\n- 延时触发：重复；【条件】_13 流逝时间..._ 120；【结果】_53 允许目标触发..._ 字幕触发。\n- 显示触发：重复；【条件】_37 局部设置关闭..._ 锁；【结果】_56 局部设置..._ 锁，_53 允许目标触发..._ 延时解锁触发，_54 禁止目标触发..._ 自身，_11 文本触发事件..._ 你需要的字幕，还有其它等等……\n\n这样，实际上显示字幕的触发就成了最理想的0延时触发，而延时触发的计时器也不会被打断了。问题这才告一段落。\n\n## 后续\n\n昨晚又和人讨论了很多关于这个触发组的事情，发现这个触发组实现起来虽然很简单，但细节非常之多……\n\n教程所写的方法是没错的，至于其它错误实现会出现什么问题就不一一列举了……\n\n实际上这个问题的本质，是一个**操作系统的资源调度问题**（如果学过相关的知识会好理解）：通过**加锁**的方式，让一条字幕在一段时间内独占**一段时间的玩家阅读时间**。\n\n实际上锁的“开”与“关”两个状态（即一个二进制位）并不能完全的存储当前状态的。因为实际上有3种状态：\n\n- 当前资源未被占用（现在空闲，可以立即显示字幕）\n- 当前资源已被占用，但资源没有被预定（正在显示单独的一条字幕，下一条可以允许任何别的字幕显示）\n- 当前资源已被占用，而且被预定了（正在显示一串连续字幕的触发组，下一个要显示的字幕也确定好了）\n\n两个二进制位是无法存储三种状态的，那么多的那个二进制位是从哪儿来的？——那就是，**延时解锁触发还有一个开关状态（允许/禁止）**，它也可以存储信息。\n\n这样一来，三种状态就对应了：\n\n- 当前资源未被占用（“锁”的值为0，延时解锁触发是禁止状态）\n- 当前资源已被占用，但资源没有被预定（“锁”的值为1，延时解锁触发是允许状态）\n- 当前资源已被占用，而且被预定了（“锁”的值为1，延时解锁触发是禁止状态）\n\n而【“锁”的值为0，延时解锁触发是允许状态】这种状态不会出现，就用两个二进制位存储了3种状态"},{"title":"ChaleB文集：RA2美工设计入门指引","tags":["进阶","合集"],"categories":"自定义游戏资源","author":"天雪酱","excerpt":"> Ra2map：本文为轻稚天雪对以下专栏内文章的简要概括，详情请看原文。Ra2map 不打算将专栏全文转载到这里。因为 B 站阅读足够好，转载只是无意义的重复劳动。\n\n<TxCard title=\"","link":"/posts/chaleb-art-designing-basic-tutorial","content":"> Ra2map：本文为轻稚天雪对以下专栏内文章的简要概括，详情请看原文。Ra2map 不打算将专栏全文转载到这里。因为 B 站阅读足够好，转载只是无意义的重复劳动。\n\n<TxCard title=\"红色警戒2美工设计入门指引\" url=\"https://www.bilibili.com/read/readlist/rl124640\" author=\"ChaleB\" date=\"2020-02-08\" imgPath=\"/img/clb_avatar.jpg\">非常高兴能看到越来越多的人关注和试着去了解红色警戒2这款经典的即时战略游戏的模组创作，一个经典的游戏，如果没有新鲜血液的加入，终有一天也会消失在历史的长河之中，感谢每一位热爱这个游戏的玩家和创作者们，因为有了你们，红色警戒2才能在如今依然散发着独特的魅力。</TxCard>\n\nRa2的热度需要新鲜血液维持，而目前由于教程老旧等原因，新人在ra2mod美工方向难以入门，本篇美工设计入门指引就是为了方便新人快捷直观了解红色警戒2的美工实际内容和学习方向，提供大概的方向指引。\n\n## 第一章 - 基础思想概述\n\n介绍ra2主要的两种美工素材类型以及制作工具，Voxel（简称VXL）是一种多层点阵模型，而SHP，是一种由索引色调色盘指示的多帧序列，均不属于3D素材。\n\n## 第二章 - Voxel创作基本指南\n\n在这一章里，UP着重从零讲起如何创作Voxel模型素材。UP简单介绍了VSEv1.3.8的工作界面构成，然后直接如何创作开始讲起。\n\n首先你要有3D构思能力，然后便进入基本操作的流程，最后，你要多学其他人的优秀模型。\n\n## 第三章 - SHP创作基本指南（一） - SHP原理概论\n\n制作SHP涉及多个软件，如果原创还要用到3D建模软件，门槛较高。而SHP可以分为建筑物、步兵、单位（飞行器/载具）、特效和动画。\n\n## 第四章 - SHP基本指南（二） - SHP Builder入门\n\n在本章节中，UP重点讲解SHP Builder的基本使用方法。\n\n## 第五章 - SHP基本指南（三） - ImageShaper入门\n\nImageShaper 基本使用手册。\n\n\n"},{"title":"ChaleB文集：FA2入门基础教程","tags":["入门","合集"],"categories":"基础与综合","author":"天雪酱","excerpt":"> Ra2map：本文为轻稚天雪对以下专栏内文章的简要概括，详情请看原文。Ra2map 不打算将专栏全文转载到这里。因为 B 站阅读足够好，转载只是无意义的重复劳动。\n\n<TxCard title=\"","link":"/posts/chaleb-fa2-basic-tutorial","content":"> Ra2map：本文为轻稚天雪对以下专栏内文章的简要概括，详情请看原文。Ra2map 不打算将专栏全文转载到这里。因为 B 站阅读足够好，转载只是无意义的重复劳动。\n\n<TxCard title=\"红色警戒2地图编辑器入门基础教程\" url=\"https://www.bilibili.com/read/readlist/rl44180\" author=\"ChaleB\" date=\"2019-08-21\" imgPath=\"/img/clb_avatar.jpg\">如果你，找到了这套红色警戒2地图编辑器（FinalAlert2）的基础教程，那么非常幸运 你找到了一个入门的好途径 。这套教程将专门重点讲解这款地图编辑器及其相关Mod基础知识的基础入门，不同于以往的地编教程，这套教程将会通过通俗易懂而且完整的讲解来完全的讲述如何正确的使用这款FinalAlert2编辑器来制作属于你的《命令与征服：红色警戒2》的多人地图和单人任务。</TxCard>\n\n## 01 - 序章\n\n简介这套教程的由来，以及将要讲什么，并且提供了工具包。\n\n::: warning\n工具包里面很多软件很旧了，不建议再使用。FA2建议使用FA2SP或联盟版\n:::\n\n## 02 - 入门篇 - FA2界面\n\n介绍FA2界面，各个按钮和菜单。\n\n## 03 - 入门篇 - FA2界面（二）\n\n这一篇单独介绍菜单栏中的【编辑】菜单里的内容，以及内部子选项的意义。\n\n## 04 - 地形篇 - 新建地图\n\n讲新建地图时的对话框，以及地图类型。\n\n## 05 - 地形篇 - 野外地形基础\n\n地形和物品的摆放、野地悬崖形状。\n\n## 06 - 地形篇 - 城市地形基础\n\n相对于野外地图，城市地图更加复杂，绘制时要注意**1.整齐划一，规划明确**，即使是一个废墟城市；**2.丰富交错的路网**是骨架，非常重要；3.城市中有大量**风格各异的不同建筑物**，要学会通过摆放建筑创造**不同的城市功能区**。\n\n## 07 - 触发篇 - 触发原理概论\n\n::: tip\n触发相关的，建议去看他新的触发专讲视频\n:::\n\n### 第一小节 - 触发相关编辑器及其界面\n\n触发、小队等编辑器内各选项功能。\n\n::: warning\n用的是旧版 MO 地编，建议改用 FA2SP（可以复制小队等等，也有 MO 版）或联盟版\n\n触发类型没有填3的，且（非MO版）触发名可以写中文（小队名等（名字两头）不能）。另外千万不要往各种名字和参数里写英文逗号和英文分号，不然小心地图报废！\n:::\n\n### 第二小节 - 触发基础概论及理论基础\n\n理论讲解，帮你理解触发概念，非常重要。\n\n## 08 - 触发篇 - 纠错基本手册\n\nDebug 对于地图制作和 Mod 创作具有很重要的意义，而且难度较大，工作量也非常重大，因此Debug 单独的分为这样一个章节进行讲解。\n\n一般可以通过 except.txt 文件 Debug，UP 从 modenc 搬运了一些常见EIP错误。\n\n另外，常**备份地图**和**逻辑抓虫**也是查错的重要方式。\n\n## 09 - 进阶基础 - 手改地图\n\n手改地图即不借助FA2编辑器直接使用编码工具对地图进行编改。\n\n::: warning\nNotepad++存在**安全隐患**，建议改用 Notepad3 或 VSCode\n:::\n\n讲解地图文件的内部文本数据结构，即**小节**和**数据字段**。手改地图一般用于\n\n1. 添加/修改单位属性（rules）\n2. 查错\n3. 批量修改数据\n\n## 10 - 进阶技巧 - 地形绘制技巧A\n\n技巧一：抬升地形，技巧二：绘制悬崖，常用框架模式和隐藏工具\n\n## 11 - 战役设计 - 如何完成一个开头\n\n很多地图制作者，特别是专注于战役类地图的制作者，对于制作一套水平优秀，剧情跌宕起伏的战役，则是一个梦寐以求的目标。那么，在本套教程中，UP主将通过一个个案例来介绍如何制作一个战役里的各个部分。\n\n在本章节中，UP以图文形式介绍如何制作一个标准的战役开头，包括文本、语音、场景控制等触发。\n\n## 12 - 触发进阶 - 如何使用局部变量\n\n简单讲讲如何使用局部变量。\n\n## 13 - 高阶 - 利用变量循环随机触发\n\n在第12小节中我们提及了局部变量，在本小节中我们将要拓展关于局部变量的内容，利用局部变量实现在游戏地图创作中的随机性触发。\n\nFA2中可以被直接性写入的触发条件中，含随机值的仅包括 **【51-随机延时】**，本次，我们需要讨论的是关于如何编写一个循环随机点刷兵事件。简单概括，在地图上存在ABCDE五个刷兵点，我们想要让**五个刷兵点随机刷兵**。这样我们可以通过写入五个随机延时的结果7援军小队来实现随机刷兵。\n\n## 14 - 战役设计 - 如何设计任务流程\n\n任务目标告知/循环提示，胜利/失败相关触发组。"},{"title":"ChaleB视频集：触发与事件","tags":["入门","合集"],"categories":"基础与综合","author":"天雪酱","excerpt":"> Ra2map：本文为轻稚天雪对以下专栏内文章的简要概括，详情请看原文。Ra2map 不打算将专栏全文转载到这里。因为 B 站阅读足够好，转载只是无意义的重复劳动。\n\n此为 ChaleB 录制的触发","link":"/posts/chaleb-trigger-tutorial","content":"> Ra2map：本文为轻稚天雪对以下专栏内文章的简要概括，详情请看原文。Ra2map 不打算将专栏全文转载到这里。因为 B 站阅读足够好，转载只是无意义的重复劳动。\n\n此为 ChaleB 录制的触发视频教程合集，包含新版地编安装和各种基础知识，以及很多实用的触发案例教学，讲解很详细~还附赠了工具大礼包，包含 ares，fa2sp 等资源\n\n<TxCard title=\"【视频合集】FA2入门教程 触发与事件专集\" url=\"https://space.bilibili.com/893531/channel/collectiondetail?sid=1789845\" author=\"ChaleB\" date=\"2023-10更新\" imgPath=\"/img/clb_avatar.jpg\">想学地编触发方向的小伙伴有得看咯，教程会基于FA2sp整理录制，关于FA2sp和相关适配方法会作为基础知识进行补充，教程不空讲理论知识，直接从实践开教，目的为学完能“做东西”，教目前业内的常用地编流程知识，结合案例教学，包括基础触发知识，以及多人地图触发和单人战役触发。</TxCard>\n\n```\n【红警2地编教程】触发与事件基础入门教程01 - 地编工作环境搭建\n2023-10-12\n【红警2地编教程】触发与事件基础入门教程02 - 如何创建触发事件\n39:57\n2023-10-12\n【红警2地编教程】触发与事件基础入门教程03 - 触发类型分类\n17:28\n2023-10-13\n【红警2地编教程】触发与事件基础入门教程04 - 过场类01 - 过场基础触发\n34:36\n2023-10-14\n【红警2地编教程】触发与事件基础入门教程05 - 过场类02 - 信息提示触发\n22:26\n2023-10-15\n【红警2地编教程】触发与事件基础入门教程06 - 初始化触发\n16:21\n2023-10-16\n【红警2地编教程】触发与事件基础入门教程07 - 判定触发和触发组\n13:09\n2023-10-16\n【红警2地编教程】触发与事件基础入门教程08 - 创建简单AI行为\n23:21\n2023-10-20\n【红警2地编教程】触发与事件基础入门教程09 - 简易刷兵触发\n32:37\n```\n\n"},{"title":"改变任务文本信息的颜色","tags":["进阶"],"categories":"地形与美化","author":"天雪酱","excerpt":"任务文本信息的颜色使用**固定的**颜色名，盟军阵营颜色为 DarkBlue，苏军阵营 DarkRed，第三阵营 DarkSky。颜色在 rulesmd 的`[Colors]` 中定义。\n\n如果你想改","link":"/posts/change-mission-text-color","content":"任务文本信息的颜色使用**固定的**颜色名，盟军阵营颜色为 DarkBlue，苏军阵营 DarkRed，第三阵营 DarkSky。颜色在 rulesmd 的`[Colors]` 中定义。\n\n如果你想改盟军阵营的文本颜色，原版平台需要修改 DarkBlue 这个颜色的值。同时这样地图上 DarkBlue 这个颜色的所属方也会变色，你需要找一个其它的颜色代替 DarkBlue 作为盟军蓝（在地图所属方的颜色选项中，将深蓝方设为【名为其它实为深蓝的颜色】）。玩家操作产生的文本还会是国家的颜色，如“选取部队跨越地图”。\n\n比如林德拉克任务中，盟军玩家的任务文本是浅蓝，单位颜色是深蓝，是因为在 rulesmd 中的`[Colors]`， 对调了 DarkBlue 与 LightBlue 的值（此时程序文本调用 DarkBlue 实际得到浅蓝），然后将地图玩家所属方的颜色设为 LightBlue（显示为深蓝）。`[Colors]`字段似乎不能内置到地图。\n\n颜色值为特殊的 HSV，参见\n\n- https://ppmforums.com/topic-44057/westwood-color-conversion-utility/\n- https://modenc.renegadeprojects.com/Colors"},{"title":"几个封面制作器","tags":["入门"],"categories":"工具与调试","author":"天雪酱","excerpt":"制作任务载入图和游戏载入图。\n\n## 任务封面制作器改良版\n\n坊间广为流传的任务封面制作器，由永恒叶改良：增加了不同方向的箭头贴图及超武图标\n\n<TxDownload size='2.0MB' net","link":"/posts/cover","content":"制作任务载入图和游戏载入图。\n\n## 任务封面制作器改良版\n\n坊间广为流传的任务封面制作器，由永恒叶改良：增加了不同方向的箭头贴图及超武图标\n\n<TxDownload size='2.0MB' netdisk='https://wwl.lanzoul.com/iZtzG1qmxxne' direct='任务封面制作器_改良版【已再次修复地图错误】.zip' name='任务封面制作器_改良版【已再次修复地图错误】.zip' />\n\n**使用方法：**\n\n要移动地图，请先选择**模式**再按方向键调整，底栏说了如何加速移动。图标什么的都可从**工具栏**选择。保存文件名苏军是`ls800s0x`，盟军是`ls800a0x`（x 代表第几关）（在`missionmd.ini`定义了），shp 和色盘都要存。压缩包里也附带了说明书`LDSBLD.chm`。\n\n不过，想必很多 UP 主都了解，RA2 任务的载入画面经常无法过审，原因为\n\n> 时间（xxxx - xxxx）地图有误，藏南和阿克赛钦地区……\n> \n> 您好，核实到您的稿件由于【00:00:30-00:00:35】地图显示不完整导致无法过审，建议参考网址修改……\n\n虽说虚拟的游戏地图不必与真实世界一致，不过在这个越发保守和加码审查的环境下，实际情况是，就算是改对的边界也不一定能过审，B站审查似乎已经形成了条件反射。一个简单的解决办法是，将相关区域**打码**，或者**避免出现**相关画面。[问题地图速查](https://pica.zhimg.com/80/v2-e6a24b242ff17411033e80324cec59c8_720w.webp)\n\n这里提供的是**已经修过的**地图，与现实世界一致，尽可能减小您和他人的风险。\n\n## 自定义封面制作器\n\n所谓自定义封面制作器，即为一个 PNG 转 SHP 程序。原作是一个命令行程序，新作是一个 GUI 程序，由 Caco 制作。\n\n::: info\n整合版 FA2SP 里有，下过就不用再下了。\n:::\n\n战役载入图模板，内有一些载入图素材\n\n<TxDownload size='14.5MB' netdisk='https://wwl.lanzoul.com/iHcFA1qmxxkb' direct='' name='战役载入图模板和制作器' />\n\n## PSD 文件与其他\n\n如何使用 PS 做载入图：[[心灵终结·MO] 8分钟做载入图_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1xt411e7Nz/)，后面的步骤可以用上面的工具代替了。[MO载入图模板.psd](https://wwl.lanzoul.com/ibSYZ1qn3msj)，适用于原版的 PSD 文件在上面。\n\n另外游戏的载入画面是`glslmd.shp`,色盘是`glsmd.pal`，大小`800x600`。"},{"title":"语言编辑器","tags":["入门"],"categories":"工具与调试","author":"天雪酱","excerpt":"游戏中出现的几乎所有文字，包括单位名称，任务剧情，任务名称等，都需要使用 RA2 语音编辑器编辑。\n\n<TxDownload size='1.22MB' netdisk='' direct='语言编辑","link":"/posts/csf","content":"游戏中出现的几乎所有文字，包括单位名称，任务剧情，任务名称等，都需要使用 RA2 语音编辑器编辑。\n\n<TxDownload size='1.22MB' netdisk='' direct='语言编辑器.zip' name='语言编辑器.zip' />\n\n## 编辑\n\n> 参考了：三国樊建的文章\n\n以尤里的复仇平台为准，查看你的游戏目录中是否有`ra2md.csf`，如果没有，用 xcc 从 langmd.mix 中提取。然后用语言编辑器打开。\n\n::: info\n注意：如果编辑后的 CSF 导致 FA2 弹出一个没字的窗口，是因为你的语言编辑器生成了一个类似广告的条目，在 RASRES 里面，删除即可。或直接删了 CSF。可以换一个编辑器。\n:::\n\ncsf 结构为3块，类型-项目-内容。类型对应游戏中各版块，项目对应版块中各条目，内容对应条目中的信息。下面一一解释做任务有机会用到的。\n\n**BRIEF** 类型中填写**关卡故事**及任务目标详细信息绍，是玩家在游戏中**点击任务介绍按钮**会看到的东西。项目名称一般按默认格式填写。盟军任务项目名称填all\\*\\*md，苏联填sov\\*\\*md。应该是在`missionmd.ini`中定义的。原版没有尤里任务，要自行设定，或者假装成盟苏任务。\n\n**CRD及CRD_TTL** 两个类型用来填写游戏中**制作人员**名单的标题简介等。任务结束下制作人员名单要填写在creditsmd.txt中，也是在 langmd.mix，只能用英文。总之挺麻烦，但一般任务制作都个人制作，只需要填写作者名称。这样就简单了，不需要管 creditsmd.txt，然后`CRD:CREDITS`项目内容为制作人员。紧接着下面`CRD:INTRODUCTION1`项目内容填上作者大名。后面的无视即可。\n\n**DESC** 类型里面有**开新任务**的提示文字。\n\n**GUI** 类型中要填写过关后**评分板**上的评语，这块项目名称有低速过关评语，高速过关评语，标题（官阶）。不过我们写地图的`[Ranking]`条目时，不必非要将评语写到 GUI 类型中。\n\n**LOADBRIEF** 类型中填写**关卡载入**时在图上的信息，由于 loading 时间短，信息量不能大，一般只写下任务目标。\n\n**LOADMSG** 类型中填写**关卡标题栏**信息，只能写一行。原版内容统一为“军事行动：任务名+地点”。\n\n**MISSION** 类型用来写游戏中的**提示信息**。这个类型中的项目名称对应触发行为`11 文本触发事件`的参数。这部分内容必然很多，建议另外单开个类型写你任务的提示信息，会方便很多。比如**右键**新建类型如`SOV`。然后写触发的时候手动填写全名，如`sov:a01`\n\n**NAME** 类型填写**关卡名称**，用在存档标题及选关标题。推荐格式：`尤里 03 - 名称`。\n\n最后送小提示：\n\n1. 游戏中很多信息栏能显示的字数都不多，应注意尽量写简短些。否则可能出现信息显示不全或另起一行的问题，而且**字太多玩家也看不完**，尤其是战斗激烈时。\n2. 两条相连的11号触发结果，间隔约6~10秒合适\n3. 不要写入中文点号，否则最后一个字会被吞掉\n\n## ARES 相关\n\n> 除了 ra2md.csf，游戏还会载入 stringtable00.csf 到 stringtable99.csf 并且优先级更高。\n> \n> 你也能直接在 ini 里用 NOSTR:prefix 命名，比如，`UIName=NOSTR:Sonar Pulse`会被显示为`Sonar Pulse`，尽管如此，这玩意儿(包括 prefix )不能超过31个。\n> \n> CSF 条目最大能写20000条。"},{"title":"【开发者】未完工内容记录","tags":[],"categories":"思想","author":"天雪酱","excerpt":"\n## 未完工文章\n\n过段时间会上传文章仓库，授权给有意者合作编辑\n\n> 内容一期\n\n来自旧版：\n\n- [X] 调试游戏与故障解决\n- [X] Zero Fanker的地图制作分享（等待恢复）\n- [X] 地图出错了怎么办\n\n- [X] 树木外形对照\n- [X] 地图光照与局部灯光的控制（待修改）\n- [X] 灯光建筑的使用\n- [X] 灯光建筑INI编写\n- [X] 海底地图效果\n- [X] 昼夜循环\n- [X] 自定义遭遇战地图的预览图\n- [X] 战役中所属方颜色 图解说明\n\n- [X] 给任务添加评分板评语\n- ~~基地中心单元设置的初步尝试~~\n- [X] 零碎内容、未添加教程（待修改）\n- [X] 制作多人联机任务必须注意的\n- [X] 多人合作任务教程\n- [X] 关于地图内部数据解析\n- [X] 详细的隧道教程\n\n- [X] 了解游戏，游戏入门，快捷键大全\n- [X] 官方地图与任务\n- [X] Ra2和YR单位属性大全\n- [X] 地图加密办法\n- 联机对战等（待修改）【暂不】\n- RA3相关（已更新）【暂不】\n\n> 内容二期\n\n新版新增：\n\n- 地图灯光【正在】\n- [X] 地图查错\n- [X] 地图加密\n- [X] 地图测试【正在】\n- [X] 难度控制【正在】\n- 空气墙【暂不】\n- 思维相关【暂不】\n- 进阶美化操作【暂不】\n- [X] 地图设计【正在】\n\n## 框架未完工\n\n> 框架一期\n\n- [X] 目录树的分类的点击行为\n- [X] 自动滚到当前目录条目\n- [X] 作者与打赏相关，\n- [X] 1300-1700宽度适配\n- [X] 打赏适配移动端\n- [ ] 添加`","link":"/posts/dev","content":"\n## 未完工文章\n\n过段时间会上传文章仓库，授权给有意者合作编辑\n\n> 内容一期\n\n来自旧版：\n\n- [X] 调试游戏与故障解决\n- [X] Zero Fanker的地图制作分享（等待恢复）\n- [X] 地图出错了怎么办\n\n- [X] 树木外形对照\n- [X] 地图光照与局部灯光的控制（待修改）\n- [X] 灯光建筑的使用\n- [X] 灯光建筑INI编写\n- [X] 海底地图效果\n- [X] 昼夜循环\n- [X] 自定义遭遇战地图的预览图\n- [X] 战役中所属方颜色 图解说明\n\n- [X] 给任务添加评分板评语\n- ~~基地中心单元设置的初步尝试~~\n- [X] 零碎内容、未添加教程（待修改）\n- [X] 制作多人联机任务必须注意的\n- [X] 多人合作任务教程\n- [X] 关于地图内部数据解析\n- [X] 详细的隧道教程\n\n- [X] 了解游戏，游戏入门，快捷键大全\n- [X] 官方地图与任务\n- [X] Ra2和YR单位属性大全\n- [X] 地图加密办法\n- 联机对战等（待修改）【暂不】\n- RA3相关（已更新）【暂不】\n\n> 内容二期\n\n新版新增：\n\n- 地图灯光【正在】\n- [X] 地图查错\n- [X] 地图加密\n- [X] 地图测试【正在】\n- [X] 难度控制【正在】\n- 空气墙【暂不】\n- 思维相关【暂不】\n- 进阶美化操作【暂不】\n- [X] 地图设计【正在】\n\n## 框架未完工\n\n> 框架一期\n\n- [X] 目录树的分类的点击行为\n- [X] 自动滚到当前目录条目\n- [X] 作者与打赏相关，\n- [X] 1300-1700宽度适配\n- [X] 打赏适配移动端\n- [ ] 添加`<!-- more -->`【暂不】\n- [X] 整理并添加表情【暂不】\n- [ ] 其他见word文档\n- [X] 网站密码的暗色模式\n- [ ] 分类内文章顺序【暂不】\n- [X] 自动展开所有分类\n- [X] 搜索按钮\n- [X] 天气特效\n- [ ] 天气设置【暂不】\n- [X] 更新日志\n- [ ] 更新提醒【暂不】\n- [X] 打赏动画\n- [X] 云朵特效优化\n- [X] 右栏按钮区分站内外链接\n- [X] 旧版访问兼容\n- [ ] 设置按钮，修改特效等【暂不】\n- [X] 隐藏主页首屏\n- [X] 留言板\n\n> 框架二期\n\n- [ ] 看板小人【暂不】\n- [ ] 网站统计\n- [ ] 设置【暂不】\n- [ ] 更新提醒【暂不】\n\n\n> 上游\n\n- [X] 扭曲的数字字体\n- [X] 文章目录相关（太长时）\n- ~~自定义组件插槽内容渲染~~\n- 更新后，记得更新自定义组件\n- 标签图标\n- 搜索增强【暂不】\n- [X] 修改md时，node文件占用报错\n- 图片文字放大发虚\n- 好像修改图标和部分fm不会热更新"},{"title":"【未完成】任务难度控制","tags":["进阶","系列"],"categories":"其他教程","author":"天雪酱","excerpt":"用于控制任务的整体难度，或者做难度分级。\n\n## 任务的总体难度\n\n控制某一关卡的总体难度可以从以下角度入手：\n\n**平衡性**：确保玩家和敌对势力之间的平衡。一般来说，作者总是让玩家的兵力弱于敌人，","link":"/posts/difficulty-control","content":"用于控制任务的整体难度，或者做难度分级。\n\n## 任务的总体难度\n\n控制某一关卡的总体难度可以从以下角度入手：\n\n**平衡性**：确保玩家和敌对势力之间的平衡。一般来说，作者总是让玩家的兵力弱于敌人，然后让玩家靠智谋和地形来取胜。不过这种不对称的平衡也需要把握。一般可通过限制己方科技水平、增加敌军数量来增加难度。最好是想办法让 AI 更智能。当然，一味地堆量，让防御塔排成墙，是不推荐的。\n\n**任务复杂度**： 任务越复杂，难度越高。但请把任务目标和玩法清晰地告诉玩家。\n\n**资源控制**：控制地图上各类资源的丰富程度和位置，从而影响玩家的建造和扩张速度，使玩家需要在资源有限的情况下做出决策。\n\n总体来说，创作者既要根据实际剧情安排，确定以上影响难度的因素，又要对其进行微调，从而划分出不同的难度等级。\n\n## 难度分级\n\n> 游戏设计中的难度分级对于游戏体验至关重要。通过巧妙地设计难度，游戏可以保持玩家的兴趣和挑战性，同时也能让不同水平的玩家都能找到适合自己的游戏难度。以下是难度分级的意义：\n> \n> 1. 提供挑战性： 适当的难度可以让玩家感到挑战和成就感，激发他们的兴趣和动力。\n> 2. 增加可玩性： 不同难度级别可以增加游戏的可玩性，让玩家有更多的选择和体验。\n> 3. 吸引不同玩家： 设计多个难度级别可以吸引不同水平和偏好的玩家，增加游戏的受众群。\n> 4. 提高游戏深度： 通过调整难度，可以让玩家更深入地了解游戏机制和策略，增加游戏的深度和复杂性。\n> \n> 通过合理设计难度分级，游戏可以更好地吸引玩家、提升游戏体验，并增加游戏的持续性和趣味性。\n\n通过调整触发界面触发的难度对勾，即可让其仅在指定难度生效。\n\n### 金钱\n\n将以下代码内置于地图，即可设定不同难度下的初始金钱。其也会影响 AI 的金钱。\n\n```ini\n[General]\nCampaignMoneyDeltaEasy=10000 ;简单难度下多10000金钱  \nCampaignMoneyDeltaHard=-10000 ;困难难度下少10000金钱\nPrismSupportModifier=150%\n```\n\n如果要中途加减金钱，可以将一个换皮油井（移除加钱代码）更改所属到玩家，玩家会像占领一样获得一些金钱。也可以用触发售卖一个建筑，不过会听到售卖的语音。可以播放更高优先级的语音覆盖。\n\n```ini\n[CAOILD换皮]\nProduceCashStartup=1000 ;金钱\nProduceCashAmount=20 ;去掉\nProduceCashDelay=100 ;去掉\n```\n\n### 兵力\n\n**小队**：让不同难度有不同的刷兵造兵间隔、兵力数量、种类\n\n**超级武器**：如简单难度下敌方有更少的超武，或是更晚才建造超武，或是通过换皮使其冷却时间更长。 _（另外，一般任务中，10分钟一次的超武略显频繁，建议使用内置 ini 将其延长）_\n\n**防御和驻军建筑**：如简单难度下`60 变卖关联建筑`变卖防御塔，困难难度下刷出更多兵驻扎平民建筑（对于 AI，用攻击路径点进驻建筑，建筑被毁后会原地呆着，用 64 号脚本则会立即寻找下个建筑）\n\n**科技类型**：比如困难难度禁止玩家造无畏舰。`106 设置科技等级(科技类型)[等级]`，设置特定的科技（ini 注册名）到特定的等级。只有1～10是可建造的，负数等级的建筑 AI 可造而玩家不能，11及以上等级的建筑 AI 和玩家均不可造。\n\n### 属性\n\n#### 全局\n\n> [Difficulty Settings on ModEnc](https://modenc.renegadeprojects.com/Difficulty_Settings)\n> \n> 在单人任务/战役中，如果玩家选择以简单难度级别进行游戏，则游戏将使用 [简单] 部分中的玩家值，而计算机/AI 将从 [困难] 部分获取值。如果玩家选择以中/正常级别进行游戏，则玩家和计算机/AI 都将使用 [Normal] 部分中的值。如果玩家选择以困难级别进行游戏，则游戏将使用 [Difficult] 部分中的玩家值，而计算机/AI 将从 [Easy] 部分获取值。\n> \n> 在遭遇战/多人游戏中，人类玩家总是从 [Normal] 难度部分获取值。困难/残酷的 AI 从 [Easy] 部分获取值。设置为 easy difficulty 的 AI 从 [Difficult] 部分获取值。正常/中等难度设置下的 AI 从 [Normal] 部分获取其值。RepairDelay、BuildDelay、DestroyWalls 和 ContentScan 字段仅影响计算机播放器。\n> \n> Armor、Cost、Airspeed、Groundspeed、BuildSlowdown、BuildDelay 和 ContentScan **已过时**。FirePower 和 ROF 适用于人类和 AI 玩家。RepairDelay 和 BuildTime 仅供 AI 玩家使用。BuildTime 不是通用构建时间段的乘数，而是 TeamDelays 值的乘数。带有 CostBuildingsMult 等字段的新系统已用于 Country Statistics，但不用于 Difficulty Settings。\n\n```ini\nrulesmd 里3个标签\n[Easy]\nGroundspeed=1.0\nAirspeed=1.0\nBuildTime=.8\nArmor=1.2\nROF=.8\nCost=1.0\nRepairDelay=.02\nBuildDelay=.03\nDestroyWalls=no\nContentScan=yes\n\n[Normal]\nGroundspeed=1.0\nAirspeed=1.0\nBuildTime=1\nArmor=1.0\nROF=1.0\nCost=1.0\nRepairDelay=.02\nBuildDelay=.03\nBuildSlowdown=yes\nDestroyWalls=no\nContentScan=yes\n\n[Difficult]\nGroundspeed=1.0\nAirspeed=1.0\nBuildTime=1.0\nArmor=.8\nROF=1.2\nCost=1.0\nRepairDelay=.05\nBuildDelay=.1\nBuildSlowdown=yes\nDestroyWalls=no\n```\n\n#### 局部\n\n\n\n英雄buff，换皮或AE调整英雄强度\n\n### 其他\n\n**中立建筑**：困难难度下初始让敌方占领，或干脆直接摧毁。含有`NeedsEngineer=yes`的建筑，需要更改一次所属后才会生效。\n\n**小木箱**：简单难度下有更多获得机会\n\n**提示**：简单难度下，时不时令副官提醒玩家如何操作\n\n**限时**：限时进攻，越紧迫越困难；限时防守，越久越难\n\n### 不建议分级的内容\n\n不建议让任务的不同难度拥有**不同的流程和任务目标**，因为这可能会使部分玩家无法体验到完整的任务，无法经历相同的故事。如果你就是想讲不同的故事，为什么不设置分支剧情呢？\n\n不建议设置高难度下必须找到才能过关的**彩蛋**，以及无缘无故的惩罚，除非你做的是解谜任务。\n\n## 如何把握难度\n\n一般地，降低“简单”难度的难度，增加“困难”难度的难度似乎是一种趋势。同时，困难难度**一定要让人可以通关**，为玩家准备至少一条通关路径，不走后门。不要出现作者（或测试员）自己都打不过的情况。\n\n就我观察，玩家中有好多人都是无脑选困难难度的，打不过又死磕，闹情绪，难以评价。所以如果你任务难度很高，还是要提醒玩家一下，非高手勿选困难。\n\n---\n\n制作组把握任务的整体难度需要大量的测试，可以采取以下测试方法：\n\n1. 内部测试： 组建一个专门的测试团队，确保测试团队中有不同水平的玩家，以便从不同角度评估关卡难度。\n\n2. 用户测试：邀请外部玩家参与关卡难度测试，收集玩家的反馈和意见，了解他们对关卡难度的感受和建议。\n\n3. 数据分析：记录玩家在关卡中的表现数据，如通关时间、敌我阵亡比例等。行为分析： 分析玩家的行为模式，了解他们在面对不同难度关卡时的决策和反应。\n\n实际上，任务难度的测试和调整往往非常麻烦，并且非常耗费时间。尤其是地图内小队较多时。这非常考验测试者的耐心。\n\n## 动态难度机制\n\n即**玩家越强，敌人越强**。玩家水平可以通过玩家的进攻或防守效率、推进速度、敌我阵亡比例粗略判定，多次判定会更准确。此机制可作为固定难度的补充，更加**照顾**菜鸟玩家的体验，同时让高手的体验**更有挑战性**，不乏味。\n\n此机制应谨慎使用，确保其不会产生误判，不会导致游戏体验不稳定或不公平，不会被刻意利用故意降低难度。一个比较好的方式是，明确提醒玩家某个危险，并告知其后果，看玩家是否愿意承受。比如，告知某个小兵将要报信，引来大量敌军；或是提醒某处将有基地车登陆，可以轻易拦截。乐于挑战的玩家可能故意不去拦截。\n\n仅为理论猜想，除 *可选的“无限防守”* 外，暂未发现相关实践。我自己也并未实践。\n\n---\n\n> 本文使用了生成式 AI 技术辅助编写，赞美科技！\n"},{"title":"修改地形，地形对象，覆盖图等","tags":["高级"],"categories":"自定义游戏资源","author":"天雪酱","excerpt":"制作地形需要 TMP Builder，具体看以下教程（主要前两个），注意新的地形只有放入 mix 文件（expandmd**.mix）中才能被地图编辑器和地图渲染器读取！\n\n* [[注释]地形ini说","link":"/posts/edit-terrain-etc","content":"制作地形需要 TMP Builder，具体看以下教程（主要前两个），注意新的地形只有放入 mix 文件（expandmd**.mix）中才能被地图编辑器和地图渲染器读取！\n\n* [[注释]地形ini说明书 - ra2diy](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=17358)\n* [[教程]tmp地形绘制入门 - ra2diy](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=18134)\n* 旧版地形教程初回版（戴子玲，2019），包含TB使用指北，地形ini注解，地形教程简述\n* 旧版蜘蛛星云教程\n* [红警地形实例制作教程 - bilibili](https://www.bilibili.com/read/cv16854614/)\n* 关注B站@雷德克里莫@戴子玲Himeko\n\n<TxDownload size='302KB' netdisk='' direct='TMP Builder.zip' name='TMP Builder.zip' />\n<TxDownload size='298KB' netdisk='' direct='地形教程初回版.zip' name='地形教程初回版.zip' />\n<TxDownload size='5KB' netdisk='' direct='地形，地形动画，地形对象制作流程by蜘蛛星云.txt' name='地形，地形动画，地形对象制作流程by蜘蛛星云.txt' />\n\n覆盖图与地形一样，也是每种气候各1个素材，使用iso\\*\\*\\*系列色盘，它是使用 SHP Builder 编辑，需要在`[OverlayTypes]`注册。好像没有专门的教程。"},{"title":"FA2基础教程收集","tags":["入门"],"categories":"基础与综合","author":"天雪酱","excerpt":"\n[[toc]]\n\n## 多关任务的命名\n\nYR1.001平台下，多关任务默认名称为\n\n```\n     盟军          苏联\nall01umd.map | sov01umd.map\nall0","link":"/posts/fa2-basic","content":"\n[[toc]]\n\n## 多关任务的命名\n\nYR1.001平台下，多关任务默认名称为\n\n```\n     盟军          苏联\nall01umd.map | sov01umd.map\nall02umd.map | sov02smd.map\nall03umd.map | sov03umd.map\nall04dmd.map | sov04dmd.map\nall05umd.map | sov05umd.map \nall06umd.map | sov06lmd.map\nall07smd.map | sov07tmd.map\n```\n\n为什么：umd 的 u 代表 urban，表示这关是城市地形， 后面还有雪地，就是 smd ，月球就是 lmd。md 代表尤里复仇。\n\n## 给任务添加评分板评语\n\n以记事本形式打开任务，在开头或结尾写下并修改键值，xxx 需要在 csf 中编辑：\n\n```ini\n[Ranking]\nParTimeEasy=00:12:00;简单模式平均任务时长\nParTimeMedium=00:12:00;普通模式平均任务时长\nParTimeHard=00:12:00;困难模式平均任务时长\nOverParTitle=xxx:xxx;未按时完成时的标题，原版为军衔名称\nOverParMessage=xxx:xxx;未按时完成时的评语\nUnderParTitle=xxx:xxx;已按时完成时的标题，原版为军衔名称\nUnderParMessage=xxx:xxx;已按时完成时的评语\n```\n\n> 若你使用 FA2SP，也可以在 编辑 -> 单人任务设置 中填写。\n\n## 简单全面的任务实例教程\n\n> by 909\\*\\*\\*\\*17\n\n简单而全面的任务教程，简明任务流程，完整的步骤。附带**一个做好了的任务包**，除电影外，完整的任务，包含各种效果。文档也在里面，涉及\n\n1. 地图，基本触发\n2. 任务基本文字\n3. 载入图\n4. 本教程演示一些触发\n5. 评价屏\n\n<TxDownload size='8.75MB' netdisk='' direct='简单全面的任务教程（看说明）' name='简单全面的任务教程（看说明）' />\n\n## 地图编辑器介绍（简明版）\n\n> By reinforcements\n\n首先打开地图编辑器，新建立一张地图。新建立时候“战场类型”的选择关系到实际画地形的时候可以用哪些部件，元素。比如只有雪地的战场类型房子才是带雪的，其他战场类型是画不出这样的房子的。而且每个战场类型都有他特殊的可用元素。 \n\n图标按钮上有很多画地形时候要用的工具，我先说下**几个常用的按钮**。从左到右： \n\n- 升高地表（逻辑斜坡）：当你想做一个小山包的时候，或者制造路面不平的效果的时候这个功能是很好用的 \n- 降低地表（逻辑斜坡）：同上，用来做个小坑很不错。不用你亲自添加连接高低地面的斜面了，很方便。 \n- 隐藏地形块：制作悬崖地形的时候的重要工具，没有他悬崖就做的不完美了。 \n- 显示地形块：同上 \n- 升高单个地形块：用来给地图做微调的 \n- 降低单个地形块：同上，改动后不会自动生成连接高低地面的斜面，要你自己动手添加。 \n- 框架模式：能够用颜色很清楚的表现现在地形高度，让你分清楚哪些是地形元素，哪些是覆盖图元素。 \n- 画笔尺寸：当你要大规模的画地图的时候1格格的画效率不够，可以调多格1次成型。 \n\n**不推荐**使用的按钮： \n\n- 自动悬崖：方向和格式都受很大限制，不能自如的画出自己想要的悬崖。 \n- 自动升高地表：这个是用来在你话了悬崖后使悬崖后面的地形升高到跟悬崖一样的高度。但是用的时候经常会发生小意外，升高了不该升高的部分。而且当你画了很多悬崖以后1次性用这个功能升高地表会造成死机的（起码我会死机，可能是我的配置不够……） \n- 自动海岸：这个其实没什么坏处，但是默认你放置水面的时候就已经有自动海岸生成了，再用这个也没什么用了。自己画海岸很累，而且通常没有电脑自动画的好\n\n然后是右边的**树型目录栏**\n\n- 地表：根据名字，可以画出草地，公路，水面等不同的地面效果。 \n- 更改对象所属：对地图上已经存在的单位或者建筑改变他的所属势力。对民用建筑也有效。 \n- 步兵：游戏中的生物都在这里了，从美国大兵到猴子鳄鱼可以随便选择。 \n- 交通工具：游戏中所有的车辆都在这里了，从天启坦克到校车警车都在这里。 \n- 飞行器：各种飞机，能被拦截的火箭都在这里。除了入侵者和黑鹰，其他的飞行器没有移动力。 \n- 建筑：苏，盟，尤的军事建筑都在，而且所有平民建筑也在这里。包括桥梁小屋。 \n- 地形对象：可以为地图添加树木，街道红绿灯。最重要的矿石产生器也在这里，放了这个矿石就可以不断生长了。 \n- 污染：就是炮弹的弹坑了，如果你想要表现战争浩劫过后的废墟这个元素必不可少啊。 \n- 特殊/覆盖：这里有矿石，可以给地图上添钱。还能绘制各种围墙。这个围墙跟建筑里的围墙的区别是，这个围墙不属于任何一方，各方都只能摧毁它来通过，而且不能卖掉它。而在建筑里设定的围墙是要属于某一方的，而该方可以卖墙换钱。 这里最重要的功能是可以画桥梁，有普通和高架桥的区别，但是画法都是一样的。 \n\n用这个树型目录我们可以很方便的添加我们需要的各种东西。正是先有这些东西做基础，才能有后面的设置触发。\n\n## 地图开荒手册\n\n<TxCard title=\"开荒手册 - FA实战技巧.doc\" url=\"../attach/开荒手册 - FA实战技巧.doc\" author=\"Saite\" date=\"2006-8-15\" imgPath=\"/img/noimage.png\" size=\"large\">\n\n        一、认识FA的整体界面\n        二、认识FA的树型目录\n        三、认识FA的功能菜单\n        四、认识FA的地块图象集\n        五、白手起家，新建地图\n        六、实战技巧，\n            1、绘制山脉/高台\n            2、手动修正海滨\n            3、快速选择地块\n            4、隐藏地块法添加山脉/高台背面\n            5、擦除高地法插入桥头/斜坡\n            6、高度适应填补法\n            7、千变万化的植被\n            8、变幻莫测的地表图象\n            9、铺路速度加快3倍\n            10、处理水、岸及山脉的交界\n            11、从地图左上拉到右下的长桥\n            12、怪异的隧道通道\n</TxCard>\n\n## 任务制作核心内容第九期\n\n介绍一款任务制作手册，虽然年代久远（可能早于2014年），但还是有很多值得一看的内容。\n\n![](/img/manual9.png)\n\n<TxDownload size='3.78MB' netdisk='' direct='任务制作核心内容第九期.chm' name='任务制作核心内容第九期.chm' />\n\n目录结构如图所示，其中**基本内容**分别讲了其子内容，还有一些常用代码，**触发**里讲了触发及其**标签**的关系。\n\n关于标签，默认情况下，每个标签都与一个触发相对应，平时我们不需要手动去修改**标签**选项卡，只是了解标签的概念就好。当我们修改触发的重复类型时，其实修改的是对应标签的触发类型，我们把单位**关联上触发**的时候，仔细看你会发现，其实是**关联上了标签**。我们**关联触发**的时候，也是**主触发**把它的标签（原生的和其他触发给的）共享给了**从触发**（被关联者）。关联触发的具体方法，见\n\n- 【触发与小队】如何关联触发\n- 【其他教程】关于地图地图内部数据解析\n\n**创意内容**章节，讲了RPG任务和战略任务等，非常有趣。\n\n> 百科：角色扮演游戏（Role-playing game）是一个游戏类型。角色扮演游戏的核心是扮演。在游戏玩法上，玩家扮演一位角色在一个写实或虚构的世界中活动。\n\n> 手册：RPG形任务，有两种。一种是传统型RPG任务。即玩家在游戏中扮演一个角色，整场游戏几乎只控制主角。而另一种为副本型RPG任务，需要玩家操纵几个有不同能力的主角，配合完成任务。\n\n这是不同与传统任务的一种任务类型，如果做好了会非常有趣，早年有不少精彩的RPG任务，比如魔王的宫殿、丛林探险系列和一些单兵任务，任务之家上面有很多，不过近些年来却不太流行了。具体设计参见手册。\n\n"},{"title":"FA2工具脚本相关","tags":["高级"],"categories":"其他教程","author":"天雪酱","excerpt":"## 介绍\n\nFA2 工具脚本是一些`.fscript`类型的脚本文件，在 FA2 的`script`目录下。通过 FA2 菜单栏的工具 -- 工具脚本来使用。英文版语法说明在 FA2 的`/Help","link":"/posts/fa2-script","content":"## 介绍\n\nFA2 工具脚本是一些`.fscript`类型的脚本文件，在 FA2 的`script`目录下。通过 FA2 菜单栏的工具 -- 工具脚本来使用。英文版语法说明在 FA2 的`/Help/CONTENT/fscript.HTM`目录下。不过它很难用，已经严重过时，不建议再写新的了。想写还是用别的编程语言写叭。\n\n## 下载\n\n一份脚本大全，囊括了联盟版瑞雪里的和一些 fa2sp 整合版里的和4个竹蜻蜓的脚本。4个改单位状态的脚本因 fa2sp 有格式刷，已被移除。\n\n<TxDownload size='108KB' netdisk='' direct='破人工具脚本大全2.8.zip' name='破人工具脚本大全2.8.zip' />\n\n```text\n破人工具脚本大全2.8\n├── ChageLog.txt\n├── Scripts\n│   ├── 24小时光照循环脚本 极音艾可.fscript\n│   ├── 【函数】将路径点数字形式转换为字母形式.fscript\n│   ├── 【函数】计算已用的路径点数目.fscript\n│   ├── 【增加脚本】进入回收站.fscript\n│   ├── 【触发组】24小时光照循环脚本 极音艾可.fscript\n│   ├── 【触发组】亮度从亮逐渐变暗.fscript\n│   ├── 【触发组】亮度从暗逐渐变亮.fscript\n│   ├── 【触发组】删除多人游戏中的所有初始基地车.fscript\n│   ├── 【触发组】帧计时与帧对齐.fscript\n│   ├── 【触发组】招募所属方所有某种单位执行脚本.fscript\n│   ├── 【触发组】检测多人玩家是否存在(位置).fscript\n│   ├── 【触发组】设置多个运输船卸载返回小队.fscript\n│   ├── 【触发组】设置多组无限关联触发.fscript\n│   ├── 【触发组】设置多组查了比式刷兵.fscript\n│   ├── 【触发组】设置多组死后重刷的小队.fscript\n│   ├── 【触发组】设置多组破雷式刷兵.fscript\n│   ├── 【触发组】选择系统.fscript\n│   ├── 一键全图下雨 BY prry.fscript\n│   ├── 一键全图下雨_快速版 BY prry.fscript\n│   ├── 全图覆盖可恢复迷雾.fscript\n│   ├── 创造原版大苹果全屏红光心控特效（禁用超武）by prry.fscript\n│   ├── 批量修改所属方.fscript\n│   ├── 批量修改步兵状态byprry.fscript\n│   ├── 批量修改载具状态byprry.fscript\n│   ├── 批量修改飞机状态byprry.fscript\n│   ├── 批量随机修改建筑生命值by竹蜻蜓.fscript\n│   ├── 批量随机修改步兵生命值byprry.fscript\n│   ├── 批量随机修改载具生命值byprry.fscript\n│   ├── 批量随机修改飞机生命值byprry.fscript\n│   ├── 改变路径点间距 prry版.fscript\n│   ├── 添加地图作者信息byprry.fscript\n│   ├── 添加计分屏信息by竹蜻蜓.fscript\n│   ├── 设置建筑AI修复by竹蜻蜓.fscript\n│   ├── 设置建筑AI变卖byprry.fscript\n│   ├── 载具随机朝向.fscript\n│   ├── 随机产生树木by prry.fscript\n│   ├── 随机产生污染by竹蜻蜓.fscript\n│   └── 随机产生路径点by prry.fscript\n├── 联盟版工具脚本\n│   ├── 【函数】事件链 .fscript\n│   ├── 【函数】字母到数字v1.0.fscript\n│   ├── 【函数】输出单位信息.fscript\n│   ├── 【增加脚本】进入回收站.fscript\n│   ├── 【结构】判断循环结构v1.0 .fscript\n│   ├── 【结构】计次循环结构v1.0 .fscript\n│   ├── 【结构】选择结构v1.0  .fscript\n│   ├── 【范例】寻找10个可用注册号v1.0.fscript\n│   ├── 【触发组】24小时光照脚本4种光照1.0.fscript\n│   ├── 【触发组】FlyingZ生存地图一键脚本 v2.2.fscript\n│   ├── 【触发组】非人性化脚本——一键生成蜘蛛星云生存地图1.0.fscript\n│   ├── 创造YR苏联第4关的照明.fscript\n│   ├── 创造YR苏联第7关的照明.fscript\n│   ├── 创造下午光照.fscript\n│   ├── 创造早上光照.fscript\n│   ├── 创造晚上光照.fscript\n│   ├── 创造黄昏光照.fscript\n│   ├── 取消黑幕.fscript\n│   ├── 增加光棱+幻影攻击AI触发.fscript\n│   ├── 增加动员兵攻击AI触发.fscript\n│   ├── 增加天启攻击AI触发.fscript\n│   ├── 将地图扩大50x50.fscript\n│   ├── 将矿场取消并使基地成为油井.fscript\n│   ├── 改变路径点间距.fscript\n│   ├── 添加开局全屏测试触发.fscript\n│   ├── 移动4个初始点到地图角落1.0.fscript\n│   ├── 移动4个初始点到地图角落2.0.fscript\n│   ├── 设置所有步兵可被AI重组.fscript\n│   ├── 设置所有载具可被AI重组.fscript\n│   ├── 设置所有飞行器可被AI重组.fscript\n│   ├── 随机延时闪电风暴打击（禁用超武）.fscript\n│   ├── 随机步兵朝向.fscript\n│   ├── 随机载具朝向.fscript\n│   └── 随机飞行器朝向.fscript\n├── 联盟版工具脚本.zip\n└── 说明.txt\n```\n\n\n\n\n"},{"title":"FA2：联盟版地编","tags":["入门"],"categories":"工具与调试","author":"天雪酱","excerpt":"**★瑞雪(20210417)★**\n\n<TxDownload size='1.87MB' netdisk='' direct='FinalAlert2联盟版-瑞雪(20210417).7z' nam","link":"/posts/fa2","content":"**★瑞雪(20210417)★**\n\n<TxDownload size='1.87MB' netdisk='' direct='FinalAlert2联盟版-瑞雪(20210417).7z' name='FinalAlert2联盟版-瑞雪(20210417).7z' />\n\n**更新说明：**\n\n- 1、中秋版：修正了不能创建多人地图的BUG。\n- 2、元旦版：除去了一些没啥用的工具。\n- 3、中元版：继续修正触发说明，除去没啥用的工具，修正普通版也可以看到隐藏单位的BUG。\n- 4、元宵版：合并FADATA，继续修正触发说明，隐屏无效果的触发条件动作，显示有效果的。\n- 5、破晓版：修正部分触发说明，并**增加大量触发的说明文字**，更方便制作者制作。\n- 6、瑞雪版：支持ARES平台，新增**复制小队**等功能。\n\n**使用说明：**\n\n联盟版编辑器-瑞雪（ARESNOW）基于原有的联盟版编辑器-破晓的基础上更新，加载了 AlexB 制作的 FA2Ext.dll，任务制作者能够使用该编辑器对于基于 ARES 的任务进行简单的制作。\n\n第一次使用请复制“在游戏目录下注册.exe”这个文件到游戏根目录，然后运行一次，才能打开编辑器。\n\n**FinalAlert2YR.exe：【新手使用】** 普通的联盟破晓版本地图编辑器。\n\n**FinalAlert2OR.exe：【推荐使用】** 可以编辑 ARES 新增的触发行为与条件、动作脚本等，支持复制作战小队和动作脚本，支持动作脚本移位。若用于非 ARES 任务，请避免使用 ARES 新增的触发行为与条件、动作脚本等（若不知道，请先使用 FinalAlert2YR.exe）。\n\n**FinalAlert2ARES.exe：【仅有需要者使用】** 支持含[#include]语句的ini，详见压缩包内说明。\n\n另外，编辑器内自带离线网页版教程（HELP--INDEX.HTM）、FlyingZ帮助手册\n\n::: tip\n使用时遇到各种问题，详见【调试游戏及故障解决】条目\n:::\n\n瑞雪版本已附带：WIN10下地图编辑器可能需要的补丁：Final Alert ddraw fix，解决FA2非常卡，甚至出错无法运行的问题，解压后将文件放入地图编辑器根目录即可，补丁来自 [http://www.pkuit.com/forum.php?mod=viewthread&tid=201316](http://www.pkuit.com/forum.php?mod=viewthread&tid=201316)\n\n\n"},{"title":"FA2sp：增强版地编","tags":["入门"],"categories":"工具与调试","author":"天雪酱","excerpt":"## 介绍\n\n> FA2sp 是 secsome 发起的一个引擎扩展项目，旨在为 FinalAlert2 提供一组基于 FA2pp 和 Syringe 的**新功能和修复程序**，以允许注入代码。虽然","link":"/posts/fa2sp","content":"## 介绍\n\n> FA2sp 是 secsome 发起的一个引擎扩展项目，旨在为 FinalAlert2 提供一组基于 FA2pp 和 Syringe 的**新功能和修复程序**，以允许注入代码。虽然 AlexB 的 FA2sp 独立于 FA2Ext ，但您不能将 FA2sp 与使用 FA2Ext 一起使用。目前， FA2sp 使用带有 /std:c++20 的 Visual Studio 2022（v143）来构建最新版本。由于开发者的精力有限，从 1.6.0 版本开始， FA2sp 将不再支持除尤里的复仇 1.01 和基于它的 MOD 之外的任何版本。请理解。\n\n相对于旧版地图编辑器，FA2sp支持复制作战小队、复制/插入/移位动作脚本、单位属性笔刷、图层、预览灯光、建筑损伤预览、自动保存、地形分组、更多撤回步骤等功能（详见配置），极大提高了地图制作效率和体验。[[FA2开源扩展] FA2sp 1.0.0 - 哔哩哔哩](https://www.bilibili.com/read/cv12648269/)，[早期介绍](https://www.bilibili.com/read/cv19099693/)\n\n## FA2sp本体\n\nFA2sp 本体只有2个核心文件，**CncVxlRenderText.dll 和 FA2sp.dll**，github 仓库：[https://github.com/secsome/FA2sp](https://github.com/secsome/FA2sp)，可以在 Releases 页下载\n\n**1.6.3** 版的国内镜像加速下载：\n\n* https://mirror.ghproxy.com/https://github.com/secsome/FA2sp/releases/download/Release1.6.3/CncVxlRenderText.dll\n* https://mirror.ghproxy.com/https://github.com/secsome/FA2sp/releases/download/Release1.6.3/FA2sp.dll\n* 配置说明书：https://mirror.ghproxy.com/https://raw.githubusercontent.com/secsome/FA2sp/master/DOCUMENT.md\n\n你需要将它加入到一份 FA2 中才能使用（不能加入到联盟版和 FA2Ext 版中，详见后文），如果你有旧版 FA2sp，也可以加入它来**升级**。\n\n## 整合版FA2sp\n\n适用于尤里的复仇，相对于原版FA2，修正了很多触发描述和汉化不完全的问题，并且添加了部分 Ares3.0 和 Phobos 新增触发。\n\n咱找到的一份深度定制版（1.6.2版，不可替换文件更新）：[https://wwl.lanzoul.com/izlFG1omkfra](https://wwl.lanzoul.com/izlFG1omkfra)\n\n其他（1.4.0.1版，可替换文件更新，请手动修改 FAData.ini 内[ExtConfigs]，由 caco 提供）：[https://pan.baidu.com/s/1KiJFochCFo9JJpCBYCRDIg](https://pan.baidu.com/s/1KiJFochCFo9JJpCBYCRDIg)密码：caco\n\n::: details 配置，在 FAData.ini 内\n```ini\n[ExtConfigs]\nBrowserRedraw=Yes                                   ;启用新的对象浏览器试图（左侧边栏）\nModernObjectBrowser=No                              ;启用实验性对象浏览器。（暂时没用）\nObjectBrowser.GuessMode=0                           ;猜测科技类型所属阵营的方式，0（默认）使用先决条件，1使用Owner第一项\nObjectBrowser.CleanUp=Yes                           ;是否清除空物品\nObjectBrowser.SafeHouses=Yes                        ;是否重整所属方\nAllowIncludes=Yes                                   ;是否读取[#Include]中额外的ini条目\nAllowPlusEqual=Yes                                  ;是否读取注册表中的+=项\nStringtables=Yes                                    ;是否读取Stringtablexx.csf中的项目\nTutorialTexts.Hide=Yes                              ;隐藏注册名后面的CSF值，可以减少延迟\nTutorialTexts.Fix=Yes                               ;替换原始的把文本加入组合框中的方式\nSortByTriggerName=Yes                               ;按名称顺序排列触发\nAdjustDropdownWidth=Yes                             ;允许自动调整下拉框宽度\nAdjustDropdownWidth.Factor=6                        ;单个字符占用的宽度，默认为8\nAdjustDropdownWidth.Max=360                         ;最大宽度，默认为360\nCopySelectionBound.Color=0,255,0                    ;复制地形时边界框的颜色\nCursorSelectionBound.Color=0,0,255                  ;鼠标所在单元格的颜色\nCursorSelectionBound.HeightIndicatorColor=255,0,0   ;高度线的颜色\nWaypoint.Background=No                              ;是否给路径点添加背景\nWaypoint.Background.Color=128,128,128               ;路径点背景颜色\nWaypoint.Color=255,255,0                            ;路径点颜色\nWaypoint.Text.ExtraOffset=0,0                       ;路径点文本额外的 X 和 Y 轴偏移，默认为 0,0\nExtWaypoints=Yes                                    ;是否使用无限路径点（需要Phobos）\nSaveMap.AutoSave=No                                 ;是否自动保存地图\nSaveMap.AutoSave.Interval=120                       ;自动保存的间隔，单位为秒。应大于或等于30，默认300\nSaveMap.AutoSave.MaxCount=-1                        ;自动保存时最多留存备份的数量，-1将不会自动清除备份，默认为10\nSaveMap.OnlySaveMAP=No                              ;是否只保存.map扩展名的地图\nSaveMap.DefaultPreviewOptionMP=0                    ;保存多人地图时用于预览生成的默认选项。0 = 总是生成新预览，1 = 不生成新预览，2 = 总是生成隐藏预览，默认为 0。\nSaveMap.DefaultPreviewOptionSP=1                    ;与 MP 相同，但对于 SP（单人战役） 地图，默认为 1。\nSaveMap.SortSections=Yes                            ;保存地图时按特定分类对INI项进行排序。\nSaveMap.SortSectionType=none                        ;这些INI项排在最前面,前缀带\"List.\"的代表按照此注册表的顺序对此注册表下所有项排序，如\"List.BuildingTypes\"。\nVerticalLayout=Yes                                  ;是否将底部区域移到右侧\nUseRGBHouseColor=False                              ;是否以RGB显示阵营颜色\nUndoRedoLimit=128                                   ;撤销最大步数，默认16\nRecentFileLimit=8                                   ;保留多少最近文件。范围从 4 到 9 \nMoneyBackGround=Yes                                 ;资源显示背景\nMoneyBackGroundColor=255,255,255                    ;背景颜色\nMoneyTextColor=255,192,203                          ;字体颜色\nEnableOnlineSection=Yes                             ;是否启用网站菜单栏\nNewTileManagerStyle=Yes                             ;地形管理器样式。Yes 为 FA2SP 型，No 为 FA2Copy 型。默认Yes\nEnableMultiSelection=Yes                            ;可选中地形进行操作\nMultiSelectionColor=255,192,203                     ;被选中地形的颜色\nClearSelectionWhenSave=Yes                          ;保存地图时取消选中地形\nMultiSelectionShiftDeselect=No                      ;将取消选中单元格的热键从 CTRL+D 替换为 CTRL+SHIFT+D\nRandomTerrainObjects=No                             ;是否将所有地形对象加入随机树木中（路灯，电线杆等非树木地形对象）\nDDrawInVideoMem=Yes                                 ;是否会在显存中分配DirectDraw表面，默认为Yes\nDDrawEmulation=No                                   ;DirectDrawCreate是否使用模拟模式，默认为No\nNoHouseNameTranslation=Yes                          ;是否不将单位的阵营(House)翻译为阵营的UIName，默认为No\nMapTesterParameters=-SPEEDCONTROL                   ;地图测试时运行gamemd.exe的命令行参数\nCSFTools.INISections=csf,CSF                        ;CSF工具保存或读取的INI段\nExtendedValidationNoError=Yes                       ;当为Yes时，地图检查器会将不会报告新添加的“错误”，而会报告“警告”。（“错误”会阻止地图保存，“警告”不会）\nHideNoRubbleBuilding=No                             ;不渲染 血量为0 且 不留下废墟(LeaveRubble=no) 的建筑物 \n\n```\n:::\n\n::: tip\n使用时遇到各种问题，详见【调试游戏及故障解决】条目\n:::\n\n## MO版FA2sp\n\n适用于MO3，下载后打开 README.txt 看看怎么用\n\n下载：[https://wwuj.lanzoul.com/iwQ5F1cueapi](https://wwuj.lanzoul.com/iwQ5F1cueapi)"},{"title":"Hello, Valaxy!","tags":["valaxy"],"categories":"Valaxy 笔记","author":"天雪酱","excerpt":"\n## Valaxy\n\n<AFace face=\"nacho:0\"/>Next Generation Static Blog Framework.<AFace face=\"nacho:29\"/> ww","link":"/posts/hello-valaxy","content":"\n## Valaxy\n\n<AFace face=\"nacho:0\"/>Next Generation Static Blog Framework.<AFace face=\"nacho:29\"/> www! Modify `valaxy.config.ts` to custom your blog. Modify `valaxy.config.ts` to custom your blog. Modify `valaxy.config.ts` to custom your blog.\n\nWrite your first post!\n\n## Usage\n\n<AFace face=\"nacho:4\"/>Modify `valaxy.config.ts` to custom your blog<AFace face=\"mys:1\"/><AFace face=\"a:3\" suffix='gif'/>. Modify `valaxy.config.ts` to custom your blog. Modify <AFace face=\"mys:33\"/><AFace face=\"mys:10\"/> custom your blog. Modify `valaxy.config.ts` to custom your blog. Modify `valaxy.config.ts` to custom your blog. <AFace face=\"mys:34\" size='100px'/> Modify `valaxy.config.ts` to <AFace face=\"a:2\" suffix='jpg'/><AFace face=\"a:4\" suffix='jpg'/>custom your blog. Modify `valaxy.config.ts` to custom your blog.<AFace face=\"a:1\" size='1.8em' suffix='jpg'/> \n"},{"title":"如何让武装直升机正常起来","tags":["进阶"],"categories":["其他教程","细节"],"author":"天雪酱","excerpt":"> Ra2map：本文转载自[【任务制作者请进】关于如何让武装直升机正常起来 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=16999","link":"/posts/how-to-make-schp-work-properly","content":"> Ra2map：本文转载自[【任务制作者请进】关于如何让武装直升机正常起来 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=169996)，未转载评论区。\n>  \n>  Ra2map：另请参阅[让AI正确使用武直的姿势【完善版】 - ra2diy](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=14468)\n\n\n相信有很多任务制作者都碰到过一个现象：在任务中用援军小队召唤出的武装直升机有点不太正常，不仅没法探开黑幕，还不会受到敌人的主动攻击。更恼人的是，脚本对它还不起控制作用，它只会在出生点附近乱转，不会执行下一步动作。只有部署一次再升起，才会恢复正常。\n\n这个Bug不仅YR原版中存在，在mod——MO（心灵终结）里面也仍然存在。【就在BJ，朝鲜的铁龙坦克那关里，这个Bug很影响游戏进行。】\n\n有些人已经注意到了，我在未完成但是已经发布的《忠诚或死亡》任务中大量的使用了武装直升机，用脚本控制也没什么异常。为什么呢？因为我改了INI：\n\n```ini {3}\n[SCHP]\nSpeedType=Winged;原版是Hover\nBalloonHover=yes;原版没有\n```\n\n经测试，加上这两条代码，武直就变得特别听话啦，能探开地图，脚本也能对它进行正常的控制，敌人也会主动打它。\n\n具体原理我还不太清楚，但确实能用。注意`BalloonHover=yes`是必须的，否则直升机闲得没事就会往地上落（像夜鹰直升机一样）。而`BalloonHover=yes`不阻碍直升机部署时落地，因为武装直升机本身就有`DeployToLand=yes`。\n\n希望这个东西对任务制作者们有些帮助【可以自由的用武装直升机来进攻或巡逻啦】。\n\n有帮助就请赞一个~\n\n同时祝辛勤的任务制作者们做出更棒的任务！\n\n注：如果你不懂INI是什么，请自行恶补基础知识。"},{"title":"修改代码并内置进地图、部分示例","tags":["进阶"],"categories":"自定义游戏资源","author":"天雪酱","excerpt":"> 参考：NOG的帖子\n\n::: tip\n此文是关于 ini 的简单介绍，为地图服务，非正式教学。仅讨论`rulesmd.ini`。\n:::\n\n代码（`rulesmd.ini`）规定了单位与全局的各种","link":"/posts/ini-in-map","content":"> 参考：NOG的帖子\n\n::: tip\n此文是关于 ini 的简单介绍，为地图服务，非正式教学。仅讨论`rulesmd.ini`。\n:::\n\n代码（`rulesmd.ini`）规定了单位与全局的各种属性，修改它可以让地图更有可玩性，提高地图制作的上限。\n\n## 基本介绍\n\n`rulesmd.ini`的获取参考其他条目，内容格式：  \n  \n```ini\n[section] ;小节\nkey=value ;参数，键=值（区分大小写）\n; xxx 注释，使用英文分号表示（;）。在分号后面的文字，直到该行结尾都全部为注释。\n```\n\n打开，搜索`[E1]`，可以看到\n\n```ini\n[E1] ;注册名\nUIName=Name:E1 ;显示的名称(在 csf 文件中，美国大兵)\nImage=GI ;图像, 对应 artmd.ini, 不写则与注册名相同\nPrimary=M60 ;武器\nSecondary=Para ;副武器\nElitePrimary=M60E ;精英武器\nStrength=125 ;生命值\nArmor=none ;护甲\nTechLevel=1 ;科技等级\nSight=5 ;视野\nSpeed=4 ;速度\nCost=200 ;造价\n```\n\n### 进一步学习\n\n- 见 MK 的视频\n- [MO战役中常用的ini修改 - 哔哩哔哩](https://www.bilibili.com/read/cv17283354/)\n- [MO在内置ini中新建建筑与单位 - 哔哩哔哩](https://www.bilibili.com/read/cv18904044/)\n\n## 修改方式\n\n如果你已经获取了`rulesmd.ini`，并将它放到了游戏根目录，则在使用时，游戏根目录中的文件（所有内容）会**优先**于 mix 中的文件生效。将其使用文本编辑器打开（推荐 *Notepad3*），如遇中文乱码，注意编码为 GB2312。然后找到并修改对应的内容即可。\n\n如果是想新建一个单位，可以复制一个原有的单位然后修改，记得注册（搜原单位注册名可以搜到注册表）。如果不想修改`artmd.ini`，要在新单位添加`Image=已有的art图像（与原单位的相同，如果没有，就写原单位注册名）`。\n\n### 内置到地图 - 文本\n\n以文本方式打开地图，如遇中文乱码，注意编码为 GB2312（Notepad3：文件--编码--从文件恢复--更多--GB2312）\n\n然后你看到了许多 ini 小节，直接修改与在 FA2 中修改效果是一样的。这里只讲新加，在开头敲空行，然后输入你想要的内容：\n\n```ini\n[BFRT]\nCost=4000 ;这样战斗要塞就要4000块了\n```\n\n对于每个小节，只写你想改的键值即可，会优先于`rulesmd.ini`文件中的生效，没写的以默认为准。\n\n`artmd.ini`中的代码**无法**内置到地图。\n\n### 内置到地图 - FA2\n\n打开 FA2--编辑--INI编辑器，如上例就点击添加，输入`BFRT`，然后下拉找到它，点击添加，输入`Cost=4000`即可。\n\n## 示例\n\n设置游猎状态允许反击，让单位显得更聪明\n\n```ini\n[Hunt]\nRetaliate=yes\n```\n\n旱地图禁止造造船厂\n\n```ini\n[GAYARD]\nTechLevel=11\n\n[NAYARD]\nTechLevel=11\n\n[YAYARD]\nTechLevel=11\n```\n\n如何修改桥梁生命？\n\n```ini\n[CombatDamage]\nBridgeStrength=1500 ;这个就是桥梁的生命，数值自己改\nDestroyableBridges=yes ;这个如果写成no的话桥梁就不可摧毁 【等同于直接设置（编辑=>特定标识），但此设置有争议（疑似遭遇战与任务效果不同，未测试）\n```\n\n如何让疯狂依文的定时炸弹可以手动引爆？\n\n```ini\n[CombatDamage]\nCanDetonateTimeBomb=no ;写yes就可以手动引爆了\n```\n\n如何修改伞兵阵容？\n\n```ini\n【例】【YR平台只能空降步兵】\n苏军伞兵：6动员兵，3磁暴步兵，1鲍里斯（菁英战斗兵）\n盟军伞兵：6美国大兵，3重装大兵，1谭雅\n美国伞兵：10美国大兵，5重装大兵，1海豹部队\n尤里伞兵：6尤里新兵，3狂兽人\n\n[General]\nSovParaDropInf=E2,SHK,BORIS ;苏军伞兵阵容\nSovParaDropNum=6,3,1 ;苏军每一种伞兵的数量\nAllyParaDropInf=E1,GGI,TANY ;盟军伞兵阵容\nAllyParaDropNum=6,3,1 ;盟军每一种兵的数量\nAmerParaDropInf=E1,GGI,GHOST ;美国伞兵阵容\nAmerParaDropNum=10,5,1 ;美国每一种兵的数量\nYuriParaDropInf=INIT,BRUTE ;尤里伞兵阵容\nYuriParaDropNum=6,3 ;尤里每一种兵的数量\nPrismSupportModifier=150%\n```\n\n炮弹变核弹\n\n```ini\n[105mm23] ;名字，也可以改现有的\nDamage=9999 ;修改伤害值\nROF=60\nRange=25 ;修改武器攻击范围为25\nProjectile=Cannon \nSpeed=40\nWarhead=NUKE ;修改弹头变成核弹\nRadLevel=500 ;核弹残留计量\nReport=GrizzlyTankAttack\nAnim=GUNFIRE\nBright=yes\n```\n\n任务制作者常用的[General]的代码\n\n```ini\n;修正所有地图都会产生的 bug 塔\n;调整了建造动画和 V3 火箭的参数以优化低速情况下的游戏体验\n;如果有其他修复码，欢迎补充\n\n[General]\nBuildupTime=.035\nPrismSupportModifier=150% ;【内置General于地图时必须写这条】\nV3RocketTiltFrames=20\nV3RocketAcceleration=10\n\nCampaignMoneyDeltaEasy=5000 ;简单模式设置，这样会比地图所属方里设置的多5000\nCampaignMoneyDeltaHard=-5000 ;困难模式设置，这样会比地图所属方里设置的少5000\n;后者因前面有一个减号，当然困难模式加钱也是可以的。这两句也会影响AI的金钱。\nBuildSpeed=.3 ;建筑建造速度，每花一千元用多少分钟。可以用来调节建造速度。\n;建筑建造在水里：WaterBound=yes（如果要红3式水陆两栖建筑的话只能用PlaceAnywhere=yes）\n;单位下水的话是有三条语句：MovementZone=AmphibiousDestroyer，Locomotor={4A582742-9839-11d1-B709-00A024DDAFD1}，SpeedType=Hover。不过如果这个单位移动速度快的话会造成跑偏或“晃晃悠悠”以及无法转弯。\n\n[General]\nDefaultMirageDisguises=TREE10 ;幻影坦克伪装的地形对象\n```\n\n这是遭遇战模式下的玩家设置,加\\*的最好不要修改\n\n```ini\n[MultiplayerDialogSettings]\nMinMoney=5000(可调最小资金)\nMoney=10000(默认资金)\nMaxMoney=10000(可调最大资金,不要超过50000,否则数据有可能溢出)\nMoneyIncrement=100\nMinUnitCount=1(开始时最小单位数)*\nUnitCount=10(开始时默认单位数)\nMaxUnitCount=10(开始时最大单位数)\nTechLevel=10*\nGameSpeed=0*\nAIDifficulty=0*\nAIPlayers=0*\nBridgeDestruction=yes(桥是否可摧毁)\nShadowGrow=no\nShroud=yes\nBases=yes*\nTiberiumGrows=yes(矿石是否自然增长)\nCrates=yes(升级工具箱)\nCaptureTheFlag=no*\nHarvesterTruce=no*\nMultiEngineer=no*\nAlliesAllowed=no(是否允许结盟)\nShortGame=yes(快速游戏)*\nFogOfWar=no*\nMCVRedeploys=yes(基地重新部署)*\n```\n\n自然规则，查找下列语句\n\n```ini\nRepairPercent=15% (修理建筑物所耗资金与原价比例)\nBuildSpeed=.7 (建造时花费1000元所用时间,默认42秒,若改为\".1\"则只用6秒,暴快!\nSoloCrateMoney=2000 (获得金钱升级工具箱所得资金)\nReloadRate=.3 (战机或反潜直升机重新装弹速度)\nGrowthRate=5 (矿石自然增长速度,该值越大越慢)\n```"},{"title":"ts","tags":["valaxy"],"categories":"Valaxy 笔记","author":"天雪酱","excerpt":"## 卡片\n<!---->\n这一篇文章\n<TxCard title=\"星空下的动员兵星空下的动员兵\" url=\"https://www.bilibili.com/read/readlist/rl441","link":"/posts/jw","content":"## 卡片\n<!---->\n这一篇文章\n<TxCard title=\"星空下的动员兵星空下的动员兵\" url=\"https://www.bilibili.com/read/readlist/rl44180\" author=\"星空下的动员兵\" date=\"2019-08-21\" imgPath=\"/img/clb_avatar.jpg\">如果你，找到了这套红色警戒2地图编辑器（FinalAlert2）的基础教程，那么非常幸运 你找到了一个入门的好途径 。这套教程将专门重点讲解这款地图编辑器及其相关Mod基础知识的**基础入门**，不同于以往的地编教程，这套教程将会通过通俗易懂而且完整的讲解来完全的讲述如何正确的使用这款FinalAlert2编辑器来制作属于你的《命令与征服：红色警戒2》的多人地图和单人任务。</TxCard>\n<TxCard title=\"星空下的动员兵星空下的动员兵标题标题标题标题标题标题标题标题 - 标题标题标题\" url=\"https://123.cv/asdfghjklasdfghjklfasdfghjksdfghjkasdfghjklasdfghjklasdfghjklasdfghjklfasdfghjksdfghjkasdfghjklasdfghjklasdfghjklasdfghjkl\" author=\"星空下的动员兵\" date=\"2022-02-20\" imgPath=\"/img/dt.jpg\">在战略任务制作过程中，为了方便进行条件判断、战区规划、建筑重建、超武复制等操作，使用若干个颜色相同的敌人作战方是一种常用的障眼法：地图上的敌人看起来颜色都是相同的，但它们实际上属于不同的、相互结盟的若干个作战方。</TxCard>\n<TxCard title=\"标题标题\" url=\"https://123.cv/fasdfghjksdfghjkasdfghjklasdfghjklasdfghjklasdfghjkl\" author=\"星空下的动员兵\" date=\"2022-20-20\" imgPath=\"\">我国飞发个我范围广改为家人和vs不是我。热管委会</TxCard>\n<TxCard title=\"标题标题标题标题\" url=\"https://123.cv\" author=\"星空下的动员兵\" date=\"2022-02-22\" imgPath=\"\" size='large'>\n\n      在战略任务制作过程中，为了方便进行条件判断、战区规划、建筑重建、超武复制等操作，使用若干个颜色相同的敌人作战方是一种常用的障眼法：地图上的敌人看起来颜色都是相同的，但它们实际上属于不同的、相互结盟的若干个作战方。\n\n      但这样也带来了一个问题：虽然它们颜色相同，但它们的一些属性没有完全共享，比如电力。在使用间谍、飞碟等方式切断其中一个作战方的电力以后，就会出现“相同颜色的敌人一半断电了，而另一半没有”的迷惑现象，玩家也难以判断“我究竟能切断哪部分敌人基地的电力”。所以从游戏体验上而言，相同颜色的作战方的电力也应该是连锁的，其中一方断电，另一方也要跟着一起断电，这样才是符合直觉的。\n\n      “电力连锁”触发组就是为解决这个问题而设计的。\n</TxCard>\n\n## 下载\n\n1234567890\n\n<TxDownload size='33.0MB' netdisk='https://123.cv' direct='./filename.exe' name='filename.exe' />\n<TxDownload size='33.0MB' netdisk='https://123.cv' direct='' name='filenamefilename.exe' />\n<TxDownload size='33.0MB' netdisk='https://123.cv' direct='' name='filenamefilename.exe' pw='5555'/>\n<TxDownload size='33.0MB' netdisk='https://123.cv' direct='/attach/1.gif' name='filenamefilenamefilename.exe' pw='5555'/>\n"},{"title":"局部变量教程1.0","tags":["进阶"],"categories":"其他教程","author":"天雪酱","excerpt":"> Ra2map：本文转载自[【教程】局部变量教程1.0 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204793)\n\n## 前言\n","link":"/posts/local-variables-tutorial","content":"> Ra2map：本文转载自[【教程】局部变量教程1.0 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204793)\n\n## 前言\n\n之前很多新手（不过好像其中有不少是隔壁蛋黄的人格分裂小号）和我说搞不懂**局部变量**有什么用，让我仔细讲讲。最近又恰好看到OPERATE一篇很老的局部变量教程被翻出来，但是那篇教程写的比较浅显，并不完善。于是我决定写一篇局部变量教程，对这个玩意做一个由浅入深的总结。\n\n——Heli（竹蜻蜓）, 2021.12.4\n\n本教程前置知识：至少了解了**触发**的基本概念。\n\n## 局部变量的基本属性\n\n局部变量的编辑入口位于FinalAlert的“编辑”菜单内，在“AI触发编辑”、“AI触发允许”之下，“单人任务设置”之上。\n\n在下拉框中选中“No name”那一项并输入你想要的名字，就相当于新建了一个局部变量了。\n\n局部变量有且仅有3个属性：号码、值、名称。\n\n* 号码：一个非负整数0~99，一般按数字顺序往下编号。这个号码是访问局部变量的唯一依据。\n* 值：0或1。可以为每个局部变量设置一个初始值（游戏开始时，它是这个值）。然而这个值可以在游戏的过程中，被**触发**和**动作脚本**改变，也可以用**触发**来响应这个值的改变。\n* 名称：就是个名字，只用于制作者自己方便识别。（最多40个英文字符，且不能包含英文逗号）\n\n局部变量**最多有100个**，号码从0到99。\n\n强行读取100及以上号码的局部变量的值，得到的结果始终为1不变——这都不变了，也就失去了它作为“变量”的意义。\n\n## 局部变量“没有用”\n\n新手面对一样未知的东西，最大的疑惑经常是：这东西有什么用？\n\n所以对局部变量也要发问一句：**局部变量有什么用**？\n\n我现在给出的答案是：局部变量是触发的附属组件，用于**表示状态**，一般用于**做逻辑联系的桥梁**——在新手阶段，大部分时候，局部变量没有用，因为简单的逻辑用不上。\n\n### 局部变量是什么？\n\n每一个局部变量就是一个用于存储一个0/1值的位置，可以表示一种**“是/否”**、**“开/关”**的**状态**，用来配合触发——至于这种状态有何意义，还要看与它配合的触发有何意义。\n\n一个好的局部变量使用者，应该给每一个局部变量起一个易懂的好名字，尽量完整的表达其作用，因为它可能出现在逻辑链的任何地方！\n\n### 如何改变局部变量的值？\n\n* 触发-结果[56 局部设置]（参数：局部变量号码）：将特定号码的局部变量值设置为“1”。\n* 触发-结果[57 局部清除]（参数：局部变量号码）：将特定号码的局部变量值设置为“0”。\n* 动作脚本-[39 设置局部变量]（参数：局部变量号码）：将特定号码的局部变量值设置为“1”。\n* 动作脚本-[40 清除局部变量]（参数：局部变量号码）：将特定号码的局部变量值设置为“0”。\n\n### 如何对局部变量的改变做出响应？\n\n* 触发-条件[36 局部设置开启]（参数：局部变量号码）：在特定号码的局部变量值为“1”时触发。\n* 触发-条件[37 局部设置清除]（参数：局部变量号码）：在特定号码的局部变量值为“0”时触发。\n\n如果一个触发只有局部变量相关的条件，初始是禁止状态，在被允许之前条件已经满足，那么在被允许后，这个触发会立刻执行。\n\n### 为什么说局部变量“没有用”？\n\n因为触发逻辑是**完备**的——也就是说，在制作触发逻辑时，**使用局部变量能做到的逻辑，不使用局部变量（仅使用触发之间的互相允许、禁止）一样能做到**。\n\n没有它也能做到，那岂不是“没有用”？\n\n比如说我们制作一个胜利条件：两个建筑都被摧毁时任务完成。\n\n（*这里为举例方便，先假设我们不知道标记类型1，也不知道使用科技类型判断是否被摧毁——只能使用2个触发关联2个建筑，分别判定每个建筑被摧毁，然后使用后续的逻辑判断“两个建筑都被摧毁”这个“且”的关系。*）\n\n使用局部变量的方法：\n\n* 设置2个局部变量：第X个建筑被摧毁，初始值“0”。\n\n* 设置2个触发：第X个建筑被摧毁；\n\n    条件[29 被任何事物摧毁]；\n\n    结果[56 局部设置]，分别以上一步设置2个局部变量为参数。\n\n* 把2个触发的标签分别关联到两个建筑上。\n\n* 再设置1个触发：两个建筑都被摧毁，初始状态为“禁止”；\n\n    条件有2个，都是[36 局部设置开启]，参数分别填第一步设置的2个局部变量；\n\n    结果[67 宣告胜利]。\n\n这样就做完了。\n\n实际上这里是使用局部变量，储存了2个建筑是否被摧毁的**状态**：如果某个建筑没有被摧毁，那么这个建筑对应的局部变量值是“0”；一旦它被摧毁了，它对应的局部变量值就被触发设置成了“1”。2个建筑对应的局部变量都变成了“1”，就说明：2个建筑都被摧毁啦，可以判断胜利啦。\n\n那么不用局部变量怎么做呢？\n\n* 触发：第1个建筑被摧毁；\n\n    条件：[29 被任何事物摧毁]；\n\n    结果：[53 允许目标触发]第1个建筑被摧毁-状态存储，[22 强制触发事件]第2个建筑被摧毁-状态存储；\n\n* 触发：第2个建筑被摧毁；\n\n    条件：[29 被任何事物摧毁]；\n\n    结果：[53 允许目标触发]第2个建筑被摧毁-状态存储，[22 强制触发事件]第1个建筑被摧毁-状态存储；\n\n* 触发：第1个建筑被摧毁-状态存储；\n\n    初始状态：禁止；\n\n    条件：[60 科技类型存在]不填参数（用作一个永远不能被正常触发的空事件，但这个空事件可以被“[22 强制触发事件]”刷新）；\n\n    结果：[53 允许目标触发]两个建筑都被摧毁；\n\n* 触发：第2个建筑被摧毁-状态存储；\n\n    初始状态：禁止；\n\n    条件：[60 科技类型存在]不填参数（同上一条）；\n\n    结果：[53 允许目标触发]两个建筑都被摧毁；\n\n* 触发：两个建筑都被摧毁；\n\n    初始状态：禁止；\n\n    条件：[8 任何事件]；\n\n    结果：[67 宣告胜利]；\n\n可能还有别的实现方式，此写法仅供参考……emmmm还是看看就好吧，别学。\n\n## 局部变量“很有用”\n\n上一章节我们说了局部变量“没有用”，但这一章节我们怎么又说它“很有用”了呢？且容我细细说来。\n\n### 局部变量用于整理状态逻辑（重要）\n\n你可能会注意到，在上面那个“判断2个建筑都被摧毁”的例子中，不使用局部变量的触发组含义要模糊许多。如果把需要判断的条件改为“判断4个目标都被完成”，不使用局部变量的话，触发组的复杂程度又会成倍上升，复杂到几乎难以书写了！\n\n局部变量用于表示**状态**具有天然的优势——它就是为了表达状态而生的！虽然没有它也可以完成完善的逻辑，但是合理使用会使触发组大大的简化，逻辑更加清晰，这便是局部变量的“有用”所在了。\n\n当你需要一个表示“开/关”、“有/无”、“是/否”、“完成/未完成”等二元状态的工具时，尤其是你可能遇到以下的状况：\n\n* 某个状态可能有很多种“开/关”之间转换的条件。\n* 某个状态的“开/关”可能产生很多影响。\n* 若干个状态可以组成复杂的组合。\n\n这时候，**请毫不犹豫的使用局部变量来简化你的逻辑**！\n\n我们举一个实战中的例子：\n\n玩家执行一个“劫狱”任务，前半段指挥小部队渗透，后半段带领被救部队逃跑。可能有以下几种情况判定玩家“被发现”了：\n\n* 玩家被特定的作战方（哨塔所属的作战方）攻击。\n* 玩家越过了最高警戒区。\n* 有看守前往哨塔报信，玩家未成功阻拦。\n\n而“被发现”又会导致如下的后果：\n\n* 敌人出动部队进行追击。\n* 监狱各大门封闭。\n* 环境声光效果改变。\n\n“被发现”和其它状态又会产生如下的组合：\n\n* 玩家“被发现”、玩家选择从监狱西门冲出、玩家未破坏机场：敌人会对西门附近进行随机轰炸以封锁路口。\n\n* 玩家“被发现”、玩家选择从监狱北门冲出、玩家未破坏重工：敌人的坦克部队会前往北门进行封锁。\n\n* 玩家“被发现”、玩家选择从监狱东门冲出、玩家未破坏兵营：敌人会出动步兵含狙击手小队进行追击。\n\n* 玩家“被发现”、玩家选择从监狱西门冲出、玩家联络了友军：友军会在监狱西门提供支援。\n\n* 玩家“被发现”、玩家选择从监狱北门冲出、玩家联络了友军：友军会在监狱北门提供支援。\n\n* 玩家“被发现”、玩家选择从监狱北门冲出、玩家联络了友军：友军会在监狱东门提供支援。\n\n    ……\n\n这个时候，如果使用触发之间的相互允许禁止，来建立这一系列事件的逻辑，就会显得非常繁琐且难以维护：比如“玩家被发现”这一个触发的结果里面，可能需要[53 允许目标触发]一大长串，一旦和其它状态交织起来，就难以判断哪里有遗漏了。\n\n我们把“玩家被发现”、“玩家选择从监狱X门冲出”、“玩家破坏XX”、“玩家联络了友军”都设置为局部变量如何？这样当事件状态改变的时候，就不用去因此允许/禁止大量的触发，而是直接更改相应的局部变量，各事件也都以局部变量的状态变化作为条件。这样逻辑就清晰多了。\n\n比如上面的例子里面，组合状态的第一个事件可以用这样的触发来表示：\n\n* 触发：敌人追击小队-西门（空军）；\n\n    条件：[36 局部设置开启]玩家被发现，[36 局部设置开启]玩家选择从监狱西门冲出，[37 局部设置关闭]玩家破坏机场；\n\n    结果：（……）；\n\n总之，**局部变量是复杂逻辑中用于表示“状态”的最佳选择**。当一个“状态”对很多逻辑有影响的时候，用局部变量来表示它，绝对会让你少掉头发。\n\n### 局部变量和动作脚本的交互\n\n局部变量还有一个其它模块都无法做到的功能：它可以帮助从动作脚本向触发传递信息，也就是，**动作脚本引发触发**。\n\n* 动作脚本-[39 设置局部变量]（参数：局部变量号码）：将特定号码的局部变量值设置为“1”。\n* 动作脚本-[40 清除局部变量]（参数：局部变量号码）：将特定号码的局部变量值设置为“0”。\n\n这使得我们可以用局部变量来确认一些小队完成了动作脚本中的一项任务，准备执行下一项任务了，诸如运输船的卸载、摧毁了某个路径点上的建筑，等等。\n\n借助脚本的其他特性（比如脚本的跳步执行）还可以做出更加复杂的逻辑。本教程的重点不是脚本，就不展开讲了。\n\n## 一些局部变量的使用细节\n\n本章节介绍一些局部变量使用时需要注意的小细节。从这里开始进入深水区。\n\n### 局部变量与延时（重要）\n\n局部变量有一个非常细节的特性：当一个触发的条件同时包含“延时”（[13 流逝时间]、[51随机延时]）和“局部变量状态判断”（[36 局部设置开启]、[37 局部设置清除]）时，局部变量会对“延时”的行为产生干扰，具体表现为：**相关的局部变量状态改变时，延时的计时会重置**（从头重新开始计时）。\n\n不妨做一个这样的试验：\n\n* 使用2个触发让局部变量A的状态在0和1之间反复变化，周期2秒。\n\n* 添加一个触发：\n\n    条件：[13 流逝时间]10，[36 局部设置开启]局部变量A；\n\n    结果：[11 文本触发事件]显示一段文本；\n\n结果这段文本永远也不会被显示。问题出在哪里？\n\n当然是因为局部变量A的反复重置，导致了另一个条件“[13 流逝时间]10”的10秒计时器也不停的被重置，永远也数不到10而引起触发。这种表现**就像把这个触发反复禁止再允许**引起的倒计时重置一样。由此我们也许可以窥见引擎内部对局部变量处理的逻辑……咳咳，扯远了，只要知道结论就好了。\n\n这个特性有时可以被利用，但有时又是有害的，使用起来应该格外小心。\n\n### 局部变量的复用\n\n前面就提过，局部变量在一张地图中最多100个。\n\n别以为这是个很充裕的数字，在制作复杂的逻辑时，是有可能把这100个都用完的。为了继续发挥其作用，有时我们会被迫选择对局部变量进行复用。\n\n复用的局部变量容易导致状态冲突，必须是两种不可能同时出现的状态才可以复用同一个局部变量，比如一个任务的多个阶段中两个不相关的逻辑。\n\n复用局部变量时，应当起好名字、划分好阶段。在复杂的逻辑面前，还是要保护好头发和脑细胞的……\n\n**复用是一种迫不得已的手段，应当先想办法尽可能地省变量，实在搞不定再去复用**。\n\n## 全局变量\n\n全局变量是什么？它是“全局”的变量——各方面都与局部变量性质相似，但是它是在rules之中注册的（这意味着你无法在一张地图里面注册新的全局变量，而是所有任务地图共用一套全局变量），它的值也可以**跨关继承**：进入下一关时，全局变量的值可以保留，因此你可以用它在不同的关卡之间传递信息。\n\n除了注册位置、最大数量（50）和跨关继承特性以外，**全局变量的其余性质与局部变量完全一致**，本教程就不做过多讨论了。\n\n## 使用示例\n\n本章节会举出我使用过的一些有趣的高级触发组，来介绍一些局部变量的使用场景。\n\n### 字幕队列\n\n左上角弹出的字幕是向玩家提示的重要手段，但一瞬间弹出太多的字幕可能会让玩家应接不暇；而如果玩家同时触发了两段对话，两段对话相互穿插可能会出现前言不搭后语的窘迫状况……如何让这些弹出的字幕相互让开，自动一条一条、一段一段的弹出呢？我构建了“字幕队列”触发组来解决这一问题。\n\n这个触发组的本质是：使用一个局部变量“字幕开启”的值为“1”来表示当前左上角有字幕正在占用玩家的阅读时间——比如，字幕弹出后12秒之内，不允许另一段无关字幕的弹出；而在这个阅读时间过后，才使用触发将这个局部变量的值设为“0”，允许下一条字幕的显示。\n\n触发结构如下：\n\n* 一个局部变量：字幕开启。初始值为0。\n\n* 一个触发：字幕计时重置\n\n    触发类型“2”（重复），初始为禁止状态；\n\n    条件：[13 流逝时间]12秒（占用玩家的阅读时间）；\n\n    结果：[57 局部清除]字幕开启，[54 禁止目标触发]自身；\n\n* 对于每一条字幕触发，使用如下结构：\n\n    条件：[37 局部设置关闭]字幕开启；\n\n    结果：[56 局部设置]字幕开启，[53 允许目标触发]字幕计时重置，[11 文本触发事件]（你需要的字幕），还有其它结果……\n\n    注意**条件里面不能带有延时**。如果这条字幕是延时触发的，则需要用另一个专门负责延时的触发来允许它，否则会因为局部变量导致的计时重置引发时序问题。\n\n* 如果是一连串的字幕（比如一段对话），使用如下结构：\n\n    第1条触发的条件：[37 局部设置关闭]字幕开启\n\n    所有触发的结果带上：[56 局部设置]字幕开启，[53 允许目标触发]字幕计时重置，[11 文本触发事件]（你需要的字幕），还有其它结果……\n\n    其余按照正常的延时事件链制作即可（但是**事件链的延时时间要小于字幕计时重置触发的延时时间**，否则会导致字幕开启的状态中途结束）。这样保证整段字幕连续放出，且不会被其余的字幕打断。\n\n这个触发组结构相当简单，对于一些需要密集文本提示的场景的优化也十分有效。尤其是可以有效的防止一些循环出现的提示粗暴的插入到重要的对话中。\n\n不过对于这个触发组而言，“局部变量重置计时”的特性是有害的，需要时刻提防——由于“字幕开启”这个局部变量的状态可能一直在改变，较长的延时根本来不及触发就被重置，甚至会出现某些字幕永远也显示不出来的状况。这就是在这个触发组中需要把延时和局部变量分开成两个触发的原因。\n\n触发结果[53 允许目标触发]也会重置延时时间。这就是连串字幕中每一个触发的结果都要带上“[53 允许目标触发]字幕计时重置”的原因，为的就是不断重置它，等这一连串字幕结束后才让它正常运行。\n\n### 最简随机循环\n\n这应该说是一个非常漂亮且简洁实用的触发组……写出它的时候，我自己都被它的简洁程度惊到了。\n\n这个触发组起到了这样的作用：**每次随机延时X秒以后，随机发生N个事件的其中一种，循环执行**。比如：敌人会随机在N个位置中选1个随机空降伞兵。\n\n猜猜需要几个触发？\n\n**只需要N个触发，和随机事件的数量相等**。加之其触发结构也极其简单易拓展，因此我称其为“**最简随机循环**”。\n\n触发结构如下：\n\n* 一个局部变量：随机事件组A。其初始值决定了这个触发组的开关状态，“0”为关，“1”为开。\n\n* 每个随机事件对应1个触发。\n\n* 每个的触发的参数是这样的：\n\n    类型“2”（重复）；\n\n    条件：[51 随机延时]X秒，[36 局部设置开启]随机事件组A；\n\n    结果：[57 局部清除]随机事件组A，[56 局部设置]随机事件组A（“局部设置”必须在“局部清除”后面），然后加上这个事件你想要的其它结果。\n\n* 想要打开这个循环，就把局部变量“随机事件组A”设为“1”；想要关掉，就设为“0”。\n\n这个触发组主要利用了“局部变量状态更新会重置计时器”的特性，各触发之间也没有复杂的关联，而是通过一个局部变量，把若干触发编为一组，一个触发执行就会重置其余几个触发的计时器，开启下一轮循环。\n\n虽然**在随机延时较短的时候，各事件的概率会出现偏差**（我打算专门出一篇教程来做相关的数学计算），但只要随机的时间足够长，各事件出现的概率基本一致，也是基本满足了实用要求。\n\n### 资源申请\n\n这个触发组在「林德拉克计划2：命运之瞳」的 尤里06-铁幕降临 中使用。情况是这样的：敌人拥有4座铁幕装置，都按照CD时间进行计时；在特定条件下，会动用已经就绪了的铁幕向地图上的一些防御建筑物释放，以给玩家推进带来阻碍；如果没有已经就绪了的铁幕，则不会释放。\n\n我们可以把它抽象成这样的逻辑：有若干个资源（铁幕）可能为“可用”或“不可用”状态，其它触发可能需要申请使用这些资源。触发组要做到从中寻找可用的资源并释放。我把这个触发组叫做“资源申请”。\n\n触发组分为4部分：状态加载、状态更新、资源释放、申请\n\n#### 状态加载\n\n用于判定各资源何时可用的触发组。比如说对于铁幕，我们可以简单的认为它经过CD以后就进入了可用状态：\n\n* 局部变量：铁幕X就绪，初始状态“0”；\n\n* 触发：铁幕X就绪；\n\n    触发类型：2（重复）；\n\n    事件：[13 流逝时间]300；\n    \n    结果：[56 局部设置]铁幕X就绪，[54 禁止目标触发]自身，[53 设置局部变量]状态更新；\n    \n* 触发：铁幕X被摧毁；\n\n    事件：[29 被任何事物摧毁]；\n\n    结果：[57 局部清除]铁幕X就绪，[12 摧毁触发事件]铁幕X就绪；\n\n#### 状态更新\n\n主动进行状态更新，通过所有铁幕的状态来判断当前是否至少有一座铁幕可用——这决定着是申请成功还是申请失败。\n\n* 局部变量：有铁幕可用，初始状态“0”；\n\n* 局部变量：状态更新，初始状态“0”；\n\n* 触发：状态更新X；\n\n    触发类型：2（重复）；\n\n    事件：[36 局部设置开启]状态更新，[36 局部设置开启]铁幕X就绪；\n\n    结果：[57 局部清除]状态更新，[56 局部设置]有铁幕可用；\n\n* 触发：状态更新-全否；\n\n    触发类型：2（重复）；\n\n    事件：[36 局部设置开启]状态更新，[36 局部设置关闭]铁幕1就绪，[36 局部设置关闭]铁幕2就绪，……，[36 局部设置关闭]铁幕X就绪；\n\n    结果：[57 局部清除]状态更新，[57 局部清除]有铁幕可用；\n\n#### 资源释放\n\n这个触发组决定了有铁幕可用的时候，释放哪一个。按顺序申请铁幕，一个不行就下一个。\n\n* 触发：申请铁幕\n\n    触发类型：2（重复）；初始状态为“禁止”；\n\n    事件：[8 任何事件]；\n\n    结果：[53 允许目标触发]申请铁幕1成功，[53 允许目标触发]申请铁幕1失败，[54 禁止目标触发]自身；\n\n* 触发：申请铁幕X成功\n\n    触发类型：2（重复）；初始状态为“禁止”；\n\n    事件：[36 局部设置开启]铁幕X就绪；\n\n    结果：[54 禁止目标触发]申请铁幕X成功，[54 禁止目标触发]申请铁幕X失败，[57 局部清除]铁幕X就绪，[53 允许目标触发]铁幕X就绪，[53 设置局部变量]状态更新，[134 超级武器复位]对应的铁幕超武，[21 播放语音]EVA_IronCurtainActivated\n\n* 触发：申请铁幕X失败\n\n    触发类型：2（重复）；初始状态为“禁止”；\n\n    事件：[37 局部设置关闭]铁幕X就绪；\n\n    结果：[53 允许目标触发]申请铁幕X+1成功，[53 允许目标触发]申请铁幕X+1失败（最后一个就无需X+1了），[54 禁止目标触发]申请铁幕X成功，[54 禁止目标触发]申请铁幕X失败；\n\n#### 申请\n\n每一个铁幕的申请位置由两个触发组成：\n\n* 触发：铁幕位置N申请成功；\n\n    关联触发：铁幕位置N申请失败；（如果涉及到了关联单位的属性的话）\n\n    条件：[36 局部设置开启]有铁幕可用，和其它你想要的铁幕申请条件；\n\n    结果：[109 铁幕装置作用于]你想要的路径点，[53 允许目标触发]申请铁幕；\n\n* 触发：铁幕位置N申请失败；\n\n    条件：[37 局部设置关闭]有铁幕可用，和其它你想要的铁幕申请条件（和上面的相同）；\n\n    结果：[54 禁止目标触发]铁幕位置N申请成功；（如果涉及到了关联单位的属性的话，结果甚至可以留空）\n\n其实就是使用局部变量判定此刻有无可用的铁幕，如果有就申请成功，没有就申请失败。\n\n## 附录：局部变量在map中的存储结构\n\n局部变量在map中的存储结构如下：\n\n```INI\n[VariableNames]\n[号码]=[名称],[初始状态]\n[号码]=[名称],[初始状态]\n......\n```\n\n"},{"title":"马王神系列AI教程","tags":["高级"],"categories":"触发与小队","author":"天雪酱","excerpt":"<TxCard title=\"MammamiaMadman专栏文章-文集-哔哩哔哩\" url=\"https://space.bilibili.com/29975164/article\" author=","link":"/posts/madman-ai-tutorial","content":"<TxCard title=\"MammamiaMadman专栏文章-文集-哔哩哔哩\" url=\"https://space.bilibili.com/29975164/article\" author=\"马王神\" date=\"2021-12-14\" imgPath=\"\" size='large'>\n\n\t\tPhobos环境的RA2AI新功能浅谈\n\t\tAres作为目前RA2mod最常见的拓展平台，虽然带来了海量功能提升，但在AI方面的优化却十分有限，而Phobos#24加入的一系列AI脚本指令增强，无异于打开了新世界的大门。RA2的AI从此迈入了新时代。不过另一方面，Phobos加入的新AI脚本指令由于采用了于原生AI指令不大一样的判定逻辑，实用起来需要规避一些暗雷才能发挥其真正潜力。经过一段时间的实际使用，俺已将大多Phobos加入的新AI指令测试完毕。那么Phobos的新增AI指令实际表现如何，究竟会为RA2AI带来哪些变化呢？\n\t\t\n\t\t新世代Ra2mod的AI设计理念\n\t\t红色警戒2（Ra2）作为一款本世纪初发售的游戏，至今仍有一定热度，mod为这款游戏续命的作用功不可没。随着Ra2mod工艺的成熟和平台的发展，modder们得以在mod里使用更为复杂的机制，把Ra2变成完全不同的游戏早已不是什么新鲜事。与日益成熟的mod制作工艺相比，Ra2mod的AI设计理念和制作工艺就相对落后了。\n\t\t\n\t\t2019版红色警戒2AI教程（下）\n\t\t本教程为2019年新版教程的AI部分。\n\t\t\n\t\t2019版红色警戒2AI教程（上）\n\t\t本教程为2019年新版教程的AI部分。\n\n</TxCard>\n"},{"title":"地图调试与出错补救","tags":["入门","调试"],"categories":"其他教程","author":"天雪酱","excerpt":"::: tip\n做地图时一定要**经常备份**吖<AFace face=\"nacho:16\"/>，免得地图报废追悔莫及。把地图文件按住`Ctrl`拖一份就行了。\n:::\n\n值得注意的是，并非地图崩溃弹","link":"/posts/map-debug","content":"::: tip\n做地图时一定要**经常备份**吖<AFace face=\"nacho:16\"/>，免得地图报废追悔莫及。把地图文件按住`Ctrl`拖一份就行了。\n:::\n\n值得注意的是，并非地图崩溃弹框才叫出错，其实所有未按预期发生的情况，都可视为 Bug ，比如，本应出的一个小队没有出；地形错误；莫名卡关等等……本文将先后讲述崩溃弹框与普通 Bug 的处理。\n\n> 也看：[【教程】08 ra2 fa2入门基础教程 - 触发篇2 - 纠错基本手册](https://www.bilibili.com/read/cv1658957/)\n\n## 地图崩溃的处理\n\n常见地图崩溃原因：\n\n- 刷兵触发忘记填小队\n- 允许禁止触发忘记填触发\n- 使用“导入地图”时导入了乱七八糟的代码和关联\n- 同一特遣部队内填写了两个相同的单位\n- 地图中摆放的建筑有重叠，当其被摧毁，就会崩溃\n- 若添加了 ini，先检查 ini\n- 蜘蛛上了飞机没能出来，再存档读档就会弹框\n- 在任意输入框中键入了英文逗号等号分号（它们是地图内部代码结构中的关键字符），破坏了地图内部数据\n- 使用文本方式打开地图并修改时使用了错误的文件编码（应为 GB2312），而地图中又有中文\n\n如果仅仅是地图编辑器打不开地图，尝试\n\n- 把地图文件移到别处\n- 老老实实从文件-打开去打开\n- 考虑编辑器读取的游戏目录是否与地图应该运行的不一致（ini 不匹配导致出错），可能要去地图该运行的那个目录重新注册游戏\n\n### EIP 表\n\n游戏每次报错便会在其目录（使用 Ares 时，在 Debug 文件夹，崩溃时经你同意才会生成）生成一份`except.txt`，打开可见`EIP: XXX`，此为错误代码。EIP 表是一些常见错误代码的收集，在代码词典包中可以找到。不过它主要用来查找 ini 代码错误，往往**无法查出**触发错误。另附一些错误补充：\n\n```\n`EIP 006CF3DD`（类别：AI）\n\nAI得到仇恨以后，试图生产一个AI触发所属方为<all>、作战小队所属方不是自己作战方的小队。\n一般来说这个小队能够成功的生产，也能够正常的进攻。但是即使AI生产不出来，即便是做过了尝试，也算。在此之后存档，读档的时候就会产生此IE。\n\n或\n\n驱逐舰反潜机的射程是无限，如果AI用这架小飞机飞过整个地图来打我的潜艇，一存档一读档就会弹框，会导致一些AI使用驱逐舰反潜的任务读档弹框。\n\n`EIP 00000005-00000007 `表示单次寻路后，计算出实际所需行走的距离超过了游戏规定的单次自动寻路长度的上限。\n\n由于执行Attack脚本指令时，计算自身执行该脚本所需的移动路径超出西木规定的上限，因此游戏报错。如果对自己的单位下达了需要移动这么长路径的指令，无论玩家还是AI都会弹框。此处西木规定的上限无具体测量，妖妖酱个人认为可能是1024.\n\n解决方法：地图不要做得太大太绕，单次移动脚本必须限制移动路径长度\n\n0065D99F：小队内存在重复单位时，会导致本错误\n\n00529A14：CSF问题 ※读取形如\"a,b\"这样的两个整数的时候没读取到而且找不到默认值\n\n007C9B92：数值无法读取，或者基地节点问题。以文本方式打开地图，看[Actions]触发结果中，第一个数字[结果个数]，是否与实际结果个数一致，以及格式是否正确。若不一致，也许是编辑过程中程序错乱了。且每行内容应少于512字符。或者查看【所属方】中，基地节点数目是否与真实数目一致。\n\n006E2449：42号触发写错参数\n```\n\n### 补救方法\n\n手动查错见下节。如果地图崩溃问题实在无法解决，而你又没有备份，可以尝试挽救地形\n\n> 先记下出错地图的地图大小和类型，再编辑→复制整张地图，然后新建一份同样大小和类型的地图，再编辑→居中粘贴，(^o^)/大功告成！如果你会文本方式打开地图可能可以挽回更多东西。_为何不选择【导入一张已存在的地图或BMP图片】？因为很多坏图这样之后仍然出错，而且导入的话连单位的关联信息以及内置ini都导入了，不可控_\n\n## 一般查错流程\n\n### 手动\n\n当你发现任务流程中出现意料之外的情况时，请回忆最近对这部分所做的改动，并检查各项数值是否正确。如果无法定位问题原因（一般是崩溃弹框时），可以使用**排除法**，先禁用/删除一部分触发，来看看问题是否还会出现。\n\n一个比较简单的调试方法是，给关键触发的结果加上一条结果`11 显示文本`，这样来看观察此触发是否执行了。也可以用计时器定位出问题的触发，比如恰好在核弹倒计时剩3分钟时弹框了，那么有可能是流逝时间 7\\*60=420 游戏秒时的某个触发有问题。\n\n如果遇到疑难杂症（一般是小队相关）或者复杂的触发组，可以将其抽离出来，在一张单独的地图中专门测试。或是求助他人。\n\n### 辅助工具\n\n地图测试查错是有很多辅助工具的。\n\n比如，*在小地图上绘制脚本轨迹*，*检测地图物体重叠*，*地图触发网络生成器*，见<RouterLink to='/posts/other-tool#RA2 专用'>其他工具</RouterLink>\n\n另外，新版的 FA2SP 应该也能检查出一些错误（在保存地图时）。\n\n---\n\n有待补充"},{"title":"地图设计","tags":["高级","系列"],"categories":"其他教程","author":"天雪酱","excerpt":"\n> 本文援引软件工程中软件需求与设计的相关理论和方法，对 Ra2 地图的设计进行探索。\n\n## 必要性\n\n一份地图的制作过程中，画地形和做触发虽然是主要工作，但并不是全部工作。前期的构思、设计同等重","link":"/posts/map-design","content":"\n> 本文援引软件工程中软件需求与设计的相关理论和方法，对 Ra2 地图的设计进行探索。\n\n## 必要性\n\n一份地图的制作过程中，画地形和做触发虽然是主要工作，但并不是全部工作。前期的构思、设计同等重要。可以试想一下，写作文前，也需要构思选题、大纲；拍电影前，也需要有剧本。\n\n事先做好设计有助于自己对自己实际需求的理解，有助于梳理任务剧情和任务各方面的要求、设定，有助于确定任务的大致轮廓。前期的设计不足，往往会导致后期画地形做触发的频繁返工，甚至推倒重来。越复杂的任务地图越是如此。咱也曾因此吃过亏。\n\n尤其是现代 MOD 中的多关战役地图，往往非常宏大复杂，需要多人**合作**来完成。在这种情况下，设计也有助于\n\n- 统一团队内各成员对需求的理解，解决分歧\n- 避免重复工作、不合要求的工作，提高效率\n- 方便安排分工\n\n地图设计，以及后续具体的实现过程，是创作者将游戏剧情故事，用 RA2 的语言表达出来的过程。设计做好了，后续制作就会如同行云流水般顺畅，剧情故事也会讲述得更好。不过，也不用一味提高设计的详细程度，如果你的地图非常简单，那么只需简单设计即可。\n\n## 遭遇战设计\n\n纯遭遇战的设计比较简单，一般需要先确定目标平台（MOD 等）、地图气候、侧重点（PVP PVE）、玩法（常规、防守图玩法、特殊对战玩法等），再确定大致水陆分布、资源丰富度与出生点即可。\n\n地形设计参考下文任务章节，玩法呢由于咱不太玩遭遇战，更不联机玩，就不讲太多了，仅提以下两点\n\n- 给每个出生点留足够的空间，尤其是 PVE 图\n- PVP 图一定要平衡，平衡不一定非得对称\n\n---\n\n咱现在以多关战役包为例，试讲述其设计流程。\n\n## 任务剧情设计\n\n既然是多关任务，那自然需要有剧情，没有剧情的任务如同遭遇战一样陷入同质化，甚至连任务目标都无法设定。而且没有剧情也显得生硬而没有感情，自然也无法吸引玩家，给人留下深刻印象。\n\n剧情，说得更详细一点，从整个任务包的角度来说，需要有一个**主线故事**，包括故事背景与年代、主要势力、玩家所处的位置、战争演进过程、重要节点以及故事结局。而且还要确定**参战各势力**的军力、分布范围、科技水平、战斗目标、风格特色与代表人物等等。\n\n主线剧情贯穿整个战役包，可以围绕主角或主要势力的目标来展开叙述。将其挑选出一连串的关键情节，分散到每一关，就形成了每一关的剧情。在主线之余，也可以再编排支线剧情，讲述角落里的故事。一个优秀的剧情设计，能够吸引和感染玩家，让玩家产生代入感，并且回味无穷。\n\n**就单个关卡来说**，剧情包括前因、时间地点、参战方及各自目标、战役大致过程、战役结果。更具体一点，还要设计各势力的军备与兵力规模、关键的出场人物或物品，以及本关最有代表性的场景。\n\n至于具体的**剧情构思**，就很考验作者的文学功底了。可惜咱虽然语文不差，却缺乏写小说编故事的能力，实在是想不出有新意的剧情。就不再讲了。一个充满想象力的头脑，一位充满创造力的人，真的难得且可贵。\n\n## 玩法与任务目标设计\n\n玩法，是指玩家在任务中的**活动方式、游戏规则**，常见的比如防守反击，小队潜入，多线作战，护送、奇袭等等。比较有独创性的比如 *林德拉克* 中的四铁幕、防守反应堆等等。\n\n有时，一个很常见的玩法，比如防守，叠加上一些**特定条件**，也能做出新的花样，不落俗套。比如使用新的军备、在特殊的地形、无建造场、限时、特殊的资源获取机制。也有时，在同一关卡的不同阶段，有截然不同的玩法。\n\n玩法设计也需要根据大致剧情安排来进行，比如，一个奄奄一息的势力，不可能发动大规模的进攻；一次紧迫的行动，设置限时非常合适。玩法设计很设计者的想象力、游戏阅历和对游戏平台的熟悉程度。\n\n同一任务的**任务目标**与玩法有很大相关性，两者一般同时设计。先确定**主要任务目标**，也就是玩家最终要达成的目的，就可以再设计**其余目标**，使游戏过程更连贯、合理。如果一上来就给你一个一眼看不到头的大基地，玩家往往会手忙脚乱，不知所措；单一的“摧毁全部敌人”的目标也略显乏味。所以任务需要分阶段的目标、辅助目标来润色。比如，咱的 *桥梁争夺战* 中，玩家一开始只拥有较低的科技，几乎难以进攻，需要先夺回被敌人占领的实验室，才能生产高科技军备，完成“摧毁全部敌人”的目标。在划分阶段和目标这一方面，MO3 很多任务做得很好。\n\n## 地形设计\n\n> 见 mapper 核心思维指导-地形设计思想\n>  \n> 地形设计相对于地图美化来说是更为基础的技巧，地形设计对于游戏流程，情节安排的影响远大于美化\n\n如果整体地形不合适，任务情节往往难以展开，后期将会做得非常难受，频繁返工。\n\n一般需要先**回顾需求**，根据剧情安排，确定以下内容：\n\n- 地图气候，在 YR 中，一共有6种“气候”；\n- 时间，白天或黑夜；\n- 地点以及需要包含的地形要素（山脉、平原、河流、城市）；\n- 大致水陆分布、地势高低，以及关键地形元素的位置，比如主要河流、重要高地；\n- 战斗规模（影响地图的大小）；\n- 各势力的大概位置以及攻防路线\n\n然后开始细化（此时可以直接在 FA2 中进行），勾勒悬崖、海岸、主干道路，安排具体场景的位置（如村庄、公园、港口）。设置这些地形和场景，不仅仅是为了美观自然，在任务地图中，它们还承担着一些**职能**。比如：\n\n- 山脉和水体，可以作为自然屏障，限制单位活动路径\n- 城市和村庄，可以驻军\n- 高地，易守难攻\n- 桥梁，是必经之路和捷径\n- 树林，可能有埋伏，不利于快速行军\n\n更细节的就不必专门设计了，随做随想，看你如何发挥。\n\n一个优秀的地形设计（不谈细化美化），不仅美观自然，还能让地图多数区域都有其作用，让地形与玩家路线、玩法深度融合，更好地讲述整个战役故事。\n\n地形的设计对设计者的艺术素养有一定要求，做出好的设计也需要丰富的游戏和现实地形观察阅历。\n\n## 触发设计\n\n触发是任务地图的主干，任务剧情、流程、机制无不依赖触发去实现。\n\n::: tip\n由于游戏引擎的限制，很多功能无法实现，你必须足够熟悉 RA2 触发才能进行设计。本节假设你已了解触发的概念，并已学会编写基本的触发。\n:::\n\n> 见 mapper 核心思维指导-触发编写思想\n>  \n> 触发编写的基本思路，即：熟悉触发元素（基本要求）——提出触发效果——设想可能有关的元素——分析元素关联性——提出方案——调整参数\n\n编写 RA2 触发是一项非常细致且耗费时间的工作，这也使得你触发写好后，如果想再调整流程，就非常麻烦，因此有必要在编写前，先进行设计。触发设计也是对剧情的更具体化，使任务离最终实现更进一步。\n\n一个任务关卡，剧情无论多么丰富，选择无论多么灵活，它的大致游戏流程总是**线性**的，即`任务开始 - 任务过程 - 任务完成`。中间任务过程中，也有若干关键触发节点，用以确定次要目标达成、任务阶段推进等等。设计触发，就要先设计这些主干。如果任务流程较长，且划分了阶段，则需分阶段确定主干，再将其连接。\n\n以 MO3 的[EP12 - 月光](https://moapyr.fandom.com/zh/wiki/%E6%9C%88%E5%85%89)为例，此关卡大致可分为\n\n1. 开局与突袭阶段\n2. 防守阶段\n3. 3 个平行的占领 - 防守阶段\n4. 总攻阶段\n\n（咱玩过太久了，记忆可能有偏差）每一阶段，都有开始至结束的流程，由不同的**触发组**实现。（暂时不需要去关心具体实现细节）比如开局与突袭阶段，可分为\n\n1. 各种初始化触发\n2. 任务开局过场与目标介绍\n3. 先头部队登场刷兵\n4. 进攻过程中的触发\n5. 判定进攻完成\n\n不同触发组环环相扣，主干与枝叶共存，最终形成整个任务流程的逻辑脉络。触发的设计和编写非常考验创作者的逻辑思维和抽象思维能力，也考验创作者对 RA2 的触发和 ini 功能的了解程度。如果你有计算机编程经验，做这些可能会更加容易。[开局、转场和结局常用的触发结构](https://www.bilibili.com/read/cv14909556/)。\n\n### 简单触发组设计\n\n简单触发组包括由多个触发组成的顺序结构、循环结构、分支（选择）结构等。一般不需要专门设计，现场发挥即可。[一个任务开头的编写示例](https://www.bilibili.com/read/cv1662316/)，[一个任务流程的编写示例](https://www.bilibili.com/read/cv3419110/)。\n\n### 复杂触发组设计\n\n复杂的效果做起来也复杂，而且由于引擎的落后和个人创作者经验所限，很多效果要想实现，可能是有难度的，有些更需要 ini 配合。这时就需要**聚集这种关键地方**，弄清楚逻辑，确定**可行性**，如有必要可用测试地图实测。如果发现行不通，也好早改设定，要不做着做着发现行不通，就傻眼了。比如这些触发组\n\n- 选择机制，二选一登陆地\n- 固定时间间隔，n 个地点先后被攻击，顺序随机\n- *林德拉克十一个矮人* 中，特殊的限时防守\n- 电力连锁，使不同所属方“共享”电力\n\n示例：\n\n- [MO 中的选择机制](https://www.bilibili.com/read/cv2882538/)\n- [MO 中的恶灵巢](https://www.bilibili.com/read/cv2875403/)\n- [ARES 下的抢点机制](https://www.bilibili.com/read/cv31317379/)\n\n<!--## 其他\n任务难度\n音乐-->\n\n## 新平台的帮助\n\n新平台带来了新功能，比如\n\n- 新的触发事件、行为\n- 新的脚本动作\n- 局部变量可以是更大的整数，并且能运算\n- 解锁许多旧平台限制\n- 新的代码功能\n\n这些功能提高了任务制作的上限，使很多不可能实现的设定和玩法具备可行性。\n\n## 工具\n\n设计者可以使用各种工具来帮助他们进行关卡设计，考虑到咱们的**业余**属性，咱不会说太复杂的。\n\n- 使用画图，或是 PS 等绘图工具，大致描绘地形，标记关键位置\n- 使用画图、Word 或是专业流程图工具[draw.io](https://app.diagrams.net/)描述任务流程、触发逻辑\n- 使用伪代码或文字，描述剧情和任务流程\n- 使用*幕布* 或 *figma* 等线上工具，画图并且进行团队合作\n\n## 结语\n\n本文是咱对 RA2 地图设计理论的初步探索，力图让地图制作流程更加完善，更加规范化，并且避免因前期设计不足导致的烂尾、返工。此文仅是不成熟的探索，实际操作中，还需要根据地图（任务）复杂度，自行调整设计的详细程度以及侧重点。\n\n## 参考资料\n\n- mapper 核心思维指导\n- [红警 2 地图触发组件的逻辑原理 | 氯离子实验室](https://chloridep.github.io/archives/RA2/TriggerLogics.html)\n- [月光 | 心灵终结中文 Wiki | Fandom](https://moapyr.fandom.com/zh/wiki/%E6%9C%88%E5%85%89)\n\n---\n\n> 本文使用了生成式 AI 技术辅助编写，赞美科技！"},{"title":"【未完成】地图全景图欣赏","tags":["入门","MO","草稿"],"categories":"地形与美化","author":"天雪酱","excerpt":"## 原版\n\n[收集的各种地图的各种风景图_红警地图吧](https://tieba.baidu.com/p/2790512472)\n\n原版和尤里官方地图：\n\n<TxDownload size='9.","link":"/posts/map-image-appreciation","content":"## 原版\n\n[收集的各种地图的各种风景图_红警地图吧](https://tieba.baidu.com/p/2790512472)\n\n原版和尤里官方地图：\n\n<TxDownload size='9.26MB' netdisk='' direct='' name='官方任务全景图.zip' />\n\n## MO\n\n咱下载的 mo336 任务全景图，共 141 张，来自[心灵终结中文 Wiki](https://moapyr.fandom.com/zh/wiki/%E7%94%A8%E6%88%B7%E5%8D%9A%E5%AE%A2:Isol-IIID/%E5%85%A8%E4%BB%BB%E5%8A%A1%E5%8A%A0%E8%BD%BD%E5%9B%BE%E4%B8%8E%E5%85%A8%E6%99%AF%E5%9B%BE%E4%B8%80%E8%A7%88)\n\n<TxDownload size='680MB' netdisk='' direct='' name='mo336任务全景图.zip' />\n\n---\n\n更好的欣赏方式还在筹划中。\n\n\n\n\n\n"},{"title":"地图测试理论","tags":["高级","系列"],"categories":"其他教程","author":"天雪酱","excerpt":"\n一份好的地图，尤其是任务图，必须经过充分测试才能发布。而地图测试在绝大多数时候都是对**地图触发**（包括 AI 触发）的测试。目前，地图测试的重要性虽然常被提起，但一直罕有具体的理论指导，总体处于","link":"/posts/map-test","content":"\n一份好的地图，尤其是任务图，必须经过充分测试才能发布。而地图测试在绝大多数时候都是对**地图触发**（包括 AI 触发）的测试。目前，地图测试的重要性虽然常被提起，但一直罕有具体的理论指导，总体处于一种混沌的状态。\n\n本文援引软件工程中软件测试的相关理论和方法，对 Ra2 地图的测试进行探索。\n \n地图测试的目的：\n\n- 发现地图中存在的 Bug\n- 验证地图是否符合需求和设计，行为是否符合预期\n- 测定地图的质量，并且找出值得改进的地方\n\n## 测试的注意事项\n\n一次好的测试，或者说是有用的测试，并不是没有发现问题的测试，而是**发现了问题的测试**。此概念可参考医院查体、考前测验。\n\n首先，**尽量早点开始测试**，否则迟来的第一次测试可能会暴露出非常多的问题，让你应接不暇，甚至其中很多问题背后都指向你的同一种失误。地图测试并非位于地图制作之后的一个独立的阶段，而应**贯穿到触发编写的过程中**。\n\n其次，**测试需要带着发现问题的目的来进行**。因为人的活动具有目的性，如果你的目的是“不要测出问题”，那么你的测试就会有意无意地按照最标准的情况来进行，甚至会心虚地回避模棱两可的部分。这样的测试，注定无法反映真实情况，因为玩家的操作往往是五花八门的，甚至会故意试探边界情况，企图寻找漏洞和捷径。\n\n有条件的话，最好**让别人帮忙测试**。原因类似上文，作者自己往往会对任务的某一部分过于自信，不再检查；或是由于操作习惯和思维定式，仅选择某一种发展和通关路径，忽略了更多可能，甚至从未涉足过地图上某些地方。比如，任务关键目标或桥梁离海岸过近，玩家用3星无畏舰可以强攻地面溅射到从而**逃课**，而你从未设想过这一点。\n\n发现问题，并且做出修改后，**仍需进行测试**。此时的测试是验证问题是否被真正修复，而不是仅仅自以为修复了。这有可能是由于开发者对错误原因理解不够，仅仅修复了表象。**比如**，小队关联触发不起作用（比如被摧毁没有成功触发），你给小队改了几个勾，或是加了几个动作，再进游戏摧毁它，就正常了。其实这可能是歪打正着。因为错误的真正原因是 *“AI 的小队挂载的标签，小队解散（完成所有脚本后）就会消失”* ，你这次成功，可能是因为它刚刷出来，就被你摧毁了，下一次晚点摧毁，就不一定行了。真正解决办法是添加循环或进入状态这种不会终止的脚本。有必要的话，还要测试这次修改所有波及到的部分，看看是否引入了新的问题。在任务包即将发布的时候，这很重要。\n\n测试不可能无止境地进行下去，所有问题也不一定都有理想的解决方案。很多问题是引擎固有缺陷所致，咱们只能规避、祈祷、容忍，或是在发布时提醒玩家。\n\n## 测试的类型\n\n根据地图测试所波及范围的不同，可将测试分为**局部测试**（对应软件测试领域中单元测试、集成测试）和**整体测试**（对应系统测试等）。局部测试是在地图制作的过程中随时可以进行的，每完成一个触发组，都可以进行一次测试，查看其是否存在 Bug，是否满足需求，以及如何改进。极端情况下，仅改写一条触发，也需要进行测试。\n\n整体测试是指从头到尾对整个关卡的测试，要按照真实游玩过程来进行。由于很耗费时间，往往在地图制作的后期才进行。实际的地图测试，往往是**渐进式**的，即根据触发编写的进度，一步一步扩大或是修改局部测试的范围，更高效地验证刚才的触发编写成果。\n\n## 对测试结果的处理\n\n测试中发现了问题，要及时解决问题或进行记录，否则问题很容易就会被淡忘。一般简单的问题转眼间就能够在 FA2 中解决。复杂或是大量的问题，则可能需要先记录下来，再仔细分析逐渐解决。如有必要，每次已完成的修复也需要记录，比如在团队合作或是修复了重要问题时，在任务已内测或发布后需要通知玩家时。\n\n> 引用自 *地图调试与出错补救*\n> \n> 当你发现任务流程中出现意料之外的情况时，请回忆最近对这部分所做的改动，并检查各项数值是否正确。如果无法定位问题原因（一般是崩溃弹框时），可以使用**排除法**，先禁用/删除一部分触发，来看看问题是否还会出现。\n> \n> 一个比较简单的调试方法是，给关键触发的结果加上一条结果`11 显示文本`，这样来看观察此触发是否执行了。也可以用计时器定位出问题的触发，比如恰好在核弹倒计时剩3分钟时弹框了，那么有可能是流逝时间 7\\*60=420 游戏秒时的某个触发有问题。\n> \n> 如果遇到疑难杂症（一般是小队相关）或者复杂的触发组，可以将其抽离出来，在一张单独的地图中专门测试。或是求助他人。\n\n## 更科学的测试\n\n在软件测试领域，还可将测试分为黑盒测试、白盒测试以及介于两者之间的的灰盒测试。[详细解释](https://ones.cn/blog/articles/black-box-testing-and-white-box-testing)。各有其优缺点和具体测试方法。咱试将其类推到地图测试中，设计适用于 Ra2 地图的测试方法。\n\n**静态分析**。与其说是测试，不如说是检查。即，检查触发该填的是否填了，该禁止的是否禁止，难度勾是否正确；小队及脚本涉及的路径点是否正确等等。一般只能自己检查，外人往往无从下手。\n\n**边界测试**。对任务过程中有可能出现的**极端情况**进行测试，比如上文提过的3星无畏射程；玩家占领大量敌人建筑后是否会报错/严重干扰剧情（比如造出 VIP 单位或者使某些触发无法运行）；潜入任务中跋山涉水是否能找到一条捷径（除非这是你想要的）；敌人 VIP 单位是否刚出场就被玩家埋伏/亡命冲锋掉；过场表演、护送是否会在某些情况下卡住，导致卡关。\n\n**基本路径测试**。\n\n> 在软件测试领域，基本路径测试是一种白盒测试方法，旨在测试程序中的所有可能路径，以确保每个语句至少被执行一次。测试目标是确保程序中的每个可能路径都被覆盖到，以检测潜在的错误和逻辑问题。步骤有\n> \n> 1. 识别程序的控制流图（Control Flow Graph）：将程序转换为控制流图。\n> 2. 确定程序的基本路径： 确定程序中的所有可能路径，包括循环和条件语句。\n> 3. 设计测试用例： 设计测试用例以覆盖每个基本路径。\n> \n> 基本路径测试适用于测试复杂程序中的所有可能路径，以确保程序的完整性和正确性。\n\n在地图测试中，则需回归触发的设计，将触发流程中的各个主要次要节点串连，然后设计多条路径，将节点和分支遍历覆盖。设计路径时，不止要考虑触发，也要把无关触发的玩家操作考虑进去，比如，不同的行进路线；不同的军备组合；不同的支线目标完成顺序；选择占领还是摧毁关键目标等等。\n\n实际操作中，完全遍历所有可能性是不现实的，大部分分支也不必从头走到尾去测试（比如彩蛋），所以，具体测试粒度还请自行把握。\n\n实例有待补充\n\n**重点测试脆弱部分、关键部分**。让你的测试更高效。比如重点测试这些：\n\n- 护送、基地车来等复杂且关键的脚本\n- AI 造兵\n- 是否会因为找不到角落里的敌人而无法完成任务\n- 任一个复杂的触发组\n\n## 任务难度的测试\n\n制作组在测试RTS游戏某一关卡的难度时，可以采取以下方法和策略：\n\n1. 内部测试： 组建一个专门的测试团队，确保测试团队中有不同水平的玩家，以便从不同角度评估关卡难度。\n\n2. 用户测试：邀请外部玩家参与关卡难度测试，收集玩家的反馈和意见，了解他们对关卡难度的感受和建议。\n\n3. 数据分析：记录玩家在关卡中的表现数据，如通关时间、敌我阵亡比例等。行为分析： 分析玩家的行为模式，了解他们在面对不同难度关卡时的决策和反应。\n\n实际上，任务难度的测试和调整往往非常麻烦，并且非常耗费时间。尤其是地图内小队较多时。这非常考验测试者的耐心。\n\n## 结语\n\n此文章是咱对地图测试行为的理论化，旨在让大家更科学高效地进行测试，从而提高作品质量。这仅是咱对相关理论的初次探索尝试，并不成熟，更多细节还请大家自行思考。\n"},{"title":"任务制作细节经验","tags":["入门"],"categories":["其他教程","细节"],"author":"天雪酱","excerpt":"::: warning \n本文很多内容未经测试，可能是错误或过时的\n:::\n\n## 任务制作细节 1\n\n> 作者：未知\n\n**如何改变单位和建筑的属性**：使用ini编辑器，新建要改变属性的单位和建筑","link":"/posts/mission-tips","content":"::: warning \n本文很多内容未经测试，可能是错误或过时的\n:::\n\n## 任务制作细节 1\n\n> 作者：未知\n\n**如何改变单位和建筑的属性**：使用ini编辑器，新建要改变属性的单位和建筑的section，如果已有则在原基础上修改。新建section的名字是rules.ini文件中的登录名。然后再新建要修改的属性项，并设定它的值。\n\n**一个使某块地区自动散去迷雾的办法**：在那里设一栋平民建筑，把OWNER设为自己的一方。当然也可以放置其他部队。\n\n环境光线的绝对值在lighting中是小数，在触发事件中则用0到100的数相对应。\n\n要在间谍进入建筑后触发一个事件，不是用spied upon，而是用entered by，为了保证是由间谍进入的，可以单独赋予间谍一个阵营；也可以把要进入的建筑的Capturable属性改为no。\n\n关于招募：用Create Team创建的小队可以招募业已存在的单位（即使在Team设置中并没有选定recruiter）。前提是这些单位必须是可被招募的，同时已完成其本身的任务，处于空闲状态。如果没有可招募的单位，则另外生产。Reinforcement和Create的区别：前者纯粹是额外收获，后者必须从工厂出来或招募而来。\n\n要使几个任务关一关接一关地执行下去，必须把它们放在同一个目录层次下。\n\n在rules.ini的IQ设置中规定了每一个IQ级别的AI会做什么事情。在FA的House中可以设置每一阵营的IQ是什么级别。如果人类玩家的IQ被设为高级别，则建筑会自动修复，部队也会变得更有攻击性。如果电脑玩家的IQ被设得很低，也许它不会自动修复建筑，即使建筑的属性是自动修复的。但较高的IQ也会出现一个问题，那就是电脑会制造一些你不想它制造的部队。这时候的解决办法一般是使预设的自动制造AI触发失效。注意，不要在其他的触发事件中出现auto create teams...\n\n~~如何把RA的地图改成YR的地图：首先，确认在FA的settings中选定了支持MOD。然后打开原来的文件，在上面随便加个YR中特有的建筑，再另存为all01umd.map就可以了。~~\n\n**如何在一栋建筑受到攻击时发出警告**：首先，该触发事件（1#）是可重复的，一开始即被激活。其Event是所附的建筑受到攻击，其Action是发出文字、声音或雷达警告。但光是这样还不够。因为敌人的攻击不是一下子就结束的，于是便会有一个恼人的结果，那就是警告发了又发，发到你烦。\n\n为了解决这个问题，必须对该触发事件进行一定的改造。我的方法是：另外再设一个2#触发事件，也是可重复的，一开始是不起作用的。其Event是经过一定的时间，其Action是激活1#并使其自身（2#）失效。再在1#的Action中加两条，激活2#并使其自身（1#）失效。于是，整个的逻辑链条就是：受攻击—发出警告—1#失效（暂时不再发出警告）—激活2#—经过一定的时间—激活1#并使2#失效，如此循环往复。\n\n使用流星雨时，尺寸定为7时效果最好。\n\n在编辑多人地图时，可用代码4475~4482来代替玩家1~8的阵营。它们的名称分别是 \\<Player @ A\\> \\<Player @ B\\>…… \\<Player @ H\\>\n\n可以设置平民建筑的价值为很高的值，这样摧毁该建筑的部队就可直接升到三级\n\n## 任务制作细节 2\n\n> 作者：zxzx695940792，红警任务之家\n\n**1、总是怕大量伞兵降不下来，或者是降落点太集中，没有比较宏大的场面？**\n\n用记事本打开地图，加入以下代码\n\n```ini\n[General]\nParaDropRadius=数据\nPrismSupportModifier=150%\n```\n\n原数据为1024，不建议改太大，原先的3-7倍效果比较好。\n\n如果想让兵力集中，把这个数据改小就可以了。\n\n如果参数越大，飞机到来的时间也会相对延后，同时也会适当偏离原先的路径点，所以把握好这个数据的值。\n\n**2、灵活运用一些效果，让任务看起来更有感觉**\n\n这里只谈几个：\n\n1. **88 粒子动画**是一个不错的选择，尤其再配上音效，效果会更好，比如烟气和信号弹的声音组合，再比如篝火上方的烟雾。——原版RA2 暗夜一关\n2. **49 放大视野 与 50 缩小视野**，这两个可以集中到当前视野，并且放大（或缩小）。再配上音效SpyPlaneSnapShot，即侦察机的拍照声，可以得到侦察机拍摄的即视效果。——FlyingZ 《标靶（又名聚宝盆）》\n\n**3、关于秘密科技实验室**\n\n秘密科技实验室可以允许作战方拥有一些本没有的单位，当然这些单位也是可以修改的。代码如下：\n\n```ini\n[General]\nSecretInfantry=SNIPE,TERROR,DESO,YURI ;步兵单位\nSecretUnits=TNKD,TTNK,DTRUCK ;装甲单位\nSecretBuildings=GTGCAN ;建筑单位\nPrismSupportModifier=150%\n```\n\n更改之后，可以让占领实验室之后出现的单位按任务要求改变（虽然是一次性的。。。）——ConColor1 《机器人**》\n\n**4、“禁飞区”**\n\n除了进入事件之外，还有一个比较好用的事件——**59 进入或飞越**。使用方法和进入事件相同。只是关联这个触发的单元标记，可以放在陆军单位不能上去的悬崖上，创造“禁飞区”的感觉。当然还有一点，单位子机、运输机、侦察机进入标记也会有效。比如航母里面的小飞机，比如Boris召唤的米格，再比如最普通的火箭飞行兵。——FlyingZ 《西木三人组》\n\n**5、118 清除全部污染 的使用方法**\n\n所谓污染，就是指地图上留下的焚烧效果、弹坑效果。而清除全部污染就是消除这些效果，利用这个可以做一些创造性的想法。\n\n比如在地图的同一个地点、不同时间发生的任务，由于弹坑可能会影响到剧情发展或者美观性，可以利用这个触发。——FlyingZ《山丘之王》\n\n另外对于以上这种任务，还有一些触发是可以灵活运用的，比如(i)52 更改照明状态 (ii)125 将建筑建于 (iii)126 恢复至游戏初始科技状态（包括建筑与单位） (iv)130 恢复初始建筑（仅仅包含建筑） 等等许多触发，读者可以自行尝试。\n\n**6、关于全局变量**\n\n这个一般在多关任务中运用，可以使得玩家的不同操作，导致游戏的不同结果。在原版RA2中，体现在盟军第三关和第六关。如果玩家在第三关中摧毁了地图上的地标建筑，那么对应的建筑在第六关中将会被摧毁。\n\nPS.当然，如果全局变量仅仅这样用就太浪费了，还是注重一点：玩家的不同操作，可以导致游戏的不同结果。\n\n## 任务制作细节 3\n\n> 作者：NOG\n\n**1.这是什么情况……怎么有多工程师？难道玩家所属方不能为新建的所属方？**\n\n解决办法……记事本打开任务写入\n\n```ini\n[ENGINEER]\nRequireHouses=British,French,Germans,Americans,Alliance\nPrerequisite=Barracks\n[SENGINEER]\nRequireHouses=Russians,Confederation,Africans,Arabs\nPrerequisite=Barracks\n[YENGINEER]\nRequireHouses=YuriCountry\nPrerequisite=Barracks\n[ADOG]\nRequireHouses=British,French,Germans,Americans,Alliance\nPrerequisite=Barracks\n[DOG]\nRequireHouses=Russians,Confederation,Africans,Arabs\nPrerequisite=Barracks\n```\n\n**2.关联触发到底怎么用…………到底如何多触发关联一建筑**\n\n~~先设置一个触发A，关联到目标，然后设置另一个触发B，触发选项里选上关联触发A：触发B→触发A→目标~~\n\n**3.播放音效注意事项**\n\n- 98 播入音效(随机路径点) \n- 99 播放音效...\n\n这两个触发类型不需要选择“2-重复”，因为他们本身就具有重复的效果\n\n**4.雷达事件是什么？**\n\n就是基地被攻击时雷达图上的闪现小方框……有红黄蓝三种颜色，触发参数`0、3、4红色，1、2黄色，5蓝色`\n\n**5.如何让AI固定时间出固定的兵？**\n\n条件13 流逝时间，动作4 建立小队，电脑将会先调用空闲单位，如果不够的话就会建造这个小队\n\n**6.基底节点有什么用？**\n\n建立节点删除建筑就是让电脑在这个地方造建筑，建立节点不删除建筑就是这个建筑被毁后重建，顺序是按放置节点的顺序\n\n**7.如何让开场的矿车采矿？**\n\n放在地图上的矿车开局不会自动采矿，是不是很无语？双击它，状态选择Harvest【区域巡逻守卫也可】\n\n**8.如何让一个小队做完指定的事情后开始某个触发？**\n\n首先建一个局部变量，在小队的脚本最后加上一个局部设置，参数选择你新建的局部变量，然后触发的条件为36 局部设置开始...局部变量就是上面建立的啦……\n\n这样，当这个小队做完他的事情之后，触发就会开始……\n\n**任务中途天黑**\n\n- 71 设置环境步幅... \n- 72 设置环境速率... \n- 73 设置环境亮度...\n\n天亮天黑，在《任务制作核心内容中》提到 71 设置环境步幅... （一般使用1020000000） 72 设置环境速率... （一般使用1036000000）\n\n- 142 重绘红色\n- 143 重绘绿色\n- 144 重绘蓝色\n\n重新自定义地图的ＲＧＢ。\n\n::: warning\n建筑与单位的颜色可能会出现异常\n:::\n\n**使用触发 41 “播放动画在...”**\n\n超时空效果 257号，附各种箭头的动画标号，用的上的：\n\n```\n向下指示 475号\n向下 483号\n向左 482号\n向右 481号\n向上 480号\n左上 479号\n左下 477号\n右上 476号\n右下 478号\n```\n\n## 地图制作细节\n\n> 作者：尤里·加特林\n\n**【任务地图转遭遇战地图】** 新建地图里面不是有一个导入地图或BMP么。选择任务地图，然后把下面的三个选项打勾。完成。\n\n**【提取地图】** 红色警戒的地图大都封装在这里，用XCC Mixer 打开，至于下载地址自行百度。\n\n- Maps01.mix 原版盟军任务\n- Maps02.mix 原版苏军任务\n- Multi.mix 原版地图\n- Multimd.mix 尤里地图\n\n**【随机地图】** 利用NP的地图截取功能可以截取随机地图：修改KeyBoardMD.ini——MapSnapshot=595 ;(595 = Ctrl+S)。如果此时玩游戏，按下Ctrl+S就会保存地图在yuri文件夹里，以后可以用地图编辑器进行编辑。做任务时可以用用，很节省时间。不过最好不要用随机地图糊弄玩家，其实我追喜欢用随机地图了，哈哈哈哈因为我的NP连触发，建筑小路都可以随机哟~至于Np是什么，怎么来的，不重要。会用就行了。我网盘里面有NP随便选一个就可以。工具-NP。\n\n**在地图内部进行INI修改的时候，如果重定义过`[General]`，一定要重定义下面，** 以免出现 BUG塔现象。【注：多光棱塔连接伤害暴涨】\n\n```ini\nPrismSupportModifier=150%\n```\n\n由于地图内部没有art定义，所以新增单位时必须使用一个有Art的单位重定义。否则就是对玩家隐形了。。。\n\nnewurban地形支持隧道，不过需要TX编辑器。隧道不一定非要安在山崖上，平地里也可以做个诡异的穿越。\n\n画小路是很多maper的噩梦。。包括我，没什么好的办法。。。你可以先用一种易辨认的地表 画出小路，然后再进行小路绘制。。。\n\n悬崖背面想做的好看一些的话，，尽量使用拐角画。不要有太长直线。\n\n灯光不要弄得太黑。。也不要太瞎眼。。有颜色的灯光要成片用，不要单个使用。\n\n树可以种在悬崖上。。就是红色线那里，增强立体感与真实感。\n\n【城市地图】不要留下锯齿形的地表。除非你是故意的。用覆盖图里面的XXX交界处修复即可。\n公路与小路衔接不畅？用复制功能解决。\n\n斜坡是个大问题。。前面的斜坡很容易，悬崖背面的需要三个合在一起才对。\n\n## NOG给资深 maper 的话\n\n> 作者：NOG\n\n**新手常犯的错误：**\n\n1. 在删除某个Trigger,Team,Taskforce,Script时只删了其中的一个部分，而不是删除其整体。\n2. 由于新建的Script并非默认的当前Script，很容易编辑了其他的Script，自己还以为在编辑新Script。\n3. 在写Trigger时把House选项弄错了。\n4. 不知道使用不同的环境同一事物有不同的效果。\n\n**如何让援兵坐在运兵船中进入地图**\n\n- 第一步：设定两个路径点，一个是运兵船出来的地点，ID为66，放在地图边界外面；另一个是士兵下船的地点，ID为67。（也可以设为其他的ID）\n- 第二步：创建一个Taskforce，叫做GIinTransport,由五个大兵和一艘运兵船组成。\n- 第三步：写Script。取名为ReinforceGI，设四个Action,第一个是Move to Waypoint，参数是67。第二个是Unload，参数为1（保留交通工具，丢掉其他部队，也就是说只有交通工具会执行接下来的步骤）。第三个是 Move to Waypoint，参数是66。第四个是Self Destruct。\n- 第四步：设置Team。也取名为ReinforceGI, Waypoint项设为66，Script和Taskforce就是前面提到的。对话框下面的选项仅保留一个Full（这样部队就会在运兵船中）。\n- 第五步：写Trigger。Event是13 Elapsed Time...；Action是4 Reinforcement Team...,参数是ReinforceGI。\n\n**如何让士兵坐进IFV**\n\n要点就是把士兵和IFV编为一队，注意Team的Full选项不能打勾。然后让他们从一个地点移动至另一个地点，再执行load onto transport。(注意：该方法不能用于运兵船和直升机，否则会产生奇怪的结果）\n\n**如何让士兵占领建筑**\n\n在RA中，直接在建筑物上设一个waypoint，然后在script中让士兵攻击此waypoint即可。在 YR中复杂一些。打开ini编辑器，找到要用的script, 新建一个action值，参数分别为64,0,士兵就会占领最近的建筑物。也可以用记事本打开地图文件直接编辑。但是，这个参数有极大的不稳定性。在改完之后，不要再回Script Editor去编辑该Script，否则，由于FA本身不支持该参数，会将64,0改成其他值，后果变得不可预料。\n\n**如何让工程师进入建筑**\n\n就是让他Attack Enemy Buidings。注意，这只对AI有效。玩家的工程师好像没那么聪明，他只会走进去走出来，而不会占领。真是奇怪。 \n\n**如何让电脑的部队从重工和兵营中出来**\n\n首先，需要一个触发事件来启动。比如：Production begins...Auto base building... Autocreate \nBegins.., 或者预设的自动建造触发事件（包含了前面的两个action）。 \n在trigger的action中设create team，把waypoint的值也空出来。\n\n**关于制造前提**：大部分的制造前提对AI来说是无用的，只要有地方让部队出来即可，只有RequiredHouse和FobiddenHouse是例外。\n\n**如何让电脑自动造建筑**\n\n在trigger的action中设create building或auto create base buildings。有几点要注意：\n- 一、首先AI要拥有足够的金钱和一个建造厂，这一点十分重要。\n- 二、如果设定了BASE NODE，则电脑一旦开始建造NODE指示的建筑，就不再建造其他建筑。如果没有，则电脑会自行其事，造它认为合适的本阵营的建筑，效果和遭遇战模式相仿佛。\n- 另外，之前要有一个触发事件来启动。比如Production begins...Auto base building...或者预设的自动建造触发事件。\n\n在战机的script中，不要轻易使用Move to waypoint，就象在实战中战机不能使用路径点一样，如果在任务地图中让战机执行类似操作，比如从创建点飞到一个地点，然后再攻击敌人的建筑物，则战机在飞抵指定地点后会坠毁。“坠毁是因为没有机场 在图外放一个和飞机相同所属方的机场就可以”\n\nElapse Time...指的是Trigger被激活之后过的时间，Trigger一般在开始的时候即被激活，除非被Disable掉。\n\n编辑RA的地图时，要在编辑器的选项栏直接选只用于RA，否则会出现内部错误。\n\n如果让一队战机同时出来执行任务，它们通常是重叠在一起的，看上去就像一架似的。解决这个问题的办法是TaskForce只设一架战机，在被触发时执行同样的Action几次。由于时间上有先后，出来时就不会重叠了。\n\n> 也可以使用80号行为在多个地点刷出来\n\n以下Action仅在YR中起作用，且不能通过Script Editor获得，而只能通过INI Editor或者直接用记事本打开地图文件设定。\n\n```\n59,X : 进入路径点 (X)的建筑\n60,0 : 进入碾磨机\n61,0 : 进入坦克碉堡\n62,0 : 进入生物电站\n63,0 : 进入最近的拥有的建筑（比如战斗碉堡）\n64,0 : 进入最近的平民建筑\n```\n\n下一关在Battle.ini中设置。【NOG注：也就是任务每一关的文件名】\n\n在csf文件的loadbrief包含了每个任务关的启动前文本和每个国家的特色介绍。GUI包含了超过平均时间和在平均时间以下的游戏结束文字。具体的设置可以用记事本打开地图，在以下字段中编辑：【NOG注：这个在任务中很重要，没有这个任务不完整啊】\n\n\n```ini\n[Ranking]\nParTimeEasy=00:15:00\nParTimeMedium=00:10:00\nParTimeHard=00:06:00\nUnderParTitle=GUI:ParTitleALL02\nUnderParMessage=GUI:UnderParMsgALL01\nOverParTitle=GUI:ParTitleALL01\nOverParMessage=GUI:OverParMsgALL01\n```\n\n在YR中，有一个回到过去的效果，其实是把一张地图分成两半。开始时有一半是不可见的，触发后先执行一个满屏时空转移效果（127 Chrono Screen Effect for ...），再执行40 Resize Player View...\n在Resize Player View...这个Action中，四个参数的意义和说明不符，分别为：Bottom高度，Left左边界，Right宽度，Top上边界。\n\nCreateSound=Dummy可以消除制造部队的声音。\n\nRA2中隐藏的素材。\n\n```\nAircraft:【灰机】\nFORTRESS - Looks like a stealth bomber\nORCAB - Orca\nDSHP - Transport\nDPOD - Really small thingy\nSCRIN - Flying disc\nORCATRAN - Looks kind of like the car from Back to the future\nVehicles:【交通工具】\nSUBTANK - Kind of rectangular, maybe apc like\n2TNK - Really small tank\nFTNK - Old flame tank\nAPC - APC\n4TNK - Small mammoth tank\nSONIC - Looks kind of like the prism tank\nSTNK - Stealth Tank\nHVR - Hover MRLS\nBGGY - Nod Buggy\nICBM - Weird thing that kind of looks like a V3\n在地图编辑时可以激活这些素材\n```\n\n如果不作设定，则货运飞机来的方向是随机的。在单人地图中，可以在team中设定cargo waypoint，那就是货运飞机起飞的地点。如果不用这个方法，可以在House中设定map edge，那个方向就是货运飞机来的方向。\n\n油桶如果是属于平民方的，则在RA2中无法正常显示。\n\n环境光线的绝对值在lighting中是小数，在触发事件中则用0到100的数相对应。\n\n使桥断裂的方法：在桥上（桥下）放置路径点，在该点用触发63制造100点的破坏值，~~多个重叠使用即可~~【注：一个即可】\n\n~~把同一个对象附到不同触发事件上的方法：设有触发事件1和触发事件2，把对象附到触发事件1上，把触发事件2也附到触发事件1上，把触发事件2的Tag删掉，把两个触发事件都设为可重复。（本人注：Tag指标签，在标签编辑器中编辑删除Tag，这个很有用，也有很多人提问过）说明：每个触发事件应对应一个Tag。在一般情况下，Tag是随着触发事件的创建而自动生成的。如果把一个触发事件的Tag删除，则该触发事件不会被执行。可以把一个触发事件附到另一个触发事件上，这样两者便共享一个Tag。为防止混乱，可把所附触发事件本身的Tag删掉。由于触发事件上所附的其他对象实际上是附在其Tag上的，这样，共享一个Tag的两个触发事件便拥有同样的附件。对于不可重复的触发事件而言，执行一次后其Tag即失效。为了使共享一个Tag的两个触发事件都有效，该Tag必须是可重复的。~~\n\n在 rules.ini的IQ设置中规定了每一个IQ级别的AI会做什么事情。在FA的House中可以设置每一阵营的IQ是什么级别。如果人类玩家的IQ被设为高级别，则建筑会自动修复，部队也会变得更有攻击性。如果电脑玩家的IQ被设得很低，也许它不会自动修复建筑，即使建筑的属性是自动修复的。\n但较高的IQ也会出现一个问题，那就是电脑会制造一些你不想它制造的部队。这时候的解决办法一般是使预设的自动制造AI触发失效。注意，不要在其他的触发事件中出现auto create teams...\n\n作为被删除了建筑的BASE NODE，其原有属性不再存在。\n\n不要把几个运输工具（运兵船等）编在一起，这样很容易导致死机。解决的办法是把同一个小队创建几次，每个小队包含一个运输工具。\n\n综上所述，如果要电脑完全听话，最合理的方案是使预设的自动建造触发事件失效，然后创建一个自动建造基地的触发事件。建筑用BASE NODE，部队用CREATE TEAM.\n\n【其实FA2里残留了太多的TS遗产】这些都是没用的被屏蔽的触发，需要在mod里加上才能用\n\n```\n43=陨星降落在...,0,29,0,0,0,0,1,0,0,将一陨星发送到特定的单元。,0,0,43\n44=离子风暴开始...,0,6,0,0,0,0,0,0,0,启动离子风暴，按顺序去年特定数目的游戏画面(帧)。,0,0,44\n45=离子风暴结束...,0,0,0,0,0,0,0,0,0,结束离子风暴进程。,0,0,45\n92=启动烈火风暴防御系统,0,0,0,0,0,0,0,0,0,启动某一作战方的烈火风暴防御系统。,0,0,92\n93=关闭烈火风暴防御系统,0,0,0,0,0,0,0,0,0,关闭某一作战方的烈火风暴防御系统。,0,0,93\n94=离子炮打击...,0,30,0,0,0,0,0,0,0,在特定的路径点实施离子炮打击。,0,0,94\n96=化学导弹打击...,0,30,0,0,0,0,0,0,0,在特定的路径点实施化学导弹打击。,0,0,96\n58=流星雨在...,0,44,0,0,0,0,1,0,0,在特定的路径点建立显示一个流星雨事件。,0,1,58\n59=在特定路径点减少矿石...,0,30,0,0,0,0,0,0,0,减少特定路径点周围的矿石。,0,0,59\n```\n\n【NOG注： 118 清除全部污染 (i)52 更改照明状态 (ii)125 将建筑建于 (iii)126 恢复至游戏初始科技状态（包括建筑与单位） (iv)130 恢复初始建筑（仅仅包含建筑） 可以与超时空事件效果配合，显示出穿越时间的效果，尤里官方任务第一关已经做出示范】\n\n**【如何写间谍渗透的脚本】** 这个其实很简单，先攻击敌人的步兵，再攻击敌人的建筑即可。。\n\n**【为什么生存图中我要让步兵进入步兵车它都不听话】** 原因终于找到了。如果敌人只有基地车，而且无法展开基地车，它所有的单位都会使劲A你基地，即使你的脚本上写了警戒啊进入步兵车啊部署啊，它还是不听话，一出来就要A你基地。解决方法就是送敌军兵营和矿场矿车，同时统统用铁幕盖上（也可不用，视情况而定）\n\n**【如何制作任务结束时买建筑进攻的触发？】** 一些任务需要HX掉敌军全部单位才能胜利，殊不知这样到任务后期进攻时特别的枯燥，因为如果有一个幻影藏着你就杯具了。。。2345123450987:“一个触发就够了,不用这样麻烦 条件一建筑不存在XXX,条件二建筑不存在XXX,条件三……。XXX为工厂类建筑。动作一全卖,动作二全搜”\n\n我推荐的做法是当敌军的战车工厂兵营建造厂全部被RF后就买建筑并且全军突击！！这样就不用找出隐藏的敌人，只要等敌人一个个进攻你的基地并被RF之后就可以胜利了。。\n\n废话说了这么多，下面就是写法了\n\n```\n首先弄三个局部变量\n\n触发1-3：\n·条件【48 被任何事物摧毁】（三个触发分别关联到战车工厂兵营建造厂上）\n·动作【56 局部设置...】填上第一个局部变量（后面的2个以此类推）\n\n触发4：（这个触发禁止的勾要打上）\n·条件【13 流逝时间】 参数写3（当然别的数也可以）\n·动作【6 全部搜索...】参数就写敌军的所属方 \n\n触发5：\n·条件1【36 局部设置开始...】\n·条件2【36 局部设置开始...】\n·条件3【36 局部设置开始...】（三个条件同时存在） \n\n·动作1【9 卖掉全部建筑...】参数就写敌军的所属方\n·动作2【53 允许目标触发】 就是允许触发4啦\n\n这样就行了。\n```\n\n## 任务制作提示\n\n> 整理者：轻稚天雪\n\n- 应当避免将可驻军平民建筑的所属方写成玩家，否则游戏开局副官会说“Structure abandon”；地编里直接修改需要工程师（NeedsEngineer=yes）的中立科技建筑（如油田、炮塔）所属方是不可取的，这会导致他们不生效（但医院和机械商店会生效），应该用触发“更改所属方”来实现；改变建筑方向可以改变游戏内炮塔的朝向（如哨戒炮）、照明方向或机场中飞机的朝向。\n- 在更改地图时，有一句提示说“如果有单位、建筑、路径点等处于新地图区域之外将会被删除”，经测试，这一点**有误**。地图缩小之后，原来地图上被删除的部分（包括地形、单位、建筑、路径点）仍然存在，只不过跑到了地图外面。如果你再将地图扩大，你会发现这些东西又原封不动地变了回来。不仅如此，这些“地图外”的部分会对任务造成影响，如果有敌军基地，在开启了AI触发后甚至会造兵进攻。触发判定也会将地图外的部分考虑在内。\n- 需要招募小队时，只选取对应的组。例如需要让步兵进入直升机，若此“作战小队”分组为1，则只能招募分组为1的步兵和直升机。为避免因为玩家编队而导致的招募失败，应勾选“忽视分组”。\n\n\n- 0.快捷键【D】键效果是把地图“拍平”，可以代替隐藏悬崖，免去不断点击隐藏悬崖的麻烦，但是对地图认知水平要求更高，建议在框架模式下使用。\n\n- 1.想要做出消灭某个建筑→触发的效果时，注意不同的“消灭”方式（如犀牛轰掉、时空兵抹除、谭雅炸、占领卖出）导致的结果可能不同，设置不当则无法触发，任务卡壳，因此作图时要注意xxx被消灭类触发行为的选择。推荐用48号结果关联。也可用科技类型不存在（指的是地图和玩家建造栏中不存在XXX）。\n\n- 2.触发中的触发类型，0，触发1次；2，；可重复触发；**填1：** 如果想要摧毁全部光棱塔后过关（需关联单位的那种触发条件），就要填1（填0或2都是只摧毁一个光棱塔就过关)，详见触发类型 1 参数说明。\n\n- 3.在地图中内置代码会大大增加游戏的可玩性、多样性。\n\n- 4.作战小队若关联触发，则脚本至少需2个动作方可保证生效。\n\n- **5.单关任务最好在[基本设置]里选最后一关=yes这样任务完成后就不会载入官方第二关了**\n\n- **6.【新建地图中的98、99号路径点】规定刚进入游戏时的视野位置**\n\n- **7.【注】: 遭遇战进入事件参数只有具体国家和-1有效（-1指的是任意国家）**\n\n- 8.设置某单位的科技等级，填11是仅玩家不能造，填-1是玩家和AI都不能造\n\n- 9.基本设置中的是否为官方地图选no才可**联机传送**，所以不要把自己的地图标榜成官方地图又联机\n\n- 10.**【自动修复】**如果人类玩家的IQ被设为高级别，则建筑会自动修复，部队也会变得更有攻击性。\n\n- 11.如何做出像污水坑那样的辐射？http://tieba.baidu.com/p/3944030269\n\n- 12.Ctrl 是填充功能。。。不过最好不要用来画地表什么的。。某人喜欢用来画海，殊不知这样会整个海看起来一个样。。\n\n- 13.在单人地图中，可以在作战小队中设定传送路径点，那就是空降部队的货运飞机起飞的地点。对于普通的空降或者侦察机，可以**在所属方中设定地图边界，来规定伞兵飞机来的方向。** 如果不作设定，则货运飞机从地图上界来，如果那里有防空，伞兵就瞎了o(>﹏<)o\n\n- 14.环境光线的绝对值在lighting中是小数，在触发事件中则用0到100的数相对应。\n\n- 15.关于帧数，900帧=1游戏分钟\n\n- 16.用记事本打开地图后不分段，一团糟？改为用写字板打开即可。\n\n- 17.心灵控制车巡逻的方向最好和玩家进攻的方向平行，磁电垂直\n\n- 18.ATTACK这一脚本执行后会执行后续脚本，而进入状态→Hunt会卡在这一条脚本上\n\n- 19.混编小队只会去打都能打到的单位\n\n- 20.脚本里的游猎：搜索敌人并攻击，但是搜索的规则很智障，貌似是按照标号顺序搜索的，不会按照就近的方式搜索，然后就一群一群上来送死，你可以在rules里面**设置HUNT模式可以自动反击** **[Hunt]的Retaliate=yes**，就不送死了，对海蝎来说用Hunt可以让它专注防空，不没事去怼驱逐舰\n\n- 21.判定“到达某个路径点成功”是到达这个路径点周围3x3的区域即是成功\n\n- 22.到了地图外再执行后续脚本会出现异常\n\n- 23.新增的尤里阵营作战方不能使用AI触发造盖特坦克，需要在YTNK的Owner中把新的作战方名字写上，其余坦克都没问题，唯独盖特\n\n- 24. 步兵入驻平民建筑以后平民建筑仍然判定属于平民\n\n- 25.用触发行为4，且选取地图上的单位组成小队时，请勿勾选自动建造\n\n- 26.脚本的第一个动作尽量有一个移动类脚本，移动到路径点/巡逻到路径点/攻击路径点/游猎之类的，反正要尽量先动一下，否则有时候会很诡异（但是也有正常的时候），地图内部刷出的小队用的脚本貌似可以用分散打头，地图边缘刷出来的就要先走进地图内部\n\n- 27.触发条件48被任何事件摧毁，可被占领和更改所属触发\n\n- 28.一个触发办不到的事情几个触发加在一起也办不到，触发组合可以实现复杂的逻辑，但是不能实现单个触发没有的功能\n\n- 29.装在运输里面的单位不算在地图上的单位，有时进了建筑的也不算\n\n- 30.地图编辑器不要和游戏、外挂同时运行\n\n- 31.地图里面很多全局设置是无效的\n\n- 32.RULS文件的最后一行不读，编写时最后应该空上几段\n\n- 33.记事本不能做某事时换用写字板\n\n- 34.文本信息中“·”这个符号会造成异常\n\n- 35.弹头影响范围yr平台限制最大cellspread=10否则弹框\n\n- 36.辐射只能填整百（100至500）\n\n- 37.武器射程-2为全图攻击\n\n- 38.能不能在在载具里开火要进行一下判定：1.该载具是否允许装载单位开火。2.载具内单位是否能够向外射击。3.这个武器能否向外射击。\n\n- 39.各种单位在使用Attack和Hunt搜索目标的时候，只会搜索投影位置在自己可以移动到的范围内的单位的目标\n\n- “投影”这个，比如空军从海上飞到陆地上的一刹那，海军防空就对它失去兴趣了\n\n- 40.平 House不能与玩家共享视野\n\n- 41.任务卡在载入界面？关联触发有问题。1关联2,2就别再关联1了。\n\n- 42.怎么样改才能让蜘蛛不会和寄生对象同归于尽？原版中，只要恐怖机器人这些寄生型单位感染其他坦克时，在感染期间，被感染坦克受到伤害大于SuppressionThreshold后面的值，那蜘蛛就会一起被杀死，当然把数值改大就可以实现不被杀死。by-lydjjlyd\n\n- 43.被任意作战方摧毁和局部设置，在触发类型为1的条件下，无法连用，如果触发条件是0或2可以\n\n- 44.惊慌脚本需要重复（跳转到行号）\n\n- 45.单位的升级经验是按照击杀单位和对方等级的价格来算的\n\n- 46.在地图编辑器显示新素材：素材放在mix里并且rulesmd直接放在游戏目录下\n\n- 47.自己制作的任务不能读档，参见http://www.pkuit.com/forum.php?mod=viewthread&tid=170442\n\n- 48.工厂生产的单位并不就近停靠，而是尝试向地图上的最小路径点靠近，请参见http://www.pkuit.com/forum.php?mod=viewthread&tid=201314\n\n- 49.怎样让建筑被打时不发出警报？加代码Isignificant=yes\n\n- 50.遭遇战里的进入事件只能对-1（任意一所属方）、平民和治安有效\n\n- 51.可以用计时器/显示文本定位出问题的触发，比如恰好在核弹倒计时剩3分钟时弹框了，那么有可能是流逝时间7\\*60=420游戏秒时的某个触发有问题；在某个触发的结果加上11显示文本（参数可以随便填），如果游戏中显示了，那么证明这个触发成功启动了。\n\n- 52.遭遇战任务地图互转方法：复制全部地形+居中粘贴或新建时导入。导入会连同单位关联的标签导入导致出错，不推荐。\n\n---\n\n尤里的复仇1.001版本部分的瑕疵：\n\n```\n心灵控制塔可作为基地扩展基础的BUG；\n巨炮、幻影坦克、坦克杀手、磁爆坦克开火位置错误的BUG；\n精英级超时空军团兵不能穿墙攻击的BUG；\n老兵级尤里新兵图标显示错误的BUG；\n尤里国AI在海岛地图不会进攻的BUG；\n将阿拉莫要塞译为白杨木屋的翻译错误；\n将断头台译为红场的翻译错误；\n将混凝土掩体译为燃料库的翻译错误。\n援引自东方秽浪港mod的修正。\n```\n"},{"title":"MK的mod教程与代码词典与工具","tags":["进阶"],"categories":"自定义游戏资源","author":"天雪酱","excerpt":"## 主要\n\n很基础的教程，建议所有新学`ini`代码修改的人从序章开始看\n\n基于 Ares ，Ares 是一款扩展平台，相当于对原版的功能增强，解除了很多修改限制。\n\n<TxCard title=\"","link":"/posts/mk-ini","content":"## 主要\n\n很基础的教程，建议所有新学`ini`代码修改的人从序章开始看\n\n基于 Ares ，Ares 是一款扩展平台，相当于对原版的功能增强，解除了很多修改限制。\n\n<TxCard title=\"MK的2019年版教程 - 视频列表\" url=\"https://space.bilibili.com/194846/channel/collectiondetail?sid=37084\" author=\"mk\" date=\"2022-1-6\" imgPath=\"/img/mk.webp\" size='large'>\n\n        【合集】想修改红警吗？这个是教程，照着学吧！_哔哩哔哩_bilibilihttps://www.bilibili.com/video/BV137411h7tm/\n         \n        魁魁酱的RA2mod教程 - 无限扩增病毒武器\n        10:52\n        魁魁酱的RA2mod教程 - 旋转突进的普通爆炸\n        08:45\n        2019年教程第十二章 动员兵竟学会了游泳\n        08:59\n        2019年教程第十一章 点两下鼠标就造出了整个基地？！\n        02:10\n        2019年版教程 第十章 鸡你太美风暴\n        05:36\n        2019年版教程 第九章 闪电风暴变成鸡你太美 其之一\n        04:31\n        2019年版教程 第八章 哨戒炮和机枪碉堡二合一\n        05:10\n        2019年版教程 - 第七章 如何让蔡徐坤到红警里打篮球\n        05:35\n        2019年版教程 - 第六章 如果巨炮发射的是核弹\n        05:09\n        2019年版教程 - 第五章 辐射工兵叛逃到了美国\n        06:15\n        2019年版教程 - 第四章 动员兵竟然开始发射巨炮！\n        04:55\n        2019年版教程 - 第三章 如果自爆卡车取得了\n        07:13\n        2019年版教程 - 第二章 规则文件拆分 mod打包\n        06:41\n        2019年版教程 - 第一章 提取ini文件，ini结构介绍\n        07:05\n        2019年版教程 - 序章\n        05:17\n        \n        【沙雕警戒】教程：尤里新兵发射飞碟，飞碟向下投掷尤里\n        34:25\n        给红色警戒2modder的3dsmax入门教程\n        46:15\n        【红警mod教程】使用3dmax渲染VXL素材为SHP的方法，以及SHP碎片的制作方式\n        28:21\n        往红警2里制作连锁折越效果的教程\n        26:33\n        红色警戒mod教程Ares第三章 从零开始的大头武器制作\n        34:21\n        仿色动画与自定义调色盘的教程\n        12:22\n        【教程】Dynamic Patcher演示 -动态ini、替身、弹幕、单位脚本\n        30:19\n        \n</TxCard>\n\n远离龟速百度盘，这里转载1份 ra2diy2020 年版教程，包含基本的**代码词典**和工具等，[出处](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=17507&extra=page%3D1)\n\n<TxDownload size='33MB' netdisk='https://wwuj.lanzoul.com/iPldu1gae45g' direct='' name='红警diy教程2020.rar' />\n\n```\n红警diy教程2020\n├── 2020更新内容.txt\n├── Ares2.0\n│   ├── ARES2.0中文说明书20181029.chm\n│   ├── Ares官网-在此下载最新版ares.url\n│   ├── ares_2.0.zip\n│   ├── ares使用方法.txt\n│   └── gamemd.exe\n├── 一个新手应有的心态.txt\n├── 一些规则.doc\n├── 代码词典及文字教程\n│   ├── 代码词典\n│   ├── 基础知识 .doc\n│   └── 新手守则-简写版.txt\n├── 工具包\n│   ├── HvaBuilder\n│   ├── ImageShaper\n│   ├── ShpBuilder\n│   ├── XCC Mixer 1.46简体中文\n│   ├── vxlse\n│   ├── 任务封面制作器.rar\n│   ├── 原始ini和csf (以1.001版为准)\n│   ├── 工具介绍.txt\n│   ├── 更多工具.url\n│   ├── 红色警戒AI编辑器\n│   └── 红警文本CSF编辑器\n├── 本教程严禁用于盈利,转载请注明出处保持完整.txt\n└── 视频教程\n    ├── 0旧版基础视频教程.url\n    ├── 3dmax制作shp载具.url\n    ├── 3dmax制作步兵.url\n    ├── ImageShaper使用.url\n    ├── VXL制作-更多vxl教程看视频简介.url\n    ├── 红警文件组成基础知识by黒の圣杯.url\n    └── 音频修改教程by黒の圣杯.url\n```\n\n## 其他\n\n* 推荐的编辑器：*Notepad3*，*VSCode*\n* ra2diy代码区，有Ares中文说明书等内容：[☉ 红警规则研究所 ☉ - 红警DIY论坛](https://bbs.ra2diy.com/forum.php?mod=forumdisplay&fid=9)\n* [新版Ares下载](https://launchpad.net/ares/+download)\n* 高难教程，选择性观看：\n\n<TxCard title=\"MK的高难教程 - 视频列表\" url=\"https://space.bilibili.com/194846/channel/seriesdetail?sid=1869464\" author=\"mk\" date=\"2019-6-28\" imgPath=\"/img/mk.webp\" size='large'>\n\n        由超可爱的萌妹子配音的·modder中流行的3渲2特殊工艺\n        1.3万\n        2019-6-28\n        modder中流行的三渲二特殊工艺\n        29:49\n        6167\n        2019-6-23\n        红色警戒mod教程Ares第一章 3dmax制作自定色盘shp素材\n        17:21\n        2万\n        2018-8-5\n        红色警戒mod教程Ares第二章 新素材的引入，开火坐标，简单的超武、鼠标指针\n        18:23\n        1.2万\n        2018-8-11\n        适用于原版的低级红色警戒2mod黑科技 - 自爆卡车x混合粒子\n        10:06\n        2万\n        2018-8-15\n        使用3dmax渲染符合红色警戒2格式的步兵素材\n        01:02:27\n        7962\n        2018-8-23\n        Ares2.0动画挂载武器功能演示，以及VXL2MAX的流程示范\n        20:24\n        7151\n        2018-9-20\n        常规武器版本闪电风暴\n        23:10\n        常规武器版本闪电风暴\n        5967\n        2018-9-10\n        在红色警戒2里组合红警3的酸液腐蚀&毁灭空袭两个技能\n        16:18\n        4948\n        2018-9-30\n</TxCard>"},{"title":"多关任务的命名和自定义（含DTA）","tags":["高级"],"categories":"其他教程","author":"天雪酱","excerpt":"## 多关任务的命名\n\nYR1.001平台下，多关任务默认名称为\n\n```\n     盟军          苏联  \nall01umd.map | sov01umd.map\nall02umd.map","link":"/posts/multiple-mission","content":"## 多关任务的命名\n\nYR1.001平台下，多关任务默认名称为\n\n```\n     盟军          苏联  \nall01umd.map | sov01umd.map\nall02umd.map | sov02smd.map\nall03umd.map | sov03umd.map\nall04dmd.map | sov04dmd.map\nall05umd.map | sov05umd.map\nall06umd.map | sov06lmd.map\nall07smd.map | sov07tmd.map\n```\n\n为什么：umd 的 u 代表 urban，表示这关是城市地形， 后面还有雪地，就是 smd ，月球就是 lmd。md 代表尤里复仇。\n\n## 自定义\n\n> Ra2map：参考了未知作者的文章\n\n涉及文件`battlemd.ini`，`mapselmd.ini`，`missionmd.ini`，单人任务由这3个 INI 文件共同定义，并且与任务地图关联，规定了每场任务的名称、调用哪个地图文件等信息。修改它们可以实现自定义各阵营战役阵容与任务文件名等数据。注意按顺序修改，不易出错。可以打开 *歧途* 任务参考。\n\n### Battlemd.ini\n\n主要关系到**任务入口**。打开这个 INI，在开篇就能看到一个注册表，下面大致是这些字段，它们就是任务空间的名称：\n\n```ini\n[Battles]\n1=ALL1\n2=SOV1\n3=ALL02\n4=ALL03\n```\n\n首先我们要了解一个概念——**任务入口**，就是开新战役时那2个图标，YR 平台下，第一个图标固定调用`[Battles]`内名为 ALL1 的任务，第二个是 SOV1，与列表内注册顺序无关。ARES 下可以自定义，见说明书。\n\n然后此列表即为任务注册表，有新增的写到后面，然后再添加关卡的内容。\n\n以下是关卡定义：\n\n```ini\n[ALL1] ;空间名称\nCD=2 ;需要放哪张光盘才能运行。光盘版遗留语句，最好都写成CD=2\nScenario=ALL01umd.MAP ;地图文件名，自定义，要和mapsel.ini里对应语句相同\nFinalMovie=  ;结束时播放哪个BIK电影，这是RA1遗留下来的垃圾语句，因为从RA2起，播放电影完全由任务地图来定义。\nDescription=DESC:ALL1 ;这是任务入口的特殊语句，表示鼠标悬停时在最下方显示什么说明文字，在CSF中定义\n\n[ALL02]\nDebugOnly=yes ;非任务入口有这条，见下文\nDescription=(all02umd.map) ;对于非任务入口来说多余了，不知不写会不会有问题，可能下文选关会用到\n```\n\n> ARES 说明书：\n> \n> 如果你的战役数量超过默认数量，你可以选择使用TS风格的战役列表。ARES能随意定制战役数量，在battlemd.ini里的非测试地图都会展现在下面的列表里，由Description=来定义。\n>  \n> 在uimd.ini：\n> \n> [UISettings]►CampaignList= (boolean) 允许使用这种列表，默认否\n>  \n> [UISettings]►ShowDebugCampaigns= (boolean) 在战役列表里显示DebugOnly=yes设置的地图. 默认否\n>  \n> 自定义战役于battlemd.ini：\n>  \n> [Battle]►HoverSound= (sound) 选择战役的时候出现这种声音。默认 AlliedCampaignSelect，SovietCampaignSelect和BootCampSelect\n> \n> [Battle]►Summary= (CSF label) 展现战役介绍在难度条下面\n\n### mapselmd.ini\n\n很重要，主要关系到**游戏内接关**。打开这个INI，我们能看到这样两个注册表，分别是 GDI 和 NOD 的。其实也能添加 ThirdSide 和 FourthSide 这两个新的表。\n\n```ini\n[GDI] ;阵营（派系）\nAnims=Anims ;不用管\nSounds=GDISFX ;不用管\n1=ALL01 ;此阵营下注册的任务名，后面会有详细的定义\n```\n\n你细心会发现，上一个文件中第一关是 ALL1，这里却是 ALL01，所以这俩文件中同一个任务的注册名可以不同，关键还是`Scenario=`。\n\n```ini\n[ALL01] ;任务注册名\nScenario=ALL01umd.MAP ;该任务关联哪个地图，要和battlemd.ini里对应语句相同\nDescription=768 ;不用管\nVoiceOver=GDI-01.AUD ;不用管\nMapVQ=GDIMAP01.VQA ;不用管\nOverlays=RG02A.SHP,RN02A.SHP ;不用管\nTargets=1,180,80 ;不用管\nClickMap=GDICLK01.PCX ;不用管\n2=ALL02 ;下一个数字=下一关注册名\n```\n\n**关键是最后一行**，这一关和下一关必须处于同一个注册表中（其实一个任务可以同时注册到多个表中），而`=`前面的数字不那么重要。咱未做更多测试。见任务 *林德拉克2* 的文件，`[ALL07] 8=Sov01`，由尤里最后一关跳到中国第一关。\n\n还有就是，一个任务里，玩家属于哪个大阵营，那么这个任务就至少需要在哪个大阵营的注册表里能找到，否则会导致不能接关。\n\n实现支线（隐藏）关卡可以看[改变任务流程、支线（隐藏）关卡的实现方法 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=205309)\n\n### missionmd.ini\n\n主要关系到**任务文本**。这个里面没有注册表，只是对前两个 INI 的补充定义（吐槽 WW 一个任务竟然需要3个文件来定义）\n\n```ini\n[SOV01UMD.MAP] ;地图名称，需要关联游戏根目录或MIX包里有同名的地图文件即可保证正常调用，也正是前两个INI预定的地图名称\nBriefing=Brief:Sov01md ;游戏过程中按TAB键，显示的任务简报，在CSF中定义\nUIName=Name:Sov01md ;决定该任务的名称，直接影响存档信息的名称\nLSLoadMessage=LoadMsg:Sov01md ;载入画面时出现的任务信息，在任务标题栏，军事行动：任务名+地点\nLSLoadBriefing=LoadBrief:Sov01md ;载入画面时出现的任务信息，任务目标那块\nLS640BriefLocX=20 ;载入画面时出现的任务信息显示在哪个坐标位置上，和以下3条语句共同作用\nLS640BriefLocY=20\nLS800BriefLocX=20\nLS800BriefLocY=20\nLS640BkgdName=LS640S01.SHP ;无用\nLS800BkgdName=LS640S01.SHP ;在YR中载入界面默认只能用800的分辨率，该语句决定选用哪副SHP图象作为载入图\nLS800BkgdPal=LS640S01.PAL ;对应该SHP使用哪个调色板文件，不定义的话小心画面失色\n```\n\n### DTA 客户端相关\n\n- [简单的可运行战役地图制作——2.2战役地图的运行方法 - 哔哩哔哩](https://www.bilibili.com/read/cv13602267/)\n- [心灵终结3.3.6地图编辑器杂谈3：新建关卡入口，关卡之间的连接 - 哔哩哔哩](https://www.bilibili.com/read/cv19759757/)，只看**一、新建关卡入口**对 BattleClient.ini 的修改，其他的有点啰嗦。\n"},{"title":"背景音乐的使用与添加","tags":["进阶","声音"],"categories":"地形与美化","author":"天雪酱","excerpt":"## 使用\n\n触发结果`20 播放音乐`可以播放指定音乐，填注册名，只要你有这首音乐就可以。重复与否取决于 ini 设置。如果你想停止播放，可以新建一个静音音乐，并用代码指定它重复播放，最后用触发调用","link":"/posts/music","content":"## 使用\n\n触发结果`20 播放音乐`可以播放指定音乐，填注册名，只要你有这首音乐就可以。重复与否取决于 ini 设置。如果你想停止播放，可以新建一个静音音乐，并用代码指定它重复播放，最后用触发调用。\n\n## 添加\n\n### ini 部分\n\n背景音乐的添加分两部分，即`thememd.ini`和对应音乐文件。这里先假设你有音乐，来看 ini 如何写。\n\n假设你已经有了`thememd.ini`，打开它，可以看到一个注册表，注册了所有音乐，也有注释\n\n```ini\n[注册名]\nName=THEME:xxx ;显示的名称，对应CSF内字段，不带序号\nSound=声音文件名 ;不带后缀名\nNormal=yes ;是否出现在音乐列表中\nRepeat=yes ;是否重复。不写默认为no。如果填yes，那么游戏中一旦播放到了这首歌，不论手动选择、触发还是随机播放，都会一直单曲循环。当然你可以在音乐列表中手动切换。\n```\n\n新加音乐时在注册表里添加，然后仿照原来的增加其内容即可。也可以把原来的音乐都删掉。\n\n值得注意的是，如果你的 BGM 只想在某个任务中高潮的时候播放，并且其他时候不想让玩家听到，就把`Normal=yes`改为 no，然后在特定时刻用触发播放该音乐。\n\n另外，INTRO，SCORE，LOADING，CREDITS 这四个的注册名建议不要改，分别是初始界面、评分板、载图时、战役剧终的音乐，想改可以改它们的`Sound=`。\n\n### 音乐文件部分\n\n这里假设你已经有一份通用格式的音乐文件，我们需要将它转为 RA2 能接受的格式。这里使用 [GoldWave](https://wwl.lanzoul.com/iXfZw1qx81vg) 转换，如果想用其他工具就自己摸索。\n\n使用软件打开音乐，然后 文件 -> 另存为，选择`.wav`，`IMA ADPCM 22.050 kHz, 4 位, 立体声, 178 kbps`（也可以 文件-->批处理）。保存好了放到游戏目录，或者打包进 mix 文件。技巧：试试在 XCC mixer 里找到并且双击下你的 wav 文件，如果能播放那应该就稳了，反之播放不了那游戏里也播放不了。\n\n放好代码和音乐，进入游戏遭遇战，然后在音乐列表内应该就能看到你的音乐啦。\n\n---\n\n参考了：\n\n- [如何给红警2添加自己的BGM【红色警戒吧】](https://tieba.baidu.com/p/5826144157)\n- [第12篇：游戏中的背景音乐添加 - 哔哩哔哩](https://www.bilibili.com/read/cv16584803/)"},{"title":"新人地图制作者要有的几项觉悟","tags":["入门"],"categories":"思想","author":"天雪酱","excerpt":"<TxCard title=\"红警2新人地图制作者需要有的几项觉悟\" url=\"https://www.bilibili.com/read/cv9263799\" author=\"晓星残月\" date=","link":"/posts/new-mapper-needs-several-awareness","content":"<TxCard title=\"红警2新人地图制作者需要有的几项觉悟\" url=\"https://www.bilibili.com/read/cv9263799\" author=\"晓星残月\" date=\"2021-01-14\" imgPath=\"\" size='large'>\n\n    这次就以我一个新人的视角对于和我一样的新人该如何发展阐述一下自己的理解。\n    一：传统美德，初来乍到，要谦虚。\n    二：拒绝成为伸手党，自己动手，丰衣足食。\n    三：要做好被喷的心理准备，敢于接受批评和建议。\n    四：对于有志向有野心的新人来讲，要学很多东西\n    五：切忌闭门造车\n    六：不推荐新人把魔改别人现成的任务得到的产物作为正式作品发布\n    七：如果有大佬看了你发布的作品之后邀请你做什么什么，最好是直接从了\n    八：不推荐新人刚入坑就直接开启一个自己的系列任务\n</TxCard>"},{"title":"相关组织与网站","tags":[],"categories":"其他","author":"天雪酱","excerpt":"## 网站\n\n- RA2 技术论坛：[红警DIY论坛](https://bbs.ra2diy.com/)\n- 原创任务发布与文字攻略论坛：[红警任务之家](https://www.pkuit.com/","link":"/posts/organizations","content":"## 网站\n\n- RA2 技术论坛：[红警DIY论坛](https://bbs.ra2diy.com/)\n- 原创任务发布与文字攻略论坛：[红警任务之家](https://www.pkuit.com/forum.php)\n- 新的 RA2 社区：[红警社区](https://www.ra2.net/)\n- MO3 相关资源站：[MOAPYR 资源站](https://www.moapyr.com)\n- 国外的 MOD 资料网站：[Mods for Games - Mod DB](https://www.moddb.com/mods?filter=t&kw=&released=&genre=&theme=&players=&timeframe=&game=267)\n- 可以在这里查找代码的详细解释：[ModEnc](https://www.modenc.renegadeprojects.com/Main_Page)\n- 一堆贴吧：尤里的复仇吧，红色警戒吧，红警地图吧，红警任务吧，心灵终结吧\n- B 站\n- 老版红警之家（俗称盗版之家，若无必要不建议访问，虽然如此但还是比一堆乱七八糟的红警资源站好多了）：http://www.uc129.com/bd/\n- 外国 RA2 论坛，有很多公共素材，访问速度较慢[Project Perfect Mod](https://ppmforums.com/及https://www.ppmsite.com/)\n\n## Q 群\n\n### 联盟版 FA2 作者的群\n\n打开联盟版 FA2 可以看到群号，或输入密码查看：FA2 地形列表里，普通水岸的序号，2位数字\n\n<!-- valaxy-encrypt-start:12 -->\n49345610\n<!-- valaxy-encrypt-end -->\n\n### FA2 触发学习群\n\n密码：[B站UP ChaleB](https://space.bilibili.com/893531/) 的 mod 英文名（旧名字）小写 + 触发结果建立小队的序号，如`summary17`\n\n<!-- valaxy-encrypt-start:cylearun4 -->\nhttps://t.bilibili.com/851305081222463496\n<!-- valaxy-encrypt-end -->\n\n\n\n\n\n\n\n\n\n\n\n"},{"title":"其他代码相关工具与教程","tags":["进阶"],"categories":"自定义游戏资源","author":"天雪酱","excerpt":"## 宝典\n\n2个宝典，包含许多教程和代码实例，有些内容已经过时。\n\n![](/img/dict1.png)![](/img/dict2.png)\n\n<TxDownload size='58.5MB'","link":"/posts/other-ini-etc","content":"## 宝典\n\n2个宝典，包含许多教程和代码实例，有些内容已经过时。\n\n![](/img/dict1.png)![](/img/dict2.png)\n\n<TxDownload size='58.5MB' netdisk='https://wwuj.lanzoul.com/b0ca5qq5a'password='cipx'  direct='' name='红警教程代码大典V2.0.exe' />\n\n<TxDownload size='44.9KB' netdisk='https://wwuj.lanzoul.com/b0ca5qq5a'password='cipx'  direct='' name='RA2的创意代码研究.chm' />\n\n## 其他\n\n* 改磁电弹头实现永久瘫痪等效果：[[希望有帮助]磁电弹头逻辑 - 红警任务之家](http://www.pkuit.com/forum.php?mod=viewthread&tid=203096)\n* [【2023.10.4】微观触发器 - 奎秃斯复合AE教程 - 哔哩哔哩](https://www.bilibili.com/read/cv26865094/)\n* [各种mod工具资源下载 - 第2页 - 红警DIY论坛](http://bbs.ra2diy.com/forum.php?mod=viewthread&tid=2662)\n* 红警2DIY工具集1.1版，中文版SB,VXL,HVA工具下载：[https://www.lanzoux.com/b559498](https://www.lanzoux.com/b559498)\n* 编写 ini 的 VSCode 扩展：RedAlert IntelliSense，提供代码补全，鼠标停留查询，定义跳转3个功能[https://marketplace.visualstudio.com/items?itemName=pzy.rais](https://marketplace.visualstudio.com/items?itemName=pzy.rais)\n* [【更新】MOD新手必读文件 Version 1.0 + 2.0 - 红警DIY论坛](http://bbs.ra2diy.com/forum.php?mod=viewthread&tid=557)\n* AI 编辑器，拥有 GUI 界面，也可以用来查看地图文件，[[工具分享]尤里的复仇AI编辑器](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=19418&extra=page%3D1)\n* ini comparer(RELEASE).exe：INI 比较器，[出处](http://tieba.baidu.com/p/4804711882)\n\n<TxDownload size='920KB' netdisk='https://wwuj.lanzoul.com/b0ca5qq5a'password='cipx'  direct='' name='ini comparer(RELEASE).exe' />\n\n\n\n"},{"title":"【未完成】其他教程、零碎内容","tags":["进阶","草稿"],"categories":"其他教程","author":"天雪酱","excerpt":"## 第一部分\n\n<TxCard title=\"高级触发系统设计-入门导引.zip\" url=\"/attach/高级触发系统设计-入门导引.zip\" author=\"邵利仁\" date=\"2021-0","link":"/posts/other-map-tutorial","content":"## 第一部分\n\n<TxCard title=\"高级触发系统设计-入门导引.zip\" url=\"/attach/高级触发系统设计-入门导引.zip\" author=\"邵利仁\" date=\"2021-08-15\" imgPath=\"\" size='large'>\n\n        1.触发的时序特性测试结果.txt\n        2.二进制存储变量系统的建立.txt\n        3.触发的条件判断与转换.txt\n        4.可调用的逻辑闭合触发组的标准化封装.txt\n        5.触发组之间的逻辑连接.txt\n        6.使用其他方法替代局部变量的暂时方案.txt\n        7.利用局部变量建立触发坐标系统.txt\n        8.进行多线程运算的方法.txt\n        附件1-触发对应局部变量状态表.xlsx\n        附件2-局部变量法替代为触发状态法的逻辑图表.pptx\n        作者的话（没啥用的文件）.txt\n</TxCard>\n\n<TxCard title=\"FA2快速入门及精通（\" url=\"https://www.bilibili.com/read/cv11018423\" author=\"Bivbix\" date=\"2021-04-25\" imgPath=\"\" size='large'>\n\n        大家好啊，我是Realte。这一次我想给大家讲一讲神秘FA2の食用方法。\n        接下来将会分为三大部分，咱一期专栏讲完。 \n        【Part 1】1.0  什么是FA2？\n        【Part 2】2.1 创造（野地）\n        【Part 3】  作者的话\n</TxCard>\n\n<TxCard title=\"【教程】“MultiplayPassive=true”在任务中的妙用\" url=\"http://www.pkuit.com/forum.php?mod=viewthread&tid=205376&extra=\" author=\"韩大妈\" date=\"2022-12-24\" imgPath=\"\" size='large'>\n\n        我在任务中想做出这样一个效果：\n        盟军突袭了莫斯科，将军同志需要从城外赶到克里姆林宫，尝试与那里的守军建立联系，并接管防御\n        在这样一个设定中，玩家和克宫守军之间肯定是需要结盟的，但是玩家却不应该拥有守军的视野，否则就展现不出“建立联系”这样一个过程了。\n        一个比较粗糙的解决方法是，玩家与守军单向结盟，同时在玩家进入守军射程之前，就把守军归属为玩家。这样玩家选中守军不会出现攻击符号，同时也不会出现守军攻击玩家的情况。但是这样做，表现效果也不如“玩家进入守军基地内，才获得指挥权”，而且如果守军有乱跑的巡逻小队的话，控制“玩家进入守军射程”也很复杂。\n        第二种方法是用触发结盟，这样双方是互相结盟的，同时“B有A视野 而A无B视野”。但是只要守军的单位动一下，还是会出现视野。\n        \n        新的方法是给守军国家加上“MultiplayPassive=true”，注意是国家而不是所属方\n        下面的代码中，[Vladimir1]是国家，而[Vladimir1 House]是所属方。我们要把代码加到[Vladimir1]中。\n        \n        这个代码在原版中只有平和治安使用，有如下特性：\n        1、遭遇战中不会出现在可选国家列表中\n        2、无视AI和基地节点\n        3、即使玩家与之双向结盟，也不会获得其视野\n        4、其拥有的超级武器，不会在右下角显示倒计时\n        \n        结论：这些特性，特别适合于作为“等待玩家接收的基地”使用\t\n</TxCard>\n\n<TxCard title=\"【教程】平台限制导致的结盟bug\" url=\"http://www.pkuit.com/forum.php?mod=viewthread&tid=205375&extra=\" author=\"韩大妈\" date=\"2022-12-24\" imgPath=\"\" size='large'>\n\n        任务里结盟有两种做法：所属方里填写，和触发结盟。这两种方法有微妙的区别，比如说所属方中填写的是单向结盟，而触发则是双向结盟；触发中如果是A结盟B，则B有A视野，而A无B视野。有的任务规模较大，有很多所属方，此时可能会出现这种情况，即所属方中填写的结盟部分失效。其原因是原版平台的每行ini只能读取128个字符，超出部分会直接无视掉。所以当所属方中的盟友填的过多，就会有部分失效。\n        解决方法是，正常的双向结盟使用触发建立，仅在需要特殊的单向结盟时，才在所属方中填写。当然如果不超过128个字符，那随便怎么写都行。\n        \n        以下是一个示例地图，中间有一个中立的碉堡，他的结盟设置是：\n        Allies=Alliance House,French House,Germans House,British House,Africans House,Arabs House,Confederation House,Russians House,YuriCountry House,Special House,Americans House\n        进游戏会发现，碉堡会主动攻击YuriCountry House,Special House,Americans House三个所属方的工程师，说明结盟失败了。\n        另外ares修复了这个限制，最大能读取512个字符，所以如果使用ares开启任务的话，会发现碉堡谁也不攻击。\n        \n        链接: https://pan.baidu.com/s/10XLSx_jn5QFW-wbACXTldA?pwd=qp1z 提取码: qp1z 复制这段内容后打开百度网盘手机App，操作更方便哦\n</TxCard>\n\n<TxCard title=\"【教程】改变任务流程、支线（隐藏）关卡的实现方法 - 红警任务之家\" url=\"http://www.pkuit.com/forum.php?mod=viewthread&tid=205309\" author=\"韩大妈\" date=\"2022-11-17\" imgPath=\"\">这个方法在modenc上面有讲，以下是实现方法： 1、修改mapselmd.ini 从ra2md.mix->localmd.mix里面提取出该文件，找到自己要制作分支关卡的位置 [ALL01] Scenario=ALL01umd.MAP Description=768 VoiceOver=GDI-01.AUD MapVQ=GDIMAP01.VQA Overlays=RG02A.SHP,RN02A.SHP Targets=1,180,80 ClickMap=GDICLK01.PCX 2=ALL02</TxCard>\n\n<TxCard title=\"专栏文集：红警2中INI及地图中的一些数据的特点的思考\" url=\"https://www.bilibili.com/read/readlist/rl371774\" author=\"屑之初雪\" date=\"2022-8-3更新\" imgPath=\"\">主要与PVP对战地图有关</TxCard>\n\n## 第二部分\n\n### 隧道（已过期）\n\n> 以下文字作者：Republic_CN\n\n> 各种隧道教程实例（提请注意！以下坟帖请勿回复！）\n> \n> 半脑手写隧道教程（涉及高中数学平面向量，我这个文科学渣至今没看懂……）：[http://tieba.baidu.com/p/2093733408](http://tieba.baidu.com/p/2093733408) \n> \n> 墨竹入门隧道教程：[http://tieba.baidu.com/p/2040266753](http://tieba.baidu.com/p/2040266753)\n> \n> 墨竹手写隧道实例：[http://tieba.baidu.com/p/2043746683](http://tieba.baidu.com/p/2043746683)\n> \n> 酱油君的隧道生成器（如有必要请补档 [@RevivalStudio](http://tieba.baidu.com/home/main?un=RevivalStudio&fr=pb&ie=utf-8)）：[http://tieba.baidu.com/p/2097888242](http://tieba.baidu.com/p/2097888242)\n> \n> 仅在 URBAN或 NEWURBAN 地形可用；使用 TerraineXpansion（地形扩展包：[http://pan.baidu.com/s/1bo4hAtp](http://pan.baidu.com/s/1bo4hAtp)）可在任意地形启用隧道，但仅推荐地形绘制接近进阶水平的地图作者使用\n\n### 地图内部数据解析\n\n<TxDownload size='23KB' netdisk='' direct='地图内部数据解析.txt' name='地图内部数据解析.txt' />\n\n### 自定义遭遇战地图的预览图\n\n::: warning\n现在一般都是用客户端和对战平台玩遭遇战，**不用再这样了**。\n:::\n\n- 使用XCC：[教你如何将自己喜欢的图片做成地图预览。 红色警戒吧 百度贴吧](https://tieba.baidu.com/p/986830801)\n- 使用地图渲染器： 见 *【地图渲染器教程】* 的细节选项一节\n\n### Ra2和YR单位属性大全\n\n[出处](http://www.pkuit.com/forum.php?mod=viewthread&tid=90850)\n\n<TxDownload size='42KB' netdisk='' direct='Ra2和YR单位属性大全.xls' name='Ra2和YR单位属性大全.xls' />\n\n## 第三部分\n\n[发三个简单的小测试,含有结论](http://tieba.baidu.com/p/4870027429)\n\n1. 黄血和红血减速比例和矿石上的减速比例\n2. 磁电吸起单位的坠落伤害\n3. 无操作对A，等价犀牛VS等价灰熊（重头戏）\n\n【科普警戒】工业工厂能否让单位升级更快速？ - 哔哩哔哩[https://www.bilibili.com/read/cv2442200](https://www.bilibili.com/read/cv2442200)\n\n技术测试帖：血条与血量的关系[http://tieba.baidu.com/p/4872601491](http://tieba.baidu.com/p/4872601491)\n\n测超武对建筑的综合攻击[http://tieba.baidu.com/p/4637936429](http://tieba.baidu.com/p/4637936429)\n\n自己闲来无事统计了一些东西【尤里的复仇吧】百度贴吧[https://tieba.baidu.com/p/4941954596?see_lz=1](https://tieba.baidu.com/p/4941954596?see_lz=1)\n\n用户博客:Isol-IIID/全任务加载图与全景图一览 | 心灵终结中文 Wiki | Fandom\n[https://moapyr.fandom.com/zh/wiki/%E7%94%A8%E6%88%B7%E5%8D%9A%E5%AE%A2:Isol-IIID/%E5%85%A8%E4%BB%BB%E5%8A%A1%E5%8A%A0%E8%BD%BD%E5%9B%BE%E4%B8%8E%E5%85%A8%E6%99%AF%E5%9B%BE%E4%B8%80%E8%A7%88](https://moapyr.fandom.com/zh/wiki/%E7%94%A8%E6%88%B7%E5%8D%9A%E5%AE%A2:Isol-IIID/%E5%85%A8%E4%BB%BB%E5%8A%A1%E5%8A%A0%E8%BD%BD%E5%9B%BE%E4%B8%8E%E5%85%A8%E6%99%AF%E5%9B%BE%E4%B8%80%E8%A7%88)\n\n打包下载：[https://pan.baidu.com/s/12nNkOmIiBtwdJZum8izUVw](https://pan.baidu.com/s/12nNkOmIiBtwdJZum8izUVw) 提取码: aicd\n\n大神们已经在红警里玩模拟城市了，你还在打变态防守地图？？？哔哩哔哩 (゜-゜)つロ 干杯~-bilibili[https://www.bilibili.com/video/av30142547](https://www.bilibili.com/video/av30142547)\n\n\n\n\n\n<!--不需要\n[基地中心单元设置的初步尝试 - 任务、地图制作交流区 - 红警任务之家 - Powered by Discuz!](http://www.pkuit.com/forum.php?mod=viewthread&tid=201314)\n\n<TxCard title=\"\" url=\"\" author=\"\" date=\"\" imgPath=\"\" size='large'>\n\n</TxCard>\n-->\n"},{"title":"其他地图思想与忠告","tags":["入门"],"categories":"思想","author":"天雪酱","excerpt":"## 地图基本要求\n\n1. 地形无明显错误\n\n    一切任务地图或者说地图最基本的要求，不要出现诸如大片错海岸、多处地表白块等错误。\n\n2. 不要轻易崩溃\n\n    游戏出错往往让人沮丧，可以想象玩","link":"/posts/other-thinking-and-advice-about-map","content":"## 地图基本要求\n\n1. 地形无明显错误\n\n    一切任务地图或者说地图最基本的要求，不要出现诸如大片错海岸、多处地表白块等错误。\n\n2. 不要轻易崩溃\n\n    游戏出错往往让人沮丧，可以想象玩一半时突然弹框是什么感觉……所以做好了地图要先测试！！！\n\n3. 有明确的任务目标\n\n    不要让人进去之后摸不着头脑，或者玩着玩着不知道干什么了。\n\n4. 可以通关\n\n    必须为玩家准备至少一种通关的途径，不要难到没法打，或者有恶性BUG导致无法通关。就算是困难难度，也要保证玩家不靠后门就能通关。\n \n## 如何做出更好的任务地图\n\n> 以下仅限于对自己作品的质量有一定要求，并且希望作品受到欢迎的作者。\n\n做任务地图前要先玩任务，多玩一些优秀任务，这样才能了解到，一个好的自制任务是什么样的，怎样设置玩家才有更好的体验，才不至于制作出充斥潦草地形与不合理设定的任务。多去体会一些优秀任务，你在欣赏剧情、场面、氛围的同时，自然而然就会产生一些对优质任务的认知，形成自己理想任务的构想。\n\n::: info\n此站点的子网站[红警任务集锦](https://ra2map.github.io/rw/)也收录了很多任务，值得一看。\n:::\n\n还有就是做任务的心态。应该积极提升自己的技术水平，不要糊弄，要尽量慢工出细活，不要总是速成。做任务，便是有做任务的目的，可能是自娱自乐，可能是在制作的过程中获得成就感，也可能为了与其他人玩，或者各种成分都有。无论是出于何种目的，提高自己的技术水平，都是有益的。比如，学会一点INI，便能多实现一些功能；用触发组做一个精彩的场景，也是很有成就感的事。所以，多学习思考，在任务制作上也是必要的，而不仅仅是在生活中。\n\n这一章节的内容与《mapper核心思维指导》和《新人地图制作者需要有的几项觉悟》有很多相似之处，大家可以去看看另外两篇。\n\n***\n\n## 来自RA2DIY的忠告\n\n请各位地图制作者们务必注意地形地表的美化。地形地表不仅是地图的外貌，更是地图的整体骨架。不要求你的地形地表和美化一定要多么精美绝伦，但是起码要符合常识和逻辑，且不能有诸如地表有留白、海岸有锯齿、悬崖粉线接不上、建筑重叠或在斜坡上等此类明显而又低级的错误。\n\n一幅地形瞎眼地表美化难看的地图即使触发和ini再怎么精巧，终归也不可能成为精品。想要做出好看的地形地表，不仅需要你能充分掌握教程里的美化方式和技巧，更需要你千锤百炼反复练习。\n\n## 来自NOG的忠告\n\n1. 地图最重要的就是地形，精致的小地图往往比单调难看的大地图更能让人喜欢。  \n2. 地图上的中立部队不应该影响玩家（特殊地图除外），你应该不想看到自己的进攻部队没到敌人基地就被血洗。。。  \n3. 做地图一定要耐心，通常一张好地图起码要两三天才能完成。。。  \n4. 测试也很重要，要检查有没有BUG。尤其是有触发，有改INI的地图。。。  \n5. 对战地图里，要注意矿的位置，因为矿场是朝右下的，所以矿在基地右下方的位置会比矿在基地其他方位的位置更有优势。。。。娱乐地图可以不太注重这一点。。。。  \n6. 别忘了放树木和石头。。。。\n7. 放一些触发让地图有声音（鸟叫声啊风声啊）可以让地图更真实  \n8. 除非一些特殊的设定（像黑暗核心那图，因为人都成木乃伊了，而且到处有雷击所以没车，囧）最好放些平民啊车子啊，也可以用触发放一些会动的车子（如穿越水线）  \n9. 非城市地图的悬崖最好手动拼，不要用工具画，这样可以更自然，好看一点  \n10. 经常向高手请教可以提高水平\n\n## 来自至尊火的忠告\n\n1. 地形地表是整张地图的核心，马虎不得。所以必须用心，认真的做\n2. 触发会大幅度提高地图的游戏性和趣味性，多学点触发，到时候会有用的\n3. 有人说地图里一些地表美化根本没有用，其实我想说，只要mapper觉得顺眼不会很大影响游戏，那就不用太过在乎别人说法\n4. 不科学的地形地表其实是可以存在的，不过新人么，就不要多想了，还是先从顺眼符合实际出发\n5. 那些精品地图，被称为精品是有道理的，作为一个mapper，我希望新人拆包看图，揣摩下大神的手笔，当然，拆包之前最好跟作者联系下，最好私信（个人不推荐回帖，虽说回复精品不算挖坟，但是某些千年老贴被弄到首页还是会令某些人不爽）\n6. 不要总以时间少作为地图渣的理由，一张好的地图不总是一天就能完成的，有些地图需要一个月甚至半年的时间才能完成，用心的地图才是好地图\n7. 当你的地图被喷的时候，不要着急反击，要看看自己的地图是否存在问题，要记住，没有人会无缘无故的喷你\n8. 最重要的，还是那句话，用心才能出精品\n\n“再补：麻烦新人们做地图之前把FA2这个破东西好好钻研一下，每个功能每个细节都看看，能指导你的老人没有那么多时间把每个东西都告诉你在哪，如果老人们告诉你：“自己找”也不要觉得他瞧不起你，老人们没必要教你“1+1=2”这种东西，更没必要手把手的完完整整的教你画出一整幅地图。”“补充一句，我们并没有帮带新人、教育新人的义务，新人出师之后，我们也没有任何实质性的回报，所以新人应该珍惜和谦虚对待我们提出的批评意见。”\n\n## 来自YRMAP的评分标准\n\n```text\n 经酱油（@RevivalStudio）建议，为了让评委评分能更加客观，在此给出一套地图技术评委评分规范，供地图技术评委参考（对战什么的我不懂就不管了）。\n \n【多人娱乐地图】\n【整体】30/100（看到这图，第一感觉怎么样？觉得它漂亮吗？觉得它好玩吗？对于整体感觉非常棒的图，尽管给满分吧）\n【面积】05/100（200×200的城市图，总该比50×50的月球图多些苦劳吧）\n【地形】15/100（悬崖自然吗？斜坡自然吗？水岸自然吗？地形越复杂分不一定就越高，压根没悬崖的图，只要地表起伏做得好，一样可以给满分；对于悬崖水岸BUG满天飞的图，尽管给0分吧）\n【地表】15/100（地表美化做到位了吗？有没有糊弄玩家？城市图的人行道、停车场处理得当吗？对于根本没有地表美化的图，尽管给0分吧）\n【细节】15/100（野外图的树木应该有聚有散，有没有无脑刷树糊弄玩家？城市图有没有邮箱、垃圾车、信号灯、路灯的点缀？）\n【灯光】10/100（包括全局灯光和局部灯光。灯光看着越舒服分应该越高：没一盏局部灯光的地图，只要看着舒服，照样满分；对于那种用五颜六色的灯光填塞空地的鸡尾酒地图，尽管给0分吧）\n【创新】10/100（好玩的地形也好，好玩的触发/INI也好，这地图有没有让你眼前一亮？当然，即使是毫无创新的地图，也不必真的给0分，毕竟创新只是让地图脱颖而出的加分项，不是必备的。）\n【最终】100/100（以上各项相加，正好是100分。不过在这里建议评委在算总分时多考虑一些“乘积”的味道在里面，参考木桶原理。如果以上各项中有一项得分非常非常低甚至压根就是0分，那最终得分就应该大打折扣。如果有三四项都是0分，总分尽管给0分吧）\n\n【单人任务地图】\n【原图】30/100（把这张任务地图当做普通遭遇战地图来看，按照多人娱乐地图的评分规范评判吧。当然，主要是评判整体、地形、地表、细节、灯光这几个方面，单人任务的创新性和可玩性一般是从表面看不出来的。另外要注意，如果任务图里有很多车辆，那这些车辆的朝向是默认的统一朝向还是自自然然的不同朝向？哨戒炮、防空炮、盖特机炮这样有明显炮塔的防御建筑同理）\n【可玩性】40/100（玩这个任务和玩遭遇战的感觉一样吗？有没有无脑给敌人铺基地让你去慢慢摧毁？有没有满地图让你找潜艇或别的隐形单位？如果有攻城环节，那敌人有没有投降触发和自动寻敌触发？彩蛋是·帮·助·玩家用的，有没有“你找不到这个彩蛋你就过不了关”这种**设定？有没有无脑刷兵难到让人想吐？有没有为了偷懒而搞出三级基地车这种东西？有没有让人看了就想骂*的超级BT单位？有没有为了让任务显得长一些而无意义地拖延时间？等等等等。另外，如果出现玩家无法胜利，或是一开始什么都没做就胜利/失败的低级错误，尽管给0分吧）\n【CSF】20/100（修改了CSF文件自然是极好的，但如果没有CSF文件也不必给0分，给低点就行了。那什么情况下应该给0分呢？就是让玩家玩着玩着忽然就不知道我**现在该干啥的那种任务）\n【其它】10/100（有没有载入图？载入图好看吗？没有载入图也不要给0分，这个是吸引眼球用的，不是必备的。剧情有吸引力吗？好玩吗？你想黑**都随你，但麻烦作者黑高级点，对于低级黑的剧情，不管别人怎么给，我是要给0分的）\n【最终】100/100（同多人娱乐地图，再次强调切记木桶原理）\n```\n"},{"title":"其他工具","tags":["入门"],"categories":"工具与调试","author":"天雪酱","excerpt":"其他工具软件推荐<!--2018-10-01-->\n\n## 通用\n\n### Notepad3\n\n小巧强大的文本编辑器，有语法高亮等功能，可用来替代系统自带的记事本。下载：https://www.app","link":"/posts/other-tool","content":"其他工具软件推荐<!--2018-10-01-->\n\n## 通用\n\n### Notepad3\n\n小巧强大的文本编辑器，有语法高亮等功能，可用来替代系统自带的记事本。下载：https://www.appinn.com/notepad3/ 。另一个 notepad++ 据说有后门【[知乎](https://www.zhihu.com/search?type=content&q=notepad%2B%2B) ，[RA2DIY](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=21342) 】，已经不推荐了唉\n\n在菜单栏外观——自定义语法高亮方案——配置文件，扩展名添加`; map; yrm`以对地图文件启用语法高亮。\n\n### 一些电脑软件\n\n建议找官网下载，去商业下载站小心中毒\n\n- 天若 OCR 识别：可在线提取截图中的文字\n- Listary：强大的文件快速打开与搜索、文件选择对话框增强工具，让你打开/选择文件时不再需要翻箱倒柜地找。详情请知乎搜索介绍，效果\n- everything：同上，可进行高级搜索，详情请知乎搜索介绍\n- Beyond Compare：强大的文件(夹)比对工具，可以比对不同版本的地图、代码，重装可以重复试用\n- FSCapture：长截图工具\n- snipaste：截图工具，可以贴图到屏幕上等等\n- Imagine：图片批量压缩，转格式\n- screen to gif：gif 制作工具： https://github.com/NickeManarin/ScreenToGif/releases\n- OBS，录屏软件，bandicam 也可以\n- ~~potplayer：功能多，解码全的本地播放器~~\n\n## RA2 专用\n\n### 韩大妈的工具们\n\n[韩大妈的帖子 - 红警DIY论坛 - Powered by Discuz!](https://bbs.ra2diy.com/home.php?mod=space&uid=4204&do=thread&view=me&from=space)\n\n| 主题                                                                                                                 | 介绍                                                                                                                                                                                                                                            |\n|:-------------------------------------------------------------------------------------------------------------------- |:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| [【工具】地图拆分加密器](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23996)                                  | 加密的原理在一种基于ARES拆分文件的地图mix加密方法。这个工具执行后可以拆分加密目录下所有map文件，并且生成包含中文的include子文件                                                                                                                 |\n| [原版许多摆件雪地化](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23949)                                      |                                                                                                                                                                                                                                                 |\n| [办公大楼套件](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23948)                                            |                                                                                                                                                                                                                                                 |\n| [原版风格任务目标标记](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23933)                                    |                                                                                                                                                                                                                                                 |\n| [仿原版苏军载入图模板](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23932)                                    |                                                                                                                                                                                                                                                 |\n| [还原ares修复的“bug”](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23762)                                     |                                                                                                                                                                                                                                                 |\n| [【工具】在小地图上绘制脚本轨迹](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23562)                          | 能够按照图示生成地图里所有脚本的行动轨迹，暂时只支持原版脚本和原版地形。如果某个脚本里包含无效路径点，会生成警告                                                                                                                                |\n| [【教程】ai仇恨](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23550)                                          |                                                                                                                                                                                                                                                 |\n| [[修复]新城市高架木桥修复](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23495)                                |                                                                                                                                                                                                                                                 |\n| [[修复]原版桥梁修复](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23493)                                      |                                                                                                                                                                                                                                                 |\n| [【工具】ID混淆器](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23432)                                        | 有两个版本，第一个是将id替换为7位16进制字符，模仿官方地图，中文版本是替换为四个汉字，可以自定义。中文版只能在原版平台下使用，ares会弹框                                                                                                         |\n| [【工具】树随机替换为坦克](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23381)                                |                                                                                                                                                                                                                                                 |\n| [【工具】ini批量合并器](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23266)                                   |                                                                                                                                                                                                                                                 |\n| [【工具】地图加密器](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23169)                                      |                                                                                                                                                                                                                                                 |\n| [【工具】地图拷贝器](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=22655)                                      | 在源地图上使用连续的路径点围成一个多边形，使用本工具可以将该图形内的所有内容复制到目标地图上。源地图输入的第一个路径点和目标地图的指定路径点相对应，同时在ini里编辑，可以控制复制的物体类型。在复制路径点时，会覆盖掉目标地图中序号相等的内容。 |\n| [关于地图的最大面积](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=22331)                                      |                                                                                                                                                                                                                                                 |\n| [【教程】地图加密](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=21664)                                        |                                                                                                                                                                                                                                                 |\n| [【工具】检测地图物体重叠](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=21588)                                | 检测建筑、污染、覆盖图、飞行器、车辆、步兵、地形对象之间的重叠。当然其中大部分重叠并不会导致游戏弹框，所以如何处理输出结果，还由各位 mapper 自行决定。                                                                                          |\n| [随机地图生成器](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=20461)                                          | 本生成器的原理就是拼图，在一个方形的地形区块中，定义每个边的连接方式，相同的连接方式相邻的边之间，其地形也是相连的，由此拼接成一张大地图                                                                                                        |\n| [一百张城市地图](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=20309)                                          |                                                                                                                                                                                                                                                 |\n| [图片转地图的一个小工具](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=20140)                                  |                                                                                                                                                                                                                                                 |\n| [修复新城市地形中水桥（090）不能和沙地正确连接](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=19914)           |                                                                                                                                                                                                                                                 |\n| [解决00505E41（中立获得基地后IE）问题](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=19875)                    |                                                                                                                                                                                                                                                 |\n| [原版平民建筑修复](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=19759)                                        |                                                                                                                                                                                                                                                 |\n| [实用的AI脚本](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=19701)                                            |                                                                                                                                                                                                                                                 |\n| [[工具]批量生成适用于dta客户端的MPMaps.ini信息以及全景图](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=19612) |                                                                                                                                                                                                                                                 |\n\n### CSF 与 JSON 互相转换工具\n\n需要你会使用 **Python**，文件在 https://gist.github.com/lewisxy/1f96e60119f29b3b98cf6d7f234a870e （国内镜像： https://mirror.ghproxy.com/https://gist.githubusercontent.com/lewisxy/1f96e60119f29b3b98cf6d7f234a870e/raw/ba6046f6aa031a1bbab0a56c8e8bc7625ab5604f/csftool.py ）\n\n```bash\n用法：\n-h, --help show this help message and exit\n-d, --decode decode csf file (into JSON)\n-e, --encode encode csf file (from JSON)\n-i INPUT, --input INPUT\n-o OUTPUT, --output OUTPUT\n如 python csftool.py -d -i stringtable99.csf -o s.json\n```\n\n另一款，需要你会使用 **nodejs**： https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=23574\n\n### 基于 JAVA GUI 的 MAP 文件快速快速编写工具（妖妖酱）\n\n速写器可以用快速生成大量重复的小队、触发，并有根据一定限制条件自动进行重命名的能力，可以快速生成大量有规则的触发。使用者必须限制一定的规则来批量生成触发等。\n\nhttps://bbs.ra2diy.com/forum.php?mod=viewthread&tid=22410&extra=page%3D1\n\n<!--### FA2左栏物体列表重排，绘制地形用\n\n重新排列了左栏那一堆建筑物啊什么的东西，建筑物的 CSF 名更加具体，并且标明了有无落雪模型\n文件在 FA2联盟-破晓 增强修订版v4.171 内。\n-->\n### RA2 触发网络生成器\n\n使用 pyecharts 基于 TS/RA 引擎生成地图的触发网络，需要你会 Python。\n[FrozenFog/Ra2-Map-TriggerNetwork: generate trigger network of a map based on TS/RA engine using pyecharts](https://github.com/FrozenFog/Ra2-Map-TriggerNetwork)\n\n### 清除任务包\n\n<TxDownload size='1.22MB' netdisk='' direct='清除任务包.bat' name='清除任务包.bat' />\n\n在游戏的安装目录下运行，它能删除大多数任务包，还你一个干净的原版。玩新任务前，也可以先把它复制粘贴过去清理一下旧任务的残留。竹蜻蜓制作\n\n### 其他工具\n\n包含一些FA2工具脚本，各种教程工具，正弦昼夜循环代码等。https://www.lanzoux.com/b00axn2ti\n\n### 作弊器（外挂）\n\n仅供测试地图用，配合任务调速效果更佳：方法为对 yuri.exe 创建快捷方式，修改属性目标一栏最后加空格-speedcontrol，若用 ARES 需加进 runares.bat 里面。\n\n请自行搜索下载，建议使用红色警戒2修改大师，2.2版本以上（林毛紫色全能版），不要用其参与联机游戏 以及向他人炫耀 \n\n"},{"title":"不会游泳的企鹅：MO地编教程","tags":["入门","合集","MO"],"categories":"基础与综合","author":"天雪酱","excerpt":"> 心灵终结3.3.6地图编辑器萌新教程，讲解 FA2 除地形以外的内容。杂谈系列会更注重于处理一些比较具体的问题\n\n<TxCard title=\"不会游泳的企鹅24专栏文章\" url=\"https:","link":"/posts/qie-fa2-tutorial-based-mo","content":"> 心灵终结3.3.6地图编辑器萌新教程，讲解 FA2 除地形以外的内容。杂谈系列会更注重于处理一些比较具体的问题\n\n<TxCard title=\"不会游泳的企鹅24专栏文章\" url=\"https://space.bilibili.com/511034534/article\" author=\"不会游泳的企鹅24\" date=\"2023-8-27\" imgPath=\"/img/qie_avatar.jpg\" size=\"large\">\n\n        心灵终结3.3.6地图编辑器萌新教程第25篇：如何让AI造兵（二）——建立作战小队\n        22\n        心灵终结3.3.6地图编辑器萌新教程第24篇：如何让AI造兵（一）——AI触发\n        34\n        心灵终结3.3.6地图编辑器萌新教程第23篇：如何让AI造建筑——基地节点（一）\n        27\n        心灵终结3.3.6地图编辑器萌新教程第22篇：全局变量\n        23\n        心灵终结3.3.6地图编辑器萌新教程第21篇：局部变量（二）\n        16\n        心灵终结3.3.6萌新教程第20篇：局部变量（一）\n        30\n        心灵终结3.3.6地图编辑器萌新教程第19篇：作战小队（三）：其他常用选项\n        21\n        心灵终结3.3.6地图编辑器杂谈3：新建关卡入口，关卡之间的连接\n        38\n        心灵终结3.3.6地图编辑器萌新教程第18篇：作战小队（二）：用已有单位建立作战小队\n        23\n        心灵终结3.3.6地图编辑器杂谈2：常用音效、语音和动画\n        41\n        心灵终结3.3.6地图编辑器杂谈1：新地图编辑器推荐\n        35\n        心灵终结3.3.6地图编辑器萌新教程第17篇：在内置ini中新建建筑与单位\n        28\n        心灵终结3.3.6地图编辑器萌新教程第16篇：科技类型的封锁与解锁\n        38\n        心灵终结3.3.6地图编辑器萌新教程第15篇：国家特色建筑与单位\n        24\n        心灵终结3.3.6地图编辑器萌新教程第14篇：战役中常用的ini修改\n        37\n        心灵终结3.3.6地图编辑器萌新教程第13篇：ini简介，战役地图内置ini\n        56\n        心灵终结3.3.6地图编辑器萌新教程第12篇：游戏中的背景音乐，新背景音乐的添加\n        41\n        心灵终结3.3.6地图编辑器萌新教程第11篇：战役中的全局任务计时器\n        24\n        心灵终结3.3.6地图编辑器萌新教程第10篇：csf文件，战役中的文本\n        44\n        心灵终结3.3.6地图编辑器萌新教程第9篇：触发的禁止和允许（三）：异常情况的处理\n        20\n        心灵终结3.3.6地图编辑器萌新教程第8篇：触发的禁止与允许（二），摧毁触发事件\n        22\n        心灵终结地图编辑器萌新教程第7篇：触发的禁止和允许（一）\n        24\n        心灵终结3.3.6地图编辑器萌新教程第6篇：特遣部队、动作脚本与作战小队（一）\n        32\n        心灵终结3.3.6地图编辑器萌新教程第5篇：触发的类型\n        15\n        心灵终结3.3.6地图编辑器萌新教程第4篇：触发的关联对象\n        24\n        心灵终结3.3.6地图编辑器萌新教程第3篇：触发的基本原理\n        26\n        心灵终结3.3.6地图编辑器萌新教程第2篇：单人地图的部分属性\n        38\n        地图编辑器萌新教程第1篇：前言，地图的新建、保存与命名，自制战役的运行\n        78\n</TxCard>\n"},{"title":"RA2Modder工具箱","tags":["入门"],"categories":"工具与调试","author":"天雪酱","excerpt":"内含很多新兴的MOD工具和教程，持续更新，推荐使用，与此网站互补。视频介绍：红警2 modder工具箱 正式版！发布！[https://www.bilibili.com/video/bv1rV4y1j","link":"/posts/ra2-modder-toolbox","content":"内含很多新兴的MOD工具和教程，持续更新，推荐使用，与此网站互补。视频介绍：红警2 modder工具箱 正式版！发布！[https://www.bilibili.com/video/bv1rV4y1j7X1](https://www.bilibili.com/video/bv1rV4y1j7X1)\n\n<TxCard title=\"红警2Modder工具箱 v1.2.0 正式版更新！！！\" url=\"https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=19969\" author=\"刃下狼血\" date=\"2022-08-16\" imgPath=\"/img/mtbox.webp\" size='large'>\n\n\t\t基本信息\n\t\t软件名：红警2Modder工具箱（Red Alert 2 Modder Tools box）\n\t\t版权声明：刃下狼血 Copyright reserved\n\t\t本软件完全免费，向MOD界无私奉献的前辈致敬。\n\t\t软件版本：v1.2.0\n\t\t主题帖：https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=19969\n\t\t下载链接在文章末尾。请仔细阅读说明后再下载。\n\t\t\n\t\t简单说明\n\t\t作者制作本工具箱主要是鉴于现有的大部分红警工具集合并不完整，或者有很多优秀的组件可以极大的方便modder制作MOD而不被收录，所以制作了这个集合。本软件共包含五个主要分类：美工类、代码类、教程类、其他、关于。每一类下还有小类，分类十分清晰，但是有的组件可能“藏”的比较深，所以各位用户可以使用左下角的“搜索功能”进行搜索。\n\t\t\n\t\t制作中途花费了不少时间搜集软件，寻找最新版，由于部分软件年代过于久远，所以还需要考证作者。然后分门别类，制作为UI界面。不过，更重要的是每一个组件本身，它们才是功能的主体。让我们赞美每一个为红警MOD做出贡献的创作者。部分组件的创作者由于年代久远或者没有署名，目前已经无法考证，如果您认为本工具箱的某处应当附上您的签名，请联系我：https://space.bilibili.com/193006350或QQ：212****09（加QQ请注明来意）。\n\t\t\n\t\t特别感谢Kenosis在本工具箱制作过程中的耐心指导与专业建议，他的建议极大地帮助了本工具箱的使用体验的提升。\n\t\t\n\t\t此外，本软件教程部分主要来源于MK整理的教程包，所以按照资源包的要求完全转载，未做修改。\n</TxCard>\n"},{"title":"调试FA2与游戏","tags":[],"categories":"工具与调试","author":"天雪酱","excerpt":"\n## 解决地图编辑器问题\n\n**FA2非常卡，甚至出错无法运行？**\n\n将下面附件 Final Alert ddraw fix.zip 解压后将文件放入地图编辑器根目录即可【 WIN10,WIN11","link":"/posts/repaire-other","content":"\n## 解决地图编辑器问题\n\n**FA2非常卡，甚至出错无法运行？**\n\n将下面附件 Final Alert ddraw fix.zip 解压后将文件放入地图编辑器根目录即可【 WIN10,WIN11 适用】\n\n<TxDownload size='1.87MB' netdisk='' direct='Final Alert ddraw fix.zip' name='Final Alert ddraw fix.zip' />\n\n补丁来自[http://www.pkuit.com/forum.php?mod=viewthread&tid=201316](http://www.pkuit.com/forum.php?mod=viewthread&tid=201316)\n\n**打开地图编辑器时弹框“红色警戒 2 安装不正确（找不到 ra2.mix）”，怎么办？**\n\n运行红警2 游戏目录下的 RegSetup.exe（尤里的复仇游戏目录下的红色镰刀锤子图标程序，文件名可能为必须先注册.exe 或 SetupReg.exe 等）\n\n**有时候不好用怎么办？**\n\n想快速改有下拉框的内容，可直接在下拉框上滚动鼠标滚轮（作战小队等无效）；若选择的内容无效（如放不上草地）请点下别的地形再点草地；想取消选择当前物体请单击鼠标右键，想拖动地图请拖动鼠标右键；想批量改所属方请双击所属方后在单位上拖动；按住 shift 拖动单位为复制单位\n\n**编辑/打开地图时弹出一个竖长方形框？**\n\n地图损坏/加密了，或者你开挂了\n\n**编辑/打开地图时弹出一个扁框？**\n\n地图损坏/加密了，或者地编所调取ini/地形与地图所用不同，尝试重新注册正确的游戏目录\n\n**FA2弹出一个没字的窗口？**\n\n是因为语言编辑器打开CSF时生成了一个类似广告的条目，在RASRES里面，删除即可。建议换一个语言编辑器。\n\n---\n\n## 升级尤里的复仇\n\n如果你下载了 1.000 版 YURI，把附件中的 exe 和 mix 文件移至安装目录覆盖原文件即可升级为 1.001\n\n怎么看版本号：打开游戏，主界面右下角有显示\n\n<TxDownload size='3.8MB' netdisk='' direct='1000升1001.zip' name='1000升1001.zip' />\n\n---\n\n## 简体中文\n\n把附件中的 fnt 和 csf 文件放至游戏目录，游戏就变简体中文了哦！也可解决游戏字体出现方框问题。\n\n<TxDownload size='746KB' netdisk='' direct='YR变简体.zip' name='YR变简体.zip' />"},{"title":"解决游戏无法运行等问题","tags":[],"categories":"工具与调试","author":"天雪酱","excerpt":"> Ra2map：本文转载自[解决游戏无法运行等问题 - 腾讯文档](https://docs.qq.com/doc/DQnd6T293d01kblVO)\n\n::: info\n前排提示：\n\n* 若你玩","link":"/posts/repaire","content":"> Ra2map：本文转载自[解决游戏无法运行等问题 - 腾讯文档](https://docs.qq.com/doc/DQnd6T293d01kblVO)\n\n::: info\n前排提示：\n\n* 若你玩的是 mod，优先看 mod 的说明\n* 心灵终结3需要在它的客户端设置中切换补丁（建议从后往前试）、改变分辨率以及启用窗口化，直接加补丁无效！手动添加补丁见[自定义渲染方式教程](https://tieba.baidu.com/p/5587322068)。也可以用[MO 注册机](https://www.bilibili.com/read/cv21437878)。若游戏中摧毁建筑上的飞行物弹框尝试改 gamemd.exe 兼容性为 XP SP3 或 WIN7（其他用新平台的 mod 同理）\n* 禁用 3D 加速不能解决切屏黑屏，而且忘记重新启用会影响其他游戏。有需要可自行搜索。\n* 如游戏不能运行请多调试，为了玩红警而去弄虚拟机双系统甚至退回 win7 没有必要\n* 解压缩、改后缀名之类电脑基础操作都不会就多去学学（从 B 站就可以学），免得用电脑时处处碰壁被流氓软件大堆广告绑架。用游戏盒子的想办法找找真正的红警根目录\n* 使用修改捆绑版、精简版、ghost 装机版、电脑城版 Windows 系统会导致更多问题\n* 本文作者轻稚天雪（轻稚），文章许可协议 CC-BY 4.0，转载请署名\n* 如果此文章帮到了你，你可以赞赏我：[微信赞赏](http://www.pkuit.com/data/attachment/album/202204/22/164747d7974y2d2m4lhk5b.png)\n* 也可以直接去看视频，至于补丁和疑难杂症就回来看我文章：[https://www.bilibili.com/video/BV1wK4y1s7wf](https://www.bilibili.com/video/BV1wK4y1s7wf)\n:::\n\n![](../../public/img/调试YR.png)\n\n## 第1章 解决win10/11/8等系统玩红警问题\n\n### 1.1 使用新版ddraw补丁\n\n> 根据补丁的官方说明，补丁也支持winXP/7等系统，若不可用请看本文第3章：其他方法\n\n下载补丁 cnc-ddraw【6.3】，将解压出的那堆文件复制到游戏的安装目录（ yuri.exe（ra2.exe）所在位置）\n\n<TxDownload size='2.55MB' netdisk='https://wwa.lanzoux.com/b0c90seuj' password='ep8x' direct='' name='cnc-ddraw【6.3】等.zip' />\n\n- 补丁来自[github](https://github.com/FunkyFr3sh/cnc-ddraw/releases)，你也可以直接去那里下载最新版。\n- 这里是补丁的官方说明（英文）：[https://github.com/FunkyFr3sh/cnc-ddraw](https://github.com/FunkyFr3sh/cnc-ddraw)\n\n补丁默认是全屏游戏的，不允许通过修改快捷方式窗口化。如果你想在窗口模式下玩，请在配置程序`cnc-ddraw config.exe`中，将显示方式改为无边框或窗口化）。关于窗口大小和分辨率，主界面是定死的`800x600`，进入地图后，以你在游戏选项内设置的分辨率为准。\n\n```\n快捷键：\n[Alt] + [Enter] = 切换窗口或全屏\n[Ctrl] + [Tab] = 解锁鼠标\n[Right Alt] + [Right Ctrl] = 解锁鼠标\n[Alt] + [Page Down] = 最大化窗口 (窗口边框必须在配置中隐藏)\n```\n\n若你有其他需求，可以打开 cnc-ddraw config.exe 或 ddraw.ini 修改参数。\n\n### 1.2 以管理员身份运行\n\n在你的 yuri.exe（ra2.exe）上右键，选择以管理员身份运行。部分电脑可能要这样做2次。\n\n这样就**可以玩了**，屏幕切换到桌面再切回照样能玩哦！\n\n### 1.3 其他说明\n\n若进不去游戏或有小毛病如建造栏不显示请参考本文第2章：各种疑难杂症\n\n1. ddraw.dll原理是重新渲染画面，有多种类型，如果某种补丁使用不正常，可尝试更换其他补丁。\n2. 主界面的分辨率是定死的，无法更改，但不同补丁显示效果不同（拉伸至全屏/周围是黑的）。\n3. 据说origin版的红警也可用补丁，如不可用请尝试500多K那个补丁（没试过）\n4. win10玩时目录可以带中文，出问题不用去管目录是否有中文，改路径之后好因为错误兼容性设置被清除了\n5. 更换补丁必须要删干净之前的补丁，包括且不限\"ddraw.ini\"\"ddraw.dll\"\"libwine.dll\"\"wined3d.dll\"”Shaders”\n6. 游戏出错导致电脑卡死，任务管理器无法显示，只能重启吗？按win键再按win图标右边的“任务视图”，先关掉任务管理器，再从上面新建一个桌面并进入，再打开任务管理器，然后结束游戏进程\n\n## 第2章 各种疑难杂症\n\n建议新玩先按本文第1章设置一遍，有其他问题再看这个（此章基于win10）\n\n**★提示无法启始，请重新安装**：对游戏启动程序YURI.EXE（ra2.exe）右键，选择 **创建快捷方式** 或 **发送到桌面快捷方式** ，右键修改快捷方式的属性：把 **目标** 后面加上“ **-cd**”（不含引号，注意-前面有个空格，如果目标被引号引住了，加在引号外面），结果形如`……\\YURI.exe -cd`或`……\\YURI.exe” -cd`\n\n- 此参数可与其他参数合用，结果形如……\\YURI.exe -cd -win\n- 目录中有Ares开头文件（mod）的话记事本打开修改RunAres.bat（在后面加上空格-cd即可）\n- 若仍无法运行可能为文件缺失，请重下游戏\n\n**★建造栏不显示（像被裁剪掉了）**：这是因为你的屏幕DPI缩放不是100%\n\n方法一：使用新版补丁cnc-ddraw【5.0+】，已经兼容了非100% 的缩放\n\n方法二：调dpi设置：\n\n桌面空白处右键-显示设置，将缩放比例改为`100%`（也可能为右键桌面 属性 分辨率 高级 常规 dpi设置 放大或缩小文本项目 `100%`）。\n\n也可以单独修改游戏属性而不影响全局：打开 game(md).exe 属性，点击更改DPI设置按钮，对话框勾选第一个框\n\n**★出现`***FATAL***`**：尝试几次右键以管理员身份运行游戏启动程序如 yuri.exe(ra2.exe)。一般成功运行一次之后，下次不右键也没事了\n\n**★请求的操作需要提升**：右键管理员运行游戏启动程序\n\n**打不打补丁效果完全一样/莫名出错**：可能是因为[补丁被杀毒软件拦截](https://tieba.baidu.com/p/7828312198)，请自行查看防护记录或添加信任，或考虑卸载\n\n**侧边栏缺少按钮但能点**、进退菜单时闪动、界面错乱、游戏太卡（6速如同2速）：使用新版补丁\n\n**提示无法设定显示模式**：使用新版补丁，不然就给 game(md).exe 属性设置16色（win10/11/8不推荐）\n\n**★玩着卡可以加防卡代码**：打开尤里目录下的 ra2(md).ini（如果没有这个文件就先开一局游戏等它生成），找到[Video]主键，修改（如果没有就加上）\n\n```ini\nVideoBackBuffer=no\nAllowHiResModes=yes\nAllowVRAMSidebar=no\n```\n\n注：不使用视频缓存：TS是很古老的引擎了，在当时的时代CPU很慢，所以利用缓存的办法，把被遮蔽的像素放到缓存里，等到遮蔽物移除后再拿回来的方法比直接用CPU处理要快。不过放到现在的CPU上，因为CPU很快了，这样做反而比CPU直接处理要慢了，而且一旦视频缓冲区溢出就会出错。\n\n**我没东西可以玩**：从下面找\n\n- 文章 https://gitee.com/gtx750ti/bbc/issues/I46WG0\n- 视频 https://www.bilibili.com/video/BV1wK4y1s7wf\n- 直接在 https://www.moapyr.com 找 Yuris Revenge.exe\n\n**游戏截屏/录屏是黑屏**：使用新版补丁\n\n**部分场景切屏出错**：使用新版补丁\n\n**单位名称（黄字方框）闪一下就没了**：使用新版补丁\n\n**建造栏有些单位点不了**：Windows 设置-游戏-游戏栏-关闭 使用游戏录制 xxx\n\n**用了新版补丁还是玩不了**：\n\n1. 更换其他补丁看看\n2. 【不建议】修改 game(md).exe 和 ra2(md).exe 和 yuri.exe（ra2.exe）三个文件的属性为兼容XP SP3，或简化的颜色模式 16色，或都设上。全屏且用补丁一般不用设16色（部分怪电脑用，一般是修改捆绑版、精简版、ghost装机版、电脑城版系统，建议重装）。\n\n**侧边栏缺少按钮且不能点**：尝试改分辨率（没试过）\n\n**游戏界面花屏**：所有exe属性去掉以兼容模式运行这个程序\n\n**一进入游戏就强制跳到桌面但没卡死**：重启电脑\n\n**弹出让你点OK的框**：可能是地图问题、ini问题、运气问题，或参见文章开头*2。\n\n**盟军/苏军战役按钮点不动**：改为全屏运行，或用新版补丁的窗口化\n\n**关于安装的错误（install）**：运行“必须先注册SetupReg.exe”文件等它消失（图标为红色镰刀锤子或黄蓝叉号），或使用第一个毛病的方法\n\n**任务调速**：对游戏启动程序YURI.EXE（ra2.exe）右键，选择 创建快捷方式 或 发送到桌面快捷方式 ，右键修改快捷方式的属性：把 目标 后面加上“ - speedcontrol”（不含引号，注意-前面有个空格，如果目标被引号引住了，加在引号外面），结果形如…\\YURI.exe -speedcontrol\n\n**qres 弹框，弹出一个分辨率**：取消窗口化或改分辨率，或尝试改显示缩放为100%（第2个毛病方法二）或删除 cncnet5.dll，或从别处启动\n\n## 第3章 其他方法\n\n### 3.1 解决win7/xp无法运行游戏\n\n若使用新版补丁无效，可看。\n\n一般win7是可以直接玩的，若不行尝试以下方法（修改自独孤木人）\n\n1. 解决“应用程序错误”“不能为 read”“`***FATAL***”`的问题。\n\n    1. 确保游戏完整执行路径（即为装有yuri.exe（ra2.exe）的那一层层文件夹的名字）里不带汉字和空格。若有汉字和空格，请右键点击那些文件夹，再点重命名将其改成不带汉字和空格的（- -确实是不得不说的废话）\n    \n    2. 尝试几次右键点游戏，然后点“用管理员身份运行”（如果有这个选项的话就这么做，没有或者做了之后无效可以再试试后面的方法）\n    \n    3. 如果前面的方法不行，可以分别右键点游戏根目录里的game(md).exe 和 ra2(md).exe 和 yuri.exe(ra2.exe)点属性，切到兼容性栏目，选择使用Win98/Me兼容性，确定。切记：改目录名一定要在改兼容性之前，不然兼容性就白改了。\n    \n2. 游戏不能开始,出现:\"you must run game form its install directory.\"怎么办?\n    \n    确保游戏完整执行路径（即为装有 yuri.exe（ra2.exe）的那一层层文件夹的名字）里不带汉字和空格，然后双击“必须先注册SetupReg.exe”文件（图标为红色镰刀锤子）。或参见本文第2章第一个毛病\n\n### 3.2 传统窗口化方法\n\n对游戏启动程序YURI.EXE（ra2.exe）右键，选择 **创建快捷方式** 或 **发送到桌面快捷方式** ，右键修改快捷方式的属性：\n\n1. 把 **目标** 后面加上“ **-win**”（不含引号，注意-前面有个空格，如果目标被引号引住了，加在引号外面），结果形如……\\YURI.exe -win    或   ……\\YURI.exe” -win\n2. 再修改game(md).exe的属性为16色，然后右键刚才创的快捷方式，尝试2次 **以管理员身份运行**，应该就可以了。\n\n分辨率过大，会导致鼠标移至屏幕边缘闪退，可以在游戏设置里修改分辨率，或参见[http://www.pkuit.com/home.php?mod=space&uid=179447&do=blog&id=135797](http://www.pkuit.com/home.php?mod=space&uid=179447&do=blog&id=135797)（win11的任务栏更高一些，你需要适当减小高度）。用cnc-ddraw窗口化就没有这个问题，所以还是补丁好\n\n- cnc-ddraw补丁与此方法不兼容！\n- 红色警戒2原版1.000不支持窗口化！\n- origin版的红警，可改lcf文件，右键用记事本打开，里面加 -win（没试过）\n\n## 第4章 其他链接\n\n想玩玩家自制的mod吗？可以B站搜索或看推荐：[MOD集锦 -  rw.ra2map.com/?c=mod](https://rw.ra2map.com/?c=mod)\n\n想下载玩家自制的任务：[任务集锦 -  rw.ra2map.com/?c=mod](https://rw.ra2map.com/?c=mod)\n\n新的红警社区：[https://www.ra2.net/](https://www.ra2.net/)\n\n想联机？看[红警战网平台](https://www.ra2ol.com)\n\n局域网联机需要wsock32.dll补丁（游戏版本须一致，主界面右下角看版本号）然后点网络进入大厅，提示序列号相同自行搜方法\n\n联机补丁下载：[http://www.onlinedown.net/soft/1152994.htm](http://www.onlinedown.net/soft/1152994.htm)"},{"title":"一些FA2视频教程收集","tags":["入门"],"categories":"基础与综合","author":"天雪酱","excerpt":"\n<TxCard title=\"硬核教程：手把手教你如何在两个小时内做一张好看的红警地图\" url=\"https://www.bilibili.com/video/av55809332\" author","link":"/posts/some-fa2-video-tutorial","content":"\n<TxCard title=\"硬核教程：手把手教你如何在两个小时内做一张好看的红警地图\" url=\"https://www.bilibili.com/video/av55809332\" author=\"LH_Mouse\" date=\"2019-06-16\" imgPath=\"/img/2h.webp\">真的很硬核！真的很硬核！真的很硬核！重要的事情说三遍！只有两个小时，也是可以做出一张质量不错的红警地图的！台下某人：你做地图像 C某A （被踢飞 地图下载： https://files.lhmouse.com/ra2maps/</TxCard>\n\n<TxCard title=\"【教程？】红警2触发逻辑原理简述_哔哩哔哩\" url=\"https://www.bilibili.com/video/BV1Vm421x7Nz/\" author=\"ChlorideP\" date=\"2024-04-17\" imgPath=\"/img/caco.webp\" size='large'>\n\n        触发关联\n            关联「实物」和小队：重复类型\n            关联「区域」\n            关联触发：触发链\n            所属？国家？阵营？\n        特别强调\n            中文命名\n            「触发」所属和「特定」所属\n        \n        探讨二者的逻辑原理（仅供参考）\n            触发的顺序结构实现：触发基本逻辑原理——main()和 if while与正经的高级程序语言的区别\n            触发的时序\n            局部变量的程序原理\n            触发的选择结构实现：允许、禁止、摧毁触发事件\n            触发的循环结构实现：重复类型\n        入门实例\n            经典局部变量案例：运输船找妈妈\n        中阶实例\n            局部变量实现「或」「非」逻辑\n            「或」——殊途同归\n            「非」——逆向思维\n</TxCard>\n\n<TxCard title=\"红色警戒2 秋裤的地编小教程（一）-（五）\" url=\"https://www.bilibili.com/video/BV1GL411T7SQ\" author=\"尤里丘尔库夫斯基\" date=\"2023-1-17\" imgPath=\"/img/qiuku.webp\" size='large'>\n\n        （一） 先期准备与基础地形 2022-2-26\n        \n        终于，正经教程来了。 下一期我们来认识触发，目前设备还在调整，之后清晰度应该能再一次提高才对。欢迎加入粉丝群：975****83\n        https://www.bilibili.com/video/BV1GL411T7SQ\n        \n        （二） 基础触发与刷兵 2022-3-12\n        \n        这张地图的完全版很快就会和大家见面了...倒不如说是已经做完了，视频还没完成。 大家应该注意到了，出生点很不对劲对吧？\n        https://www.bilibili.com/video/BV1tU4y1o7Lv\n        \n        （三） 触发间的互相连接 2022-4-16\n        \n        仅仅作为触发间连接的解释。 下期我应该会回去做快捷键。 这期的确...有点紧... 欢迎加入粉丝群：975****83\n        https://www.bilibili.com/video/BV1B94y1d7JB\n        \n        （四）地形美化如何做？ 2022-6-11\n        \n        本期视频本着共同学习的态度进行，有不对的地方欢迎指出。 视频最后放了这两张全息图，大家可以试试三支放大。 秋裤的玩具箱1.6 pan.baidu.com/s/1ElVmXiVAY5iFvZle51pVEQ 提取码：2022\n        \n        https://www.bilibili.com/video/BV1GL4y1N7PS\n        \n        （五）ini如何导入地图？（纯萌新向）2023-1-7\n        \n        就...简单的水一期，其实正在写恶搞剧情的台词。 秋裤的玩具箱小更新：链接：https://pan.baidu.com/s/1l6L4HJSH1nZTJp2pfa8Z1w 提取码：2022 有兴趣研究研究技术可以去看看MK大佬的视频。\n        https://www.bilibili.com/video/BV1HP411F7UP/\n</TxCard>\n\n---\n\n<TxCard title=\"【心灵终结】教你如何做一个好康（辣鸡）的停车场~~~_哔哩哔哩\" url=\"https://www.bilibili.com/video/BV1wJ411377y/\" author=\"星之-光芒\" date=\"2019-09-18\" imgPath=\"/img/tcc.webp\">未使用细白线网格，所以也适用于原版TX地图。完成图：https://i2.hdslb.com/bfs/archive/f65801d65cf2e96f1089ca1833607346443683b0.jpg</TxCard>\n\n<TxCard title=\"心灵终结；用地编器做遭遇战地图教程1----基本工具认知_哔哩哔哩\" url=\"https://www.bilibili.com/video/BV1UJ411K7yg/\" author=\"星之-光芒\" date=\"2019-09-25\" imgPath=\"/img/xzgm.webp\"></TxCard>\n\n<TxCard title=\"心灵终结：用地编器做遭遇战地图教程2----山脉，缺口，高地，水上山脉，海岸。_哔哩哔哩\" url=\"https://www.bilibili.com/video/BV1oJ411K7ub\" author=\"星之-光芒\" date=\"2019-09-26\" imgPath=\"/img/xzgm.webp\">有问题还请指出~~~</TxCard>\n\n<TxCard title=\"【心灵终结】如何让你地图中斜坡更加美观_哔哩哔哩\" url=\"https://www.bilibili.com/video/BV11J411J7A5/\" author=\"星之-光芒\" date=\"2020-01-15\" imgPath=\"/img/xp.webp\"></TxCard>\n\n---\n\n<TxCard title=\"红警2地形制作：从入门到放弃 - 哔哩哔哩\" url=\"https://www.bilibili.com/video/BV1Nv41187BL/\" author=\"一只不爱做梦的青凰\" date=\"2021\" imgPath=\"/img/rmfq.webp\">P1 序章 10:36 P2 第一期：常用按钮的介绍 09:30 P3 实战：战网热图——每人一小块地的制作过程 1:13:14 P4 第二期：基础地表美化 </TxCard>\n\n<TxCard title=\"10秒，教你做一个红警地图 - 哔哩哔哩\" url=\"https://www.bilibili.com/video/BV1Ga4y1G7fc/\" author=\"百百川\" date=\"2023-05-01\" imgPath=\"/img/bbc.webp\">《制作红警地图》系列第一集 做一张红警地图是怎样的一种体验？ 我是百百川，一名玩红警的快乐肥宅 距离上次更新362天，成功刷新拖更历史记录！</TxCard>\n\n<TxCard title=\"TA的合集和视频列表RA2地图编辑器教程\" url=\"https://space.bilibili.com/45212718/channel/seriesdetail?sid=2174963\" author=\"极度缺乏维生素\" date=\"2022-4-11\" imgPath=\"/img/wss.webp\"></TxCard>\n\n<TxCard title=\"TA的合集和视频列表【教程篇】\" url=\"https://space.bilibili.com/22227486/channel/seriesdetail?sid=1393404&ctype=0\" author=\"泠韵丿雷\" date=\"2018\" imgPath=\"\">21个视频2021-12-23更新关于《红色警戒2》的教程</TxCard>\n\n\n\n\n\n\n\n\n\n\n\n\n"},{"title":"一些任务地图思想","tags":["入门"],"categories":"思想","author":"天雪酱","excerpt":"> Ra2map：本文转载自作者：贴吧@a351650226的文章\n\n## 地形\n\n这个东西我想已经是被讨论烂了的东西了，贴吧的一些观点我也看过，事实上就我个人经验而言，地形在任务中的确或多或少的是一","link":"/posts/some-mission-thinking","content":"> Ra2map：本文转载自作者：贴吧@a351650226的文章\n\n## 地形\n\n这个东西我想已经是被讨论烂了的东西了，贴吧的一些观点我也看过，事实上就我个人经验而言，地形在任务中的确或多或少的是一个不会被玩家太重视的环节。原因自然很清楚，玩家关心的是'怎么玩' '好不好玩'而非是这个森林如何那个街区如何，很显然这是一个制作者得下大功夫然而最后总是被玩家无视的地方。\n\n那么地形就应该被无视吗？显然不是！地形虽然不被玩家关注，但一样是非常重要的，打个比方，假设某人制作了一个任务，地点在亚马孙雨林，而实际地形只是自动拉出来的河流外加刷树，而另一位制作的则是错综复杂的河流沼泽，外加极具雨林特色的树木放置，再辅助以合适的黑色灯光，那么带来的效果能一样吗？答案自然不用多说。好的地形可以给玩家更好的游戏代入感，而这是一个任务十分必要的。（当然，你纯粹就是做着玩那无所谓）\n\n所以，我个人对地形的观点是：你不需要和那些大神一样做的美轮美奂，但起码也得下功夫让它看起来自然，那种超级切糕悬崖之类的东西做出来真的是违和无比严重影响代入感的东西。（当然了，你要是有能力把地形做好的话还是要尽量做好的）\n\n最后评论一下隔壁某贴对于地形的讨论，本人大体上持赞成态度，不过对于贴里某些人与之而形成的所谓地形没用，你骂我地形差等于你是触发菜\\*任务菜\\*观点的人持否定态度。（说那种话的人敢跟我单挑一下任务制作水平否？地形触发随意，当然是暑假的时候）\n\n## 任务的自然度\n\n这是很多MAPPER忽视的东西，为什么要特意拿出来说呢？就本人作为一个任务制作者而言，我更喜欢别人在讨论任务的时候说“苏军的近卫装甲部队会通过铁路运输到达火车站增援，所以我需要组织一个突击群炸掉车站来阻止苏联人的增援”而不是“AI会在那个像车站的地方不停的刷犀牛坦克，你把那个建筑炸了他就不会刷了”。那么要怎么做到这一点，很简单的事情，你用TX地形搞出铁路运输，然后用火车装载小队运兵过来不就完了？是不是比起直接在那个地方直接朝玩家家A过去更有代入感？而且这是什么很困难的动作么？说实话做这个效果几乎用不上本帖的任何触发教学，当然有人会说懒得做，那么请问你做出这个任务是干什么的？不就是给玩家玩的吗？多写几个小队触发出来会导致你的鼠标失灵或是FA2停止工作吗？与此类似的还有其他许多情况，比如说比起一次性把一堆坦克、步兵编成一个小队一个地方出来打，拆成几个小队间隔的从不同方向出来效果不是更好么？这些都是能让玩家有着更好游戏体验的而且没什么难度系数的东西，但有些MAPPER就是不肯去注意。\n\n## 难度和任务设计\n\n有些任务很喜欢拿难度当自己的招牌，具体体现就是各种反人类刷兵（防御地图无视这点，注意是防御地图不是防御任务），各种黑幕里放冷枪，当然了，还有喜闻乐见的给GI拆磁暴线圈的那种。\n第一种不说了，那种无穷止境的不停刷同种兵朝玩家家压的除了让玩家一开始手忙脚乱后面觉得boring外没什么，第三种纯属智障，这边重点提一提第二种。\n\n玩家玩一个任务失败出来原因自然多了去了，操作失误什么的都有，但有一种死法是很难让人接受的：渗透任务，满屏的黑雾，突然一个角落冒出个蜘蛛完全没法反应的就钻死了你的VIP单位。\n\n如果说已经给了警告视野那边一个有一个蜘蛛需要玩家避开而玩家偏偏作死要去惹最后失败那没什么好说的，但你搞这一出出来意义何在？考验玩家的“反应力”？事实上大多数人遇到这情况基本上都得读档一次重来，不过ARES平台玩家估计要\\*\\*了，特别是某APYR（笑），这样一来除了让玩家浪费时间读档重来没任何意义，不过，某些MAPPER却是以此为荣而且放了一堆这样的东西来报复社会，对这样的MAPPER我只能说你这样毫无意义的浪费玩家时间真的好么。。任务之家的爱国者就说过这一个问题：你让一个人因你的任务在一个毫无意义的地方浪费了一个钟头，那么50个人就是50个钟头，而且你还不能保证有50个人愿意玩你的任务。当然他吐槽的是那种无尽的打一排排防御的任务，不过我认为放这边是一样的。\n\n典型的例子就是MO3的厄普西隆第11关，恶心程度到了发指的地步，在你任务完成前输掉都是都是可以的。（当然我没有任何指责这关的作者lovalmidas的意思，他的触发水平是很棒的，不过这一点真的很不好）我在这边引用一下外国玩家对这关的评价：\n\n> It's true though, that Singularity is the kind of mission that I can't enjoy even after beating it, it was more like..........\"So, it's finally over? Now I can get off the computer.\"\n> \n> After my 50th try.........I never touch it again.\n\n你愿意让你的玩家抱着一种完全不是享受过程而是为了通关并且完全不想再碰这关任务么？如果答案是是的话，只能说你这个MAPPER当的很失败。一个任务设计如果反人类，就算触发再高级地形再好都不会让人想再碰的。\n\n（续上文）显然西木在这点上控的很好，很明显的例子是红色革命（其实这一点放在潜入任务谈更好不过我不想码字了。。）如果你选择了正面强攻，那么AI的攻击对于大多数新手而言是噩梦，但你可以选择用基洛夫偷掉克宫，几分钟结束战斗。\n\n那么类比到MAPPER的任务中呢？讨论的时候有人会说“打下这个地方需要20辆犀牛，攒点钱就稳了”结果下面跟了一个“根本没那种必要，这地方有个小道，搞个小部队摸上去就能断电了”结果再有一个“明明有条路能绕开那个防线，死磕干嘛？\"\n\n很明显了吧？比起“这地方有个蜘蛛，别浪”“那边有个狙击手，别作死”的讨论，上面的这种方式是不是更有意思？比起制作各种让玩家瞬间爆炸的机关增加难度，不如设置多种方法让玩家探索，也许直接的攻击让完成任务很难，但换个打法走位就很轻松，这也是官方任务明明地形触发都不见得多好却长盛不衰的原因，不过说实话要做到这点并不容易，事实上我自己都把握不好。。\n\n（当然了，这种机关类的陷阱不是说完全不要用，你在确保玩家不被你恶心死或者玩家能提前有警觉的话去玩是无所谓的）\n\n休息时间就扯这么多吧，欢迎讨论当然没人看我也无所谓，毕竟咱是早就习惯了类似106的冷场大法了。\n\n---\n\n本论述所有内容均是以一个正常剧情式任务的观点进行论述，纯娱乐式任务可以自便（当然我认为还是注意一下这些问题比较好）\n"},{"title":"一些其他触发条目说明","tags":["进阶"],"categories":"触发与小队","author":"天雪酱","excerpt":"## 触发重复类型 1\n\n> 作者：a351650226\n\n关于触发类型 1（摘录自任务核心内容制作手册，感谢Pzy 爱国者之热血 蜘蛛星云三位大师）\n\n触发类型有三种，人们所了解的大都只是两种，一个","link":"/posts/some-other-triggers","content":"## 触发重复类型 1\n\n> 作者：a351650226\n\n关于触发类型 1（摘录自任务核心内容制作手册，感谢Pzy 爱国者之热血 蜘蛛星云三位大师）\n\n触发类型有三种，人们所了解的大都只是两种，一个是触发一次（0），一个是重复触发（2）。相信大家都很明白这是什么意思。那么还有一种**被关联物体全部满足条件（1）**。在触发编辑器里只有0和2两种，1没有。在标签里1被写上“未知”。这就是编辑器问题了。\n\n1的用途实际是：例如一个触发是**被任何事物摧毁，事件触发**，不论类型是0还是2，你把他关联到两个单位上，只要其中任意一个被摧毁就可以完成触发。但是如果触发类型是1，那么必须被关联的**两个单位都被摧毁**才能触发。也就是被关联的单位全部满足条件才能触发。但是如果你用的条件不是可以关联到单位上的，那么这个触发就废了，不能触发。\n\n现在鄙人验证了触发条件1进入事件不能使用触发类型1\n\n具体应用：比如说地图上有三个电厂，一个重工，一些坦克，要求全部被摧毁后触发事件，这时候用触发类型1就相当轻松了（不需要搞什么特定的所属方了）\n\n说实话进入事件不能在触发类型1里用是很可惜的事情，如果能用的话，就可以做出那种要求一整个小队（玩家可控）全部到达一个指定区域内后胜利的任务了。。\n\n## 触发条件30 电力不足的bug \n\n> 作者：方越强\n\n也许是早就有人知道，权当关公面前耍大刀吧！  \n\n这是任务图。设置触发，条件`30触发所属方电力不足`，结果允许下一触发：在50秒后，`32摧毁关联物体`（核电厂）或`42爆炸于`图示路径点位置。第一触发不用禁止，第二触发禁止。载入游戏后50秒，核电厂全部爆掉。黑方电力十足，并不满足触发条件，可电脑依然去执行触发。\n\n试了很多遍发现一个问题，玩家在有无偿雷达的前提下不难发现，进入游戏界面后电脑有一个电力缓冲，无偿雷达才会正常运作。此期间，电脑判断电脑方已经断电，制作者设置的触发条件已满足，允许触发，核电厂爆掉。解决方法就是把第一个触发也禁止掉，避开无偿雷达的电力缓冲，再用其它触发激活第一触发。\n\n::: tip\nRa2map：经测试，仅 AI 有此 bug，玩家方无此 bug。\n:::\n\n## 触发行为135 超武首选目标路径点\n\n> 触发所属方的电脑玩家会将以后可选目标的超武以特定的路径点为目标。只对打击类如核弹等超武有效。\n\n> 作者：a351650226\n\n这个结果在官方任务中最大的应用毫无疑问就是YR盟3那一发必炸重工的核弹了，然而本人在经过对该结果的一系列测试中发现这个触发及其的SB。。各种奇葩限制。\n\n首先，这个触发结果对玩家无效（废话。。） 对 IQ=0的 AI 无效，最重要的一点，对尤里的心灵控制器无效！（如图所示，可以看见心灵控制器直接发射不了，所以用这个触发结果如果AI在后面会使用心灵控制器的话一定要记得把首选目标清零）\n\n自然的，这个触发对于超时空和铁幕都是无效的，但这两个都是靠小队脚本来调配使用的所以无所谓，不过基因突变器也用不了。。所以说使用这个触发一定要慎重。\n\n另外提一下，如果用触发结果的给 AI 添加超级武器的话 AI 是不会用的。。（ARES 平台下测试的结果，但我认为 YR 也一样）\n\n还有重要的一点，如果要做类似于YR盟3玩家空手接核弹的效果的话一定要在开局加一个 AI 和玩家敌对的触发，不然设置了首选路径点后 AI 一样是不会发射超武的。\n\n另外附上一些自己测试出来的其他结果，权当是自己在FA2五六年来的一些小发现吧。\n\n1. 触发条件中的随机延时不会导致联机时RE.\n2. 局部变量在联机中不会造成RE.\n3. 触发结果中的重置地图黑幕不会造成联机时RE.\n4. 利用无限关联触发可以做出遭遇战任务中AI变卖掉一个开局归属给他的建筑的效果，但是对于玩家似乎无效，而且还会因为触发连续启动造成很帧数严重下降。\n5. 触发小队刷兵（结果80和7）本中的 分散 这个动作如果是脚本中的第一步的话会造成无法执行。但理论上来说结果4的建立小队和107的超时空传送援军不受影响（未测试）\n6. 在单人任务中延时两秒再把玩家视角切换到开局的视野配合上 EVA 的建立作战控制连线的语音效果会比直接给开局的视野好很多，尤其是开局就是混战的那种、因为 AI 需要2-3秒（游戏内的）的反应时间，如果直接给视野的话会出现AI开局单位互相愣了一会才交火的问题。\n7. ~~前文的刷兵小队全灭后触发事件需要确保该小队脚本里有两个以上的动作（比如说移动到某路径点后进入警戒状态）不知道是什么原因。。~~\n\n## 触发行为 10＆100 播放影片...\n\n> BY 秒\n\n【前提】完整的movmd03文件。【下载地址】http://pan.baidu.com/s/1bnxOyYV【仅仅是让任务变得更科学】【哪些适用自己辨认吧】【不做介绍是官方任务影片，你确定要用？】\n\n**【萌军篇】**\n\n【触发】100 在雷达窗口播放影片... 参数为数字\n\n```\n2 “时间机器就在金门大桥的南边” \n3 “时间机器已经有足够的能源了，我们已经做好进行时间转移的准备了”“呜啊 ~ ~ ~，出发吧，宝贝”“请坐好，这可能相当颠簸”【画面切到YURI】“我恐怕你已经没有时间了，但不用担心，这一点都不会有痛苦，而且当你们没有自由意志之后，生活会变得更简单一些” \n4“指挥官，你做到了，时间转移成功了”“是啊，但我们出现的时机也不太好，我们正好处于红军占领区的中央，快使用巨炮来击溃苏联部队，当您下达命令后，我会游到恶魔岛上，把心灵控制器炸成碎片”\n7 “指挥官，你的MCV已经在靠近洛杉矶国际机场的位置就位”\n8 “指挥官，敌人正在使用恐怖的新科技，部队回收站。。。（科学的介绍）。。。。YURI正在把俘虏的市民送入回收站中，并把他们变成战争资金！” \n9 “指挥官，洛杉矶中也有些强劲的市民，他们可能会帮到你” \n11“间谍卫星确认，尤里已经在这里建立了一个基地” \n12（YURI）“同盟指挥官请注意，你挑衅的攻击行动，将遭受惩罚，西雅图已经是我的了，把你部队撤走，否则我就用核弹把这里炸为灰烬” \n13 “尤里的核弹攻击使我们电力不足，如果你能占领一些发电站，说不定我们能让我们的天氧控制器就绪并组织反击” \n14 （Microsoft）“我将捐赠一些钱，作为你的战争资金” 16 “我们已经追随博士建立基地，这里是埃及” \n18 “指挥官，协助我渡过河，这可让你好受些，去尤里的爪牙中救博士，在他们弄清之前逃出来” \n20 “尤里复制中心的位置就在澳大利亚” \n21“尤里正在使用基因科技调整他的部队” \n22“我们侦测到敌人的水下部队正在向你接近，这些是雷鸣潜艇。。。（科学的介绍）。。。” \n24 “这是一个重要的会议，指挥官，如果达成协议，红军将会加入我们对抗YURI” \n25 （YURI）“你不会胜利的指挥官，愚笨的罗曼洛夫会死，萌军领袖也会落入我的控制之中，很快你就会请求我的怜悯，或许你将活下去，变成毫无自我意识的奴隶，这说不定可以让我高兴~” \n26 “指挥官，你的表现真好，协议已经签署了” \n28“我们的部队会部署在火地岛，那是南美洲最南方的顶端” \n29 （YURI）“我准备了一个新武器给你，将军，一部基因突变器，他能让你的部队变成我忠实的狂兽人，只对我忠诚。” \n```\n\n【触发】10 播放影片 参数仍为数字 \n\n```\n1 5 谭雅挂了可用此影片 \n6 10 15 17 19 23 27 \n30 盟军战役结局 \n```\n\n**【毛子篇】**\n\n【触发】100 在雷达窗口播放影片.. \n\n```\n34“时间机器就在金门大桥的南边” \n35“我们已经回到过去了，只不过回到的是6500万年前，等一会，指挥官，我们要重新进行时空转移” \n36 “做得好，将军，我们已经到目的地了” 38“在这条时间轴里，我们的部队还超过盟军，但我们仍然失败了” \n40“尤里的心灵控制器在伦敦的某处” 41（YURI）“将军同志，为什么要这么做呢？没有我，苏联只会成为美利坚合众国的一个小州而已，我所做的都是为了我们的命运。哎，没关系，这些美国佬的心智太脆弱了，现在，他们为我而战，等待自己的死期吧，这不会太久的，我说到做到。” \n42 “太好了，盟军已经从尤里的手中解放了，嗯，盟军特务谭雅在线上等待和你的通话，我帮你接通”“嗯，我从未想过对一个共产党员说，额，谢谢。好的，尤里就要接受制裁了，我现在听候你的指挥，你最好知道你在做什么，如果我手下挂了，你就得给我交代清楚。了解了吗，骚年？” \n45“尤里已经占领了该区域唯一的机场，而且，他还在搜寻我们的总理，我们必须赶在他之前找到他” \n46（YURI）“这是我给诺曼诺夫的讯息，总理，出来投降，我就答应部队收留你。你如果继续藏的话，就会被杀，将军同志已经成为全苏联人民的叛徒，他们以及全世界的命运，都将由我左右。” \n47 总理在酒吧痛饮，法克。 \n49 “尤里的秘密海军基地就在南太平洋的一座小岛上。” \n50 “这座基地的目的明朗了，这是一座发射基地，火箭本身就是增强型太空船，总理想知道太空船的目的地是哪里” \n52“尤里的太空船已经把尤里的计划告诉我们了，尤里的月球基地就在附近，等心灵控制器网络启动之后，他将和他的复制人部队一起到这个基地中，我们必须毁灭这座基地” 53“我们的某些坦克已经改造完成，以便在月球中使用，不过传统的步兵仍然无法生存” \n55“我们已经锁定尤里要塞的位置了” \n56（YURI）“将军同志，现在就撤退吧，不然你将见证我基因突变的强大威力，这个装置可以让部队基因突变，即使是我的敌人，变成我所控制的狂兽人。蛤蛤蛤。” \n```\n\n【触发】10 播放影片 \n\n```\n33 37 39 44 48 51 54 \n57 苏联战役结局\n```\n"},{"title":"关于PVP地图创作的一点小建议","tags":["入门","PVP"],"categories":"思想","author":"天雪酱","excerpt":"<TxCard title=\"关于PVP地图的创作给Modder们的一点小建议\" url=\"https://www.bilibili.com/read/cv21830793/\" author=\"一只不","link":"/posts/some-suggestions-for-pvp-maps","content":"<TxCard title=\"关于PVP地图的创作给Modder们的一点小建议\" url=\"https://www.bilibili.com/read/cv21830793/\" author=\"一只不爱做梦的青凰\" date=\"2023-02-14\" imgPath=\"/img/idck_1.jpg\">我看好像很少有人提到PVP地图该怎么做，也有人问过为什么那么多树和美化小部件之类的问题，我作为原版PVP师长，可爱战队副队长，复仇时刻地图师，大概地说一下PVP地图想要被PVP玩家认可所需要的几点：</TxCard>"},{"title":"一些小队实例","tags":["进阶"],"categories":"触发与小队","author":"天雪酱","excerpt":"## 触发刷的载具内成员开火\n\n> 由轻稚天雪提供\n\n直接刷出带兵的 IFV 或者战斗要塞时，里面的兵不会开火，你可以让它先不装载，走到蓝线内，再装载，再进攻。<!--todo-->\n\n## 让地图上","link":"/posts/some-team-instance","content":"## 触发刷的载具内成员开火\n\n> 由轻稚天雪提供\n\n直接刷出带兵的 IFV 或者战斗要塞时，里面的兵不会开火，你可以让它先不装载，走到蓝线内，再装载，再进攻。<!--todo-->\n\n## 让地图上现有的单位执行脚本\n\n> 由轻稚天雪提供\n\n1. 将所需单位放置于地图，将单位属性的两个`招募`都设为1，\n2. 在它那里建立路径点，\n3. 建立对应的作战小队、特遣、脚本，作战小队无任何必须勾选的选项，\n4. 然后使用触发结果`4 建立小队`即可。\n\n提示\n\n1. 如果单位是通过触发刷出到地图的，原小队需勾选`允许AI重组`；放弃原动作强制召唤，需要新小队优先级大于原小队\n2. 分组需要相同，除非勾选了`忽略分组`\n\n## 运输船卸载后返回且成员执行命令\n\n> 由轻稚天雪提供\n\n1. 建立局部变量1（初始0）\n2. 建立小队1，小队勾选`装载部队`，特遣为船+兵，脚本为移动到卸载点——卸载（保留乘员踢出载具）——**设置局部变量1**——执行剩余乘员要做的动作\n3. 建立小队2，小队路径点为卸载点，特遣为船，脚本为从卸载点开始的返航动作\n4. 建立触发1，刷出小队1\n5. 建立触发2，条件为局部变量1开启，结果为4号行为创建小队2\n\n这样当小队1卸载后，便会通过局部变量令小队2启动，把运输船召回。作战小队最好都勾选`忽略阻拦`。\n\n::: tip\n如果需要重复运行呢？比如敌军一船一船地赶来进攻\n\n将触发1, 2改为重复，触发2结果增加一个清除局部变量1即可\n:::\n\n> 也看：[地编教程 - 如何制作一个运输船卸载返回小队（附GIF图演示） - 哔哩哔哩](https://www.bilibili.com/read/cv15058659/)\n\n## 做一个“轮渡”，在几个地点间运送乘员\n\n### 方法一\n\n1. 准备路径点0、路径点1，\n2. 准备特遣部队：运输艇\n3. 准备脚本：\n    1. 警戒30秒（自己决定）\n    2. 移动到路径点1\n    3. 卸载，仅保留交通工具\n    4. 警戒30秒\n    5. 移动到路径点0\n    6. 卸载，仅保留交通工具\n    7. 跳转到第一行\n4. 准备作战小队，路径点为0\n5. 触发刷出作战小队\n6. 记得与运输船所属方结盟（遭遇战请设为治安）\n\n这样你便会看到运输船在两个地点来回走，而你可以上车，到站后会自动下车。\n\n### 方法二\n\n> 由无敌和谐弹提供\n\n就像摸3的 Toxincity 那样，中立运输艇在两个点定时来回跑，任何玩家都可以把自己的单位装进去，运输艇到达目的地后自动卸载。\n\n————————解决方案————————\n\n1. 建立两个局部变量，分别为变量A、B，预设值都为0\n2. 建立两个路径点，分别为路径点A、B\n3. 建立两个脚本，分别为脚本A、B\n    ```\n    脚本A内容：\n    0，移动到路径点B\n    1，设置局部变量，参数为局部变量A\n    2，卸载，参数为3\n    脚本B内容：\n    0，移动到路径点A\n    1，设置局部变量，参数为局部变量B\n    2，卸载，参数为3\n    ```\n4. 建立一个特遣部队，成员为一辆运输船\n5. 建立两个作战小队，分别为作战小队A、B \n    ```\n    **作战小队A内容**：\n    关联脚本A，运输船特遣部队，**参战方为治安，路径点为A，小队选项中只勾选“预建造”** \n    **作战小队B内容** ：\n    关联脚本B，运输船特遣部队，**参战方为治安，路径点为B，小队选项中只勾选“预建造”**\n    ```\n6. 建立五条触发（重点） \n    ```\n    **触发1：**\n    所属参战方为治安，触发类型为“2.多次触发”，勾选禁止\n    条件：“13 流逝时间...”参数为30左右（运输船等待时间）\n    结果1：“4 建立小队...”参数为作战小队B\n    结果2：“54 禁止目标触发”参数为触发1\n    \n    **触发2：**\n    所属参战方为治安，触发类型为“2.多次触发”，勾选禁止\n    条件：“13 流逝时间...”参数为30左右（运输船等待时间）\n    结果1：“4 建立小队...”参数为作战小队A\n    结果2：“54 禁止目标触发”参数为触发2\n    \n    **触发3：**\n    触发类型为“2.多次触发”\n    条件：“36 局部设置开启...”参数为局部变量A\n    结果1：“53 允许目标触发”参数为触发1\n    结果2:清除局部设置，参数为局部变量A\n    \n    **触发4：**\n    触发类型为“2.多次触发”\n    条件：“36 局部设置开启...”参数为局部变量B\n    结果1：“53 允许目标触发”参数为触发2\n    结果2:清除局部设置，参数为局部变量B\n    \n    **触发5：**\n    条件为“8 任何事件”\n    结果：“80 援军(作战小队)[在路径点]...”参数为路径点A和作战小队A\n    ```\n\n————————END————————\n\n## 小队成员太多导致移动到路径点卡住\n\n> Ra2map：此文转载并修复自https://tieba.baidu.com/p/4535792765 ，原帖被删残废了，作者名也已丢失。\n\n首先呢，做地图的，尤其是想做大兵团刷兵类型的，往往弄到某个地点，兵就不动弹了，所以在没有高级 AI 补丁和自己特殊编写的补丁的前提下，往往都是用一个 attack 直接奔着玩家基地去，结果就是游戏中各种单位智能极其低下，这个在各种海量 BT 防守图里面例子很多，我就不截图了\n\n我们翻一翻 AI 的动作文件，有一组最难的进攻小队\n\n```ini\n[0A43ADEC-G]\nName=Allied Big Team\n0=6,MTNK\n1=3,SREF\n2=4,FV\nGroup=-1\n```\n\n一共13辆车，我们用触发的方式制作它看看能否行动\n\n同样的，这个小队同样停滞在了第一个执行处（然后无法继续行动）\n\n从上面的情况，我们可以得出，在默认文件的情况下，一般的小队队员数量不会超过10，如果是10个成员，有的时候会激发脚本动作，即可以完成脚本的第一个动作，但是多数时候是卡在那里取消动作的，而且，原版 AI 绝大多数小队，成员数量都没有超过10。所以：\n\n1. 如果制作者弄了一大堆的兵力，想要在玩家的基地门口集结冲锋，那么结果必然是不动弹\n2. AI 刷兵的脚本动作可能跟玩家制作的脚本动作限制不同。因此大于10这个数量的兵力在 AI 下可以动，玩家如果不写 AI 的话可能就无法动作\n\nPS：这里成员的概念为：占据满一个单元，即 cell 的，为1个成员。红警2里所有的载具，飞行器之类的体积都是1，也就是说1个单位占据一个 cell 。而步兵的体积为1/3个 cell，也就是3个步兵为1体积单位。最明显的就是如果你通过地图编辑器放置兵力，一个格子里可以放置3名步兵，而关于 cell，如果你打开地图编辑器的框架模式，地图里面每一个小正方形即为一个 cell。\n\n> Ra2map：以下内容由轻稚天雪补充\n\n通过查阅`rulesmd.ini`、ModEnc、全局代码词典，可以找到以下代码：\n\n```ini {3,4}\n;rulesmd.ini\n[General]\nStray=2.0 ; radius distance (cells) that team members may stray without causing regroup action\nRelaxedStray=3.0 ; gs Gather commands will use this number instead, allowing for bigger teams in AIT\n\n;4.全局代码解释2019.txt\nStray=2.0 ; 队伍成员间的距离低于2时就会重新排布，会影响战役路径点判定，不建议改大。\nRelaxedStray=3.0 ; 不严格的游离，为了顾及到AIT中的较大的团队，Gether指令被该数替代\n\n;ModEnc\nStray\nThis also determines the minimum distance between a team's origin and its destination for the team to actually move there. If the distance is this or less, then the team will assume it's already in its destination and will not move further.\n\nIn other words, if you create or reinforce a team at a waypoint, and in the team's script you have that team move to another waypoint or target that's within this many cells from the team's origin waypoint, then the team thinks it's already reached its destination and will proceed to the next mission in the script.\n\nRelaxedStray\nGather actions by the AI will use this number (in cells) instead of Stray= allowing for bigger teams in AI triggers & team types.\n```\n\n据此判断，`Stray`决定单位离路径点还有多远时认为它已经抵达，如果队伍里单位太多，那么外面的单位将始终无法确认到达，从而卡住。将其调大可以改善。不过如果写得太大，有可能导致单位短距离移动时，还没到它就认为已经到了，从而放弃移动。`RelaxedStray`可能是专用于特殊的聚集动作，不清楚具体有哪些。\n\n所以，解决方法1为：不要用那么大的小队，确保小队成员占地不超过9格（且路径点无障碍物），解决方法2为：将以下代码添加于地图中\n\n```ini\n[General]\nStray=3.0 ;原为2.0\nRelaxedStray=4.0 ;原为3.0\nPrismSupportModifier=150% ;无关，解决修改General导致的光棱塔连接伤害剧增bug\n```\n\n经测试，现在开头例举的大型部队可以正常完成移动动作了。\n\n至此，相信各位 mapper 应该很明白如何修改两个参数用来调整自己的小队集结方式，需要更大更多的小队时，只需要适当放大参数即可。\n\n## 使一个小队被摧毁后触发事件\n\n> Ra2map：修改自 a351650226\n \n对于这个效果不少人可能会干脆直接给这个小队做一个新的所属方然后用全部单位被摧毁的事件来触发，不过如果在遭遇战这个方法就毫无用处了，所以这边介绍一个新的方法。\n\n首先，新建一个作战小队，特遣和脚本自备，\n\n再新建一个触发（触发1），条件自设，结果为将你的小队刷出\n\n随后新建一个触发（触发2），条件为`48 被任何事物摧毁`，结果自设，将**重复**这一项设置为`1`（所有物体满足条件，单次触发）\n\n然后打开你新建的小队，在**标签**那一栏把触发2的标签挂上去就可以了，这样小队全员被毁后便会触发。\n\n::: danger\n必须注意的是，**AI 的小队挂载的标签，小队解散（完成所有脚本后）就会消失**（玩家可控制的小队标签不会消失），而地图上原有单位的标签会一直存在。所以，**不要让你指定的小队完成所有脚本**，可以在脚本最后添加`5 警戒时间`和`6 跳转到行号`（从1开始数，警戒那行）或一个`进入状态`，使其不会终止。\n\n这或许也是传闻“小队不能在游戏刚开始刷出”“脚本动作不能少于2个”的原因。\n:::\n\n以MO3的合作任务*Ego ergo hax*为例子，这组触发设置完成后，在游戏里，玩家只要歼灭这个小队，云茹就会移动到指定位置（结果4 建立小队）了。\n\n## 援军阵亡后循环刷出\n\n> 作者：tangs18\n\n效果如尤里的复仇苏军第一关，消灭巨炮和海军。苏军初始援军小队阵亡之后，会自动补充完整小队\n\n建立一个局部变量，一个触发，条件用两个1:流逝时间10秒，2:局部变量关闭。结果1:建立小队2:开启局部变量这个触发用触发类型2一直循环，\n\n再建一触发，条件48，结果局部关闭，这个触发挂在刚建立的作战小队标签上面，并且用触发类型1满足全部阵亡条件，就可以实现你所要的阵亡后再次增援。\n\n::: danger\n同上一节\n:::\n\n## 关于脚本中“面向”动作的参数\n\n> 作者：a351650226，补充：如果要单位不停转圈，需要在面向动作之间插入`警戒1秒`\n \n这玩意啥解释都没。。我于是直接就把128方向的填进去结果效果感人。。。于是我便拆开了原版苏6的地图看，发现4是对应的128方向。。于是我干脆做了个假设然后实验了一下，完全吻合。。现在推得所有方向对应值如下：\n\n```\n0 - 方向0\n1 - 方向32\n2 - 方向64\n3 - 方向96\n4 - 方向128\n5 - 方向160\n6 - 方向192\n7 - 方向224\n```\n\n别告诉我你连那些方向对应的是啥都不知道。。。如果填更大的值的话仍然有效果，不过没实验不知道具体的对应关系，谁有兴趣就去试试看吧。。"},{"title":"一些触发实例","tags":["进阶"],"categories":"触发与小队","author":"天雪酱","excerpt":"## 关于设置科技等级的触发组应用\n\n> 作者：a351650226\n \n玩过YR原版盟军第5关的同志都知道开局是造不出黑鹰的，只有当棒子的飞机炸了尤里的船厂后才能造，这里就是用到了这个触发。\n\n`1","link":"/posts/some-trigger-instance","content":"## 关于设置科技等级的触发组应用\n\n> 作者：a351650226\n \n玩过YR原版盟军第5关的同志都知道开局是造不出黑鹰的，只有当棒子的飞机炸了尤里的船厂后才能造，这里就是用到了这个触发。\n\n`106 设置科技等级(Techno)[Level]...`\n\n参数解释：\n\n- number：设置到特定的科技等级（比如说原来是11，参数填8后就变成8了）\n- 科技类型：就是一个单位/建筑。。。例如说E2\n\n一些推荐一起运用的触发：\n\n- 114 设置建造栏到(0-3)... 这个注释解释的很清楚了，0建筑 1防御 2步兵 3单位\n- 115 闪动建造栏中的单位 参数和上图一样，不过这里的number是指闪动的时间长度（注意这个触发要在上图触发触发后1秒启动，如果同时启动的话是没有效果的）\n\n## 炸桥触发事件\n\n> 作者：a351650226\n\n这个玩意在原版任务最典型的运用就是炸桥后有工程师小队来修桥了....比如说萌11那个，其实这个触发可以拿来搞保护桥梁的任务嘛... \n\n不过相信很多人看到这个触发的解释都是莫名其妙，包括我（我是在看官方图拆桥的时候偶然看见的..)  \n\n首先，新建一个触发，前提什么的看情况，条件为31 桥梁被摧毁,结果随意，然后点击那个放置于地图，准备拉单元标记\n\n当特定的桥梁当出现缺口不能通行时，事件触发。此触发必须被用单元标记放置在目标桥梁的下方（只能放置一个单元标记）。\n\n注意放单元标记的时候要小心，不要溢出桥梁，然后在游戏中一旦这个放了单元标记的位置所处的桥梁被炸掉，这个触发就会被触发\n\n## 用触发或者局部变量，实现判定逻辑 \n\n> 作者：a351650226，“判定”意为在某个时刻，进行一次判断，看是否符合，然后导向不同的结果。可以决定某个**条件未满足**时该如何做。\n\n用触发或者局部变量，实现判定逻辑，就是说，如果满足条件，触发触发 1，触发 2 不能触发；**否则**触发触发 2，触发 1 不能触发：\n\n1. 建立一个局部变量，称为A,默认值设为1。\n2. 建立四个触发，分别称为触发1，2，3，4.除触发1看情况外其余触发全部禁止。\n3. 当要开始进行判定时，允许触发1，触发1结果为允许触发2，3。\n4. 触发2条件为判定条件，结果为满足判定条件的结果+清除局部变量A（结果57），\n5. 触发3条件为流逝时间2-5s，结果为允许触发4。\n6. 触发4条件为局部变A开启（条件36），结果为没有达成判定条件的结果。\n\n理论上触发3这步可以省去，但为了避免抽风建议加上。\n\n这组触发只有在判定条件已经执行（即达成判定条件或无法达成已确定）的情况下才能启用，否则会直接执行没有达成条件的结果。\n\n## 计时器转计数器与正数计时器\n\n> 也看：[战役中的全局任务计时器](https://www.bilibili.com/read/cv16405313/)\n\n> 作者：a351650226\n\n玩过RA3的基本上都见过这样的效果：剩余的XXX数量：XX之类的，这个就是计数器（废话。。）当然了，在RA2里这个效果一样可以做。\n\n首先，新建一个触发，我们称为触发1，条件任意，结果为23 计时开始，和27 计时设置，计时设置的值设为你想要的初始值就行了。\n  \n同时新建一个触发，称作触发2，把禁止勾上，然后在触发1的结果多加一个53 允许目标触发，参数为触发2。\n  \n触发2必须设为可重复的（触发类型2），条件为13 流逝时间，参数填1，结果为26 计时延伸，参数也填1，这样就会每过1游戏秒计时器就会加1秒，再加上计时器自身会减1秒，所以这样计时器的值就不会动了。\n  \n新建一个触发，称为触发3，如果你要指定XXX目标被摧毁时计时器少1，那么条件就填48 被任何事物摧毁，结果为54 禁止目标触发，参数填触发2，和53 允许目标触发 参数填触发4。\n\n然后再新建一个触发，称为触发4，设置为可重复（触发类型2），把禁止勾上，条件为13 流逝时间，参数填1，结果为53 允许目标触发，参数填触发2，以及54 禁止目标触发 参数填触发4（避免这个触发再启动）\n\n到这里就可以算完成了，如果目标有多个的话可以新建多个类似触发3的触发类推就可以了（这就是为什么要把触发4设置成重复的原因）\n\n> 众所周知，计时器的时间是只能减少的，那么要怎么把他变成增加的呢？\n\n原理和上面一样，新建一个触发，称为触发1，条件任意，结果填23 计时开始和27 计时设置，参数填1（只是推荐填1，看自己喜好）和53 允许目标触发 参数填触发2。\n\n新建一个触发，称作触发2，设置为可重复的（触发类型2）条件为流逝时间1，结果为26 计时延伸 参数填2，这样就完成了，计时器就会变成正数的了。\n\nPS：这个效果其实没什么用。。主要是拿来任务测试时测定游戏秒数罢了。。（毕竟流逝时间那个参数和真正的一秒不大一样）"},{"title":"常用的音效与语音","tags":["声音"],"categories":"地形与美化","author":"天雪酱","excerpt":"声音在`soundmd.ini`中，语音在`evamd.ini`中。如果想新加，参考添加背景音乐方法，单声道。\n\n> 也看：[MO 常用音效、语音和动画](https://www.bilibili.c","link":"/posts/sound-and-speech","content":"声音在`soundmd.ini`中，语音在`evamd.ini`中。如果想新加，参考添加背景音乐方法，单声道。\n\n> 也看：[MO 常用音效、语音和动画](https://www.bilibili.com/read/cv19191448/)，大部分是通用的\n\n## 声音，用于触发行为 19\n\n```\nCameraSwitch 镜头切换\nWeatherIntro 雷电\nNukeSiren 核弹警报\nAirRaidSiren 空袭警报（核弹警报前半段）\nCruiseShipAmbience 游轮汽笛声\nCheer 欢呼\nTextBleep 嘟嘟\nBeaconPlaced 叮~，放置坐标，新物体出现可用\nMessageText 弓~，出现小木箱可用\nWarningAlarm 警告声（刺耳的2声喇叭）\n\nRadarOff 原版雷达失效\nRadarOn 原版雷达启动\nHealCrate 恢复生命\nBioReactorEnter 进入事物\nBioReactorExit 离开事物\nEnterTransport 单位装载\nExitTransport 单位卸载\nTanyaEntersWater 入水\nTanyaLeavesWater 出水\n\n_Amb_UrbanMurmur1 连续而低沉的城市喧哗\n_Amb_UrbanMurmur2 同上\n_Amb_OceanHeavy 大海的声音\n_Amb_BirdsHarbor 海鸟（大概是吧……港口鸟……）的声音\n_Amb_Traffic 繁忙的交通声\n_Amb_WindCold 冷风吹的声音\n_Amb_OceanLight 海洋\n_Amb_WindPlains 平原上的风的声音\n_Amb_BirdsPark 鸟公园……大概是很多鸟的意思……\n_Amb_BirdsTemperate1 温带鸟的声音\n_Amb_BirdsTemperate2 同上\n_Amb_BirdsJungle1 丛林鸟的声音\n_Amb_BirdsJungle2 同上\n_Amb_CricketChirps 蟋蟀等虫的叫声\n_Amb_CricketBed 估计和鸟公园差不多……很多虫的叫声……\n_Amb_River 潺潺的河流声\n_Amb_BirdsNightOwl 猫头鹰(？大雾)的叫声\n_Amb_BirdsBeach 海滩鸟的叫声……\n_Amb_WavesLake 湖的波涛声\n_Amb_BirdsMorning 早上的鸟叫声\nCowDie 牛叫\n\n爆炸音效\nExplosion01\nExplosion05-07\nExplosion09-15\n\n其他具体单位特有的不写了\n```\n\n## 语音，用于触发行为 21\n\n```\nEVA_EstablishBattlefieldControl 正在建立作战连线控制【用于任务开始】\nEVA_BattlefieldControlOnline 战场控制连线【用于玩家获得控制时】\nEVA_BattleControlOnline 战场控制连线\nEVA_BattleControlOffline  战场控制离线\nEVA_BattleControlTerminated 作战连线结束\n\nEVA_NewObjectiveReceived 收到新的任务\nEVA_NewMissionObjective 新的主要目标\nEVA_PrimaryObjectiveAchieved 主要目标完成\nEVA_SecondaryObjectiveAchieved 第二个目标完成\nEVA_TertiaryObjectiveAchieved 第三个目标达成\nEVA_ObjectiveComplete 任务目标完成。\nEVA_MissionAccomplished 任务完成。\nEVA_MissionFailed 任务失败。\n\nEVA_TimerStarted 计时器开始\nEVA_TimerStopped 计时器停止\nEVA_20MinutesRemaining 剩余二十分钟\nEVA_10MinutesRemaining 剩余十分钟\nEVA_4MinutesRemaining 剩余四分钟\nEVA_3MinutesRemaining 剩余三分钟\nEVA_2MinutesRemaining 剩余二分钟\nEVA_1MinuteRemaining 剩余一分钟\nMis_A12_EvaCountdown 5秒倒计时 【参原版盟任务12】\n\nEVA_IncomingTransmission 信号输入\nEVA_ReinforcementsHaveArrived 援军已到达\nEVA_NewTerrainDiscovered 新地形发现【用于地图扩展】\nEVA_AllianceFormed 战略同盟组成\nEVA_AllianceBroken 战略同盟已取消\nEVA_UpgradeInProgress 科技升级中\nEVA_UpgradeComplete 升级完成\nEVA_OreMinerOffLine 矿车离线\nEVA_CriticalUnitLost  失去关键单位\nEVA_CriticalStrucureLost 丧失关键建筑物。\n\nEVA_EnemyAirArmadaDetected 检测到敌人空中舰队\nEVA_EnemyFleetDetected 检测到敌人舰队\nEVA_ArmorBattallianDetected 检测到装甲部队\nEVA_EnemyInfantryBattalionDetected 检测到敌人步兵部队\nEVA_EnemyAllianceFormed 敌人的联盟已形成\n\nOre Miner Under Attack 采矿车正遭受攻击。\nOur Base Is Under Attack 我们的基地正遭受攻击。\nOur Ally Is Under Attack 我们的盟友正遭受攻击。\nCannot Deploy Here 无法在此展开。\nUnit Promoted 单位（等级）提升。\nUnit Lost 丧失单位。\nRobot Tanks Offline 遥控坦克断线。\nRobot Tanks Back Online 遥控坦克恢复连线。\nPlayer Defeated 玩家被击败了。\nYou Are Victorious 你胜利了。\nYou Have Lost 你失败了。\nUnit Armor Upgraded 单位装甲升级了。\nUnit Firepower Upgraded 单位火力升级了。\nUnit Speed Upgraded 单位速度升级了。\nBuilding 建筑中\nTraining 训练中。\nUnable To Comply,Building in Progress 无法执行，生产进行中。\nOn Hold 等待。\nCanceled 取消。\nInsufficient Funds 资金不足。\nLow Power 能源低。\nConstruction Complete 建筑完工\nUnit Ready 单位就绪。\nNew Construction Options 新建筑选项。\nNew Rally Point Established 建立新集结点。\nPrimary Building Selected 主要建筑选取。\nStructure Sold 变卖建筑。\nRepairing 修理中。\nUnit Repaired 单位修复。\nStructure Repaired 建筑修复。\n\nBY 基于 秒 补充\n更多直接看英文\n```\n"},{"title":"(重要)特遣脚本小队AI触发全教程","tags":["高级","AI"],"categories":"触发与小队","author":"天雪酱","excerpt":"<TxDownload size='56.4KB' netdisk='' direct='特遣脚本小队AI触发全教程(by prry).docx' name='特遣脚本小队AI触发全教程(by prr","link":"/posts/team-complete-tutorial","content":"<TxDownload size='56.4KB' netdisk='' direct='特遣脚本小队AI触发全教程(by prry).docx' name='特遣脚本小队AI触发全教程(by prry).docx' />\n\n此为 prry(霈然若雨，茉莉花)编写的**特遣脚本小队AI触发全教程**，他主要翻译自 Askeladdk 制作的 CNC AI 编辑器中的 **AI 指导教程**，并且部分引用了马王的 **AI 的艺术**等等。\n\n全文包含对 **特遣部队[TaskForces]、动作脚本[ScriptTypes]、作战小队[TeamTypes]** 3大难点的功能、用法、内部数据结构以及**参数的详细解释**，非常复杂。并且提供了*招募情况全表* 和*动作相关脚本动作案例全表* 等，以供参考。另外，AI 单位的攻击方式似乎也跟单位本身的特性有关。\n"},{"title":"战略任务设计四原则","tags":["进阶"],"categories":"思想","author":"天雪酱","excerpt":"> Ra2map：本文转载自[【教程】战略任务设计四原则 - 红警任务之家](http://www.pkuit.com/forum.php?mod=viewthread&tid=203415)\n\n首先","link":"/posts/the-four-principles-of-strategic-mission-design","content":"> Ra2map：本文转载自[【教程】战略任务设计四原则 - 红警任务之家](http://www.pkuit.com/forum.php?mod=viewthread&tid=203415)\n\n首先，这是一篇教程。但这篇教程并**不涉及一些技术上的硬实力内容**，主要讲一些影响游戏体验的**细节**，或曰，“软实力”。\n\n本教程针对“**面向大多数玩家的任务**”，不针对**超难任务**或者**实验性质的任务**。\n\n本教程主要提出自己在摸索过程中总结的“战略任务设计四原则”，希望能对提高任务的游戏体验有所帮助。\n\n## 1.第一波安全原则：\n\n**即使玩家什么都不做，第一波攻击也不会导致玩家被劝退。**\n\n“被劝退”指防线崩溃、大量战损，甚至直接任务失败等。\n\n第一波进攻开始时，玩家有可能根本没有进入战斗状态，在这时遇到了很大的阻碍，就极有可能造成很差的游戏体验并造成直接劝退。为了规避这种现象，就要保证第一波时玩家是安全的。\n\n如何保证？解决方式有很多，比如说：\n\n- 给玩家合理布置的、足够数量的初始部队。\n- 让玩家的盟友抗下第一波攻击。\n- 让敌人的第一波攻击部队不会持续推进索敌（比如巡逻到一个中间位置，就原地警戒）。\n- 让敌人的第一波进攻作为试探性的进攻，只有很少量的部队，仅仅是为了表明进攻的方向和形式。\n\n等等……\n\n## 2.警示原则：\n\n**不及时处理就会导致失败或者崩盘的状态，需要有醒目的警示。**\n\n“警示”可以是雷达信息警告、声音提示、或者警示性的不致命进攻（同“第一波安全原则”）。*（关于“万分危急的时刻是不是可以把玩家的视野都拉过去”，现在尚存在一些争议。） *\n\n不能把战略任务完全做成数秒背版游戏，玩家对任何一个方向的进攻作出反应，都需要时间。从战略上，确实，出其不意攻其不备是最有效的打法，但这会导致严重的**初见杀**现象——没有见过的玩家甚至完全来不及反应，就被击溃，甚至连自己怎么失败的都不知道。这种设定增加了很多反复尝试的次数，为顺利通关造成了不必要的困难。\n\n基于如上的理由，我认为在危险的状态下，比如敌人从一个意想不到的方向冲过来时，或者是需要追击的目标快要逃跑时，如此种种，应该给予额外的、醒目的警示。对于进攻，也至少可以是，先进行试探性的进攻引起玩家注意以后，才逐渐加强变成正式的进攻。\n\n## 3.保持紧张原则：\n\n**使用短间隔的骚扰、小规模进攻，使玩家保持一个紧张的状态。**\n\n这条原则涉及游戏节奏的把控。\n\n虽然说居安思危是一种很重要的品质，但是游戏节奏上的过分安逸有可能导致玩家丧失紧张性，进而在突然的游戏节奏加快中，难以做出快速的反应。典型例子，比如倒计时防守任务，准备阶段结束，突然进入敌人进攻阶段时，游戏节奏的突然转变会导致一部分玩家难以适应。\n\n因此我提出这个原则。任何一段时间都**不能让任务的节奏过分安逸**。如果是在任务的收尾阶段，请直接迅速的结束游戏（比如敌人卖家一波或者直接判定任务胜利）；如果是在准备阶段，请增加少量的不致命的骚扰。\n\n## 4.一句话原则：\n\n**每一个单独的可能导致任务失败的致命点，都需要存在一种“用一句话就能讲清楚”的应对方法。**\n\n这条原则涉及游戏难度的上限。\n\n你可以设计出超级复杂的任务机制、在行进路上布置超级困难的陷阱，但这类任务就已经到了**超难任务**的范畴之内了。想要大多数玩家能够接受，请把每一个单独的点的复杂度控制在一句话能说清楚的地步，虽然这句话的思路可能十分反常规，但普通玩家还是能在探索中体会到豁然开朗的感觉。\n\n战略任务本身就涉及到大量信息的处理，不像只需要操作少量单位的单兵任务，玩家可以专心去应对各种阻碍。如果招招致命且不好处理，会对任务体验造成极大的影响。经过长时间的论证和摸索，我认为“一句话”这个复杂度是可以接受的。\n\n特别感谢：tslza、妖妖酱（OPERATE）\n\n***\n\n> billing29：与其说教程，不如说是任务大纲，如果能够遵循这样的设计思路，最差的也不至于差评满天飞的，至少在可玩性上对所有玩游戏的人来说是非常适合的。虽然有时候天马行空的剧情又缺乏剧情说明情况下要避免几点就是：\n> \n> 1、时间限定。任何游戏开局后直接来个时间限定，对于大多数玩家来说对地图完全是一片空白的，要规定时间内完成任务根本无法判断，玩起来都是一脸懵逼，解释起来就感觉就像强行解释一样，可以做成比如给你一两坦克，被敌人打了或者按定时炸弹了，或者蜘蛛进入坦克了，要必须保证坦克存活，那么必须在掉血结束前回到维修厂一样，条理清晰，而不是莫名其妙的就结束了。就好比作为一个指挥官空降到一个陌生的地方，就直接下达限时任务，如果没有非常准确的情报下简直是找死的行为。\n> \n> 2、任何触发那些不要钱的部队应该有对应的阻止的办法，而不是从头到尾都是那几个建制的部队来进攻，显得这个战术苍白无力。\n> \n> 3、战役任务要考虑大局，单兵任务主要偏向细节，比如微操的要求，而不是想怎么弄就混着来，就是一个很大的败笔。\n> \n> 不过说实话，要一个任务满足大部分人真的很难做，考虑的东西太多太杂了。兴趣所致才是任务制作的初衷，所以在制作时候能够想一下估计都会是一个很好很经典的任务了。"},{"title":"红警任务变量论","tags":["进阶"],"categories":"其他教程","author":"天雪酱","excerpt":"## 1\n\n1. 红警地图编辑器并不存在抽象数字变量的直接表达方式，均只能以抽象方式存在。\n2. 抽象变量之间可以比较大小，但必须通过一定的过程进行抽象的信息转化。\n3. 抽象变量可以以抽象的方式进行","link":"/posts/the-theory-of-ra2-mission-variables","content":"## 1\n\n1. 红警地图编辑器并不存在抽象数字变量的直接表达方式，均只能以抽象方式存在。\n2. 抽象变量之间可以比较大小，但必须通过一定的过程进行抽象的信息转化。\n3. 抽象变量可以以抽象的方式进行无上限累计，且可以以抽象的方式互相累加。\n4. 实例变量可以以抽象方式转化为抽象变量，但其本身不能直接相互比较。\n5. 实例变量的定义是：实例变量是地图编辑器可以直接衡量的事物。在游戏中所有的时刻，这种变量都可以直接在游戏中显示其数量。仅仅因为视野、所属方非玩家等原因而造成不能直接显示，但确实能够衡量的变量，也属于实例变量。\n6. 抽象变量的定义是：地图编辑器不能直接衡量，而是人为制造的用于表达抽象概念的变量。抽象变量可以通过某种信息转化的方式表达为实例变量，但本身不是游戏内已经存在的可以衡量的变量。\n7. 通过地图编辑器触发而导致的金钱、电力等的无上限累计，其实质也是抽象变量在抽象意义上转化后在实例变量中的表达，并不是严格意义上的实例变量自身的无上限累计。\n\n## 2\n\n地图编辑器自身是不存在变量的概念的，变量这个概念是我们人工引入的。变量在任务中表示某个特定事物的数量，比如地图上雷达的总数量，玩家建造的某坦克数量。\n\n让我们来尝试解决以下问题：占领电脑10个建造场中的任意3个，则玩家胜利（不讨论占领后又被摧毁的问题，只要占领过就算）\n\n这个问题有两个笨办法：第一个是将10个建造场设定为特殊作战方，当损失建筑为3时则玩家胜利。这个办法是不好的，因为摧毁也算是损失建筑。\n\n第二个比较直观，给10个建造场分别设置10个变量，讨论所有可能，然后只要达成一种就胜利。但经过计算我们知道可能性为120种。如果要占领4个或者5个，那么可能性则为210种和252种，一般的任务触发不会超过100个，明显这样的方法也很不好。\n\n因此我们便需要动用到变量论了。\n\n现在我们假设，玩家已占领过的建造场数量为X。如何判断X=3呢？由于地图编辑器没有变量的概念，X=3只是一个抽象的信息而不能存在于地图编辑器的实例中，它不能直接进行比较。因此我们需要一定的信息转换。比如，X=3时，50X=150.我们知道防空炮耗电量为50。假设现在某作战方的电力为149，那么当这个作战方有三个防空炮时，它就停电。停电是地图编辑器中一个具体可以测算的概念。也就是说X=3时，A就停电，那么就说明玩家占领了3个建造场，玩家胜利了。因此我们可以为10个建造场分别关联上以下10个触发（所属方都是A）：\n\n1进入事件 参数为玩家\n\n125 在指定路径点建造建筑……路径点即你希望建造防空炮的10个地点（一般地图外任意地方都可以），类型是防空炮\n\n这样一来，每当玩家占领一个建造场后，A就会在某个特定地点建造一个防空炮。\n然后我们给A摆上一个苏联发电厂，令它稍稍破损，这样A的电力便略低于150.那么当A电力不足时，玩家胜利\n\n这样一来，我们就可以随时判断X是否大于3了。从以上例子我们可以知道，变量是可以通过一定信息转化来与特定数值比较大小的。\n\n那么变量之间能否比较大小呢？答案是可以的。但是累计过程必须是一样的。现在我们指定以下信息转化过程：玩家每占领一个建造场，A就派出一架坦克到指定地点。电脑每占领一个建造场，A就派出一架坦克到另一个指定地点。假设30分钟后游戏终止，比较双方谁占的建造场多，即可根据坦克数量来判断多少。这个累计过程中，坦克小队的类型、数量必须是一样的。我们为这些坦克增加攻击某个路径点的脚本，并在这两个路径点上摆放同类型的建筑。在30分钟计时完毕前，这两个路径点一直保持铁幕的状态。如此一来，30分钟后坦克就会摧毁这两个建筑，但是坦克多的一方一定摧毁得更快。根据两个建筑摧毁速度的快慢，可以比较两个变量的大小。但这其中，除了坦克数量以外，其他条件必须保持一致。\n\n我们再来进一步探究变量的功能。\n\n这里提出一个问题：变量是否可以无上限地累计呢？\n\n这取决于变量的内容。如果要累计的是实例变量（比如地图上的雷达，电力，某玩家持有的金钱，这是具体而且地图上已经有的东西），那么变量无法累计；但如果是抽象变量，地图上不存在的话（比如作战小队），便可以累计。\n\n为什么有些变量可以累计而有些不能呢？作者目前所想到的能够无上限累计变量的方法只有一个,就是利用电脑AI。假设每隔10秒电脑派出一辆天启坦克，玩家摧毁100辆天启坦克为胜利。那么，100辆就是一个较大的数字，一般来说，我们会将这个天启坦克的归属方改为一个特殊作战方，当该作战方被毁100数量的单位即胜利。然而如果我们将胜利条件修改为摧毁500个电脑单位，其中摧毁100辆天启坦克有援军的话，这招就没用了。\n\n利用AI的特性，我们可以做到无上限累计变量。我们知道，假设AI的建造场数量为N，那么当我们摧毁一个防空炮且这个防空炮有节点时，AI会重建N个防空炮。如果n=2，那么每摧毁一辆天启坦克，电脑就会增加一个防空炮。当防空炮数量达到101时，玩家就赢了。同样这也能说明实例变量没有办法在非抽象意义上无上限累计的原因：无法像小队那样重复地关联着一个触发。\n\n有人可能会说，我可以用触发无上限建造电厂、或者无限加钱，这不是实例变量的无上限累计吗？首先要明确的是，当你在用触发无上限累计某个实例变量的时候，这已经是抽象意义上的信息转化过程了，是实例变量在抽象意义上的累计。\n\n此外，我们还有一个推论：地图编辑器可以做到有限个变量的累计。此外，地图编辑器可以判断一切有限元一次不等式是否成立。这是因为变量是可以累加的。我们在前面已经知道了变量之间的大小比较方法。比如，把电脑改成两个，玩家一个，假设玩家占领A个建造场，电脑两方分别占领B、C个建造场。那么我们需要比较A>=B+C是否成立。因此易知，只要C的坦克加到B上面，与B执行一样的脚本即可。同样，如果是A>=B+2C，则只需把C的特遣部队改成2架坦克就行了。\n"},{"title":"需注册表触发如41动画&42爆炸解析","tags":["进阶"],"categories":"触发与小队","author":"天雪酱","excerpt":"在地图中，有很多触发条件/结果/脚本需要填入某个物件的 ID 号而非注册名，如\n\n- 19 建造特定类型的建筑...\n- 41 播放动画\n- 42 爆炸在\n- 88 粒子动画\n- 46,N - 攻击N","link":"/posts/triggers-about-list","content":"在地图中，有很多触发条件/结果/脚本需要填入某个物件的 ID 号而非注册名，如\n\n- 19 建造特定类型的建筑...\n- 41 播放动画\n- 42 爆炸在\n- 88 粒子动画\n- 46,N - 攻击N指定建筑\n- 47,N - 移动到N指定敌方或中立建筑附近\n- 56,N - 如果超时空传送就绪，则传送该小队至N指定建筑物\n- 58,N - 移动到N指定友方建筑附近\n\n这些编号顺序在平台不同/ ini 不同时不同，而 FA2 中显示的往往是错误的，真的是**非常坑人**。不过还是有许多人进行了许多探索，得到了一些有用的成果。\n\n由于每个人的 ini 有可能不同（自己新加了单位，或者是不同的 MOD），特别是 ARES 下还有拆分 ini，直接给出一个定死的序号表意义不大，因此需要一种可行的动态计算方式。\n\n**方法1**：把列表（如建筑列表）复制进 excel，**查找重复项并去掉重复项**，从**0**开始重新生成序号\n\n**方法2**：见【其他教程  - 细节】平台bug：注册号漂移，下载 HTML 附件，运用程序动态计算列表（填入待整理的注册表名称如`InfantryTypes`，进行计算）\n\n<TxDownload size='8.95KB' netdisk='' direct='rules注册号漂移计算.html' name='rules注册号漂移计算.html' />\n\n**方法3**（ARES 下推荐，所得结果与原版**不通用**）：使用 ARES 的 Debug 日志功能导出列表（说明书里有）：\n\n- 确保你使用了 ARES\n- 在启动参数`RunAres.bat`中添加` -LOG`，如`Syringe \"gamemd.exe\" %* -cd -speedcontrol -NOLOGO -LOG`\n- 在游戏内快捷键选项`Development`为`Dump Types`指定一个快捷键（英文键盘），它将 Dumps the current type list to the log\n- 进入地图，按下你的快捷键，然后看到左上弹出提示\n- 打开游戏目录下`debug/debug.log`，往下翻，就有你想要的各种列表。\n\n下面咱再给出特定行为的解释以及可以直接用的列表。\n\n## 脚本们与19 建造特定类型的建筑\n\nN=该建筑在注册列表中的【顺序号】，从【0】开始。脚本额外加判定系数，详见 prry 翻译的 *特遣脚本小队AI触发全教程(by prry).docx*\n\n## 41 播放动画\n\n> 在特定的路径点播放特定的动画，参数为[Animations]里的动画 ID。原版动画注册表存在序号漂移，建议使用脚本或 Excel 予以修正。\n\nyr1.001平台下，未修改 ini 时可以直接用的列表：\n\n```\n41 播放动画在...\n0 一个大的爆炸\n1 步兵被电死\n2 炮弹打到水里\n3 炮弹打到水里\n4 炮弹打到水里（这个小一点）\n9 机枪类武器攻击地面\n10 机枪类武器攻击地面\n11 飞弹类武器攻击地面\n12 箱子里钱的动画\n15 医疗的动画\n16 箱子增加护甲的动画\n18 地图全开的动画\n19 增加力量的动画\n28 升级的动画\n29 地图全开的动画\n152——166 大大小小的爆炸（基本没用）\n167 榴弹炮的弹头动画（同上）\n168——172 还是各种爆炸（同上）\n173 尤里X部署动画\n174 褐色轨道炮\n194 核弹爆炸的动画（没伤害）\n195 核弹接触地面的光球\n198 使用铁幕的动画\n200 超时空采矿车瞬间“回城”动画\n201 超时空军团把单位抹掉的动画\n238 239 地上出现一具骷髅\n242 步兵被烧死\n243 步兵被狂兽人锤烂\n244 步兵融化\n256 257 超时空传送的第二段动画\n258 不知道怎么说，反正很霸气就对了“核弹发射烟雾的动画”\n295 红色轨道炮\n296 超时空传送第一段动画，不消失，坑\n314 闪电风暴的乌云\n316 闪电风暴的乌云\n317 闪电风暴的乌云\n318 一束闪电\n319 一束闪电\n321 闪电击中地面的效果\n387 喷水池的动画（不消失）\n397 心灵信标的动画（只有上半身，不消失）\n414 苏联维修站的动画（就一个架子，不消失）\n475 箭头 正下\n476 箭头 右上\n477 箭头 左下\n478 箭头 右下\n479 箭头 左上\n480 箭头 正上\n481 箭头 正右\n482 箭头 正左\n483 箭头 正下 （貌似这个持续时间短些）\n505 心灵控制器 （不消失）\n510 病狙的病毒（有伤害）\n535 出现一名野生狂兽人（应该归属于触发所属方）\n560 基因突变器动画 （不消失）\n577 使用心灵控制器时出现的尤里的脸\n578 使用心灵控制器时地面出现的红圈的动画（形容的好捉急啊）\n589 使用铁幕的动画\n【以前是有人发过，但我所知道的都不怎么全面。于是就闲的一个一个看，个人认为有用的参数都已列举出来】\n【好吧，其实我真正的目的是为接下来的任（shun）务（bian）做（pian）准（jing）备（yan）。。表示现在正在把官方任务里面那些比较合适的语音给抠出来。。】\nWAVE散开 7 RING\n菱形闪光 454 KTSTLEXP\n\nBY 秒\n```\n\n## 42 爆炸在\n\n> 使用特定「武器的弹头」在指定路径点产生一次爆炸，但无法触发弹头的特殊效果。参数为[WeaponTypes]里的武器ID（从1开始），**若无该注册表**（或者注册表里没有所填ID）则取[Warheads]里的弹头ID。\n\nyr1.001平台下，未修改 ini 时可以直接用的列表：\n\n```\n【42 爆炸在...】\n0 哨戒炮那啥\n1 不明\n2 哨戒炮那啥\n3 GGI那啥\n4 电？\n5 电？磁暴坦克？\n6 不明\n7 不明\n8 不明\n9 巨炮那啥\n10 和谐弹 - -\n11 放屁车那啥，大小未记录\n12 同3\n13 不明\n14 同4,5\n15 不明\n16—27 均同2\n28 尤里强行控制地面出现的那啥\n29 同9\n30 同2\n31—44 或大或小的。。类似于巨炮那啥。。\n45 不明\n46 天启那啥【非精英级别】\n47 同3\n48 灰熊等坦克那啥【精英级别】\n49 驱逐舰那啥\n50 同48\n51 同3\n52 同31—44\n53,54,56 不明\n55 基洛夫那啥【精英级别】\n57 GI那啥\n58，60 同11但较小\n59,61 同11但较大\n62，64，67，68同49\n63 不明\n65，66 基洛夫那啥【非精英级别】\n69 不明\n70,71 同57\n72 不明\n73 无法表达，目测为放大版的49\n74 不明\n75 同65,66\n76,77 不明\n78 同49\n79 同48\n80 榴弹炮那啥\n81,82 同14\n83 同49\n84 同48\n85 同73\n86 巨炮那啥\n87,89 GGI那啥\n88 同14\n90 放屁车那啥\n91,92 攻击被铁幕的单位时的那啥\n93，95 不明\n94 同73\n96 GI那啥\n97 放屁车那啥\n98，99，107 狙击手那啥\n100 同14\n101 不明\n102 不明\n103 不明\n104 无畏级战舰那啥【精英级】\n105 不明\n106 尤里新兵那啥\n108 不明\n109 GGI那啥\n110 不明\n111 自爆卡车那啥\n112 GI那啥\n\n【未完待续。。。。】BY 秒\n```\n\n## 88 粒子动画\n\n> 在特定的路径点播放粒子动画，参数为[ParticleSystems]里的ID。无法播放Gas类型 (BehavesLike=Gas) 的粒子系统。\n\nyr1.001平台下，未修改 ini 时可以直接用的列表：\n\n```\n【88 粒子动画】\n0 GasCloud1 不明\n1 GasCloud2 不明\n2 FireStream 烟雾\n3 Spark 烟雾\n4 FirestormSpark 烟雾\n5 LargeGreySmoke 火光\t\n6 SmallGreySmoke 火光\n7 TestSmoke 烟雾\n8 GasCloudD1 类似轨道炮，色浅，从左射下\n9 GasCloudD2 同上，从右射下\n10 SmallRailgunPart 火光\n11 LargeRailgunPart 火光【较小】\n12 GasCloudM1 不明\n13 GasCloudM2 不明\n14 WeldingSpark 不明\n15 LargeSpark 火光\n16 VirusCloud1 不明\n17 VirusCloud2 不明\n18 VirusCloudD1 不明\n19 VirusCloudD2 不明\n20 PsychCloud 直接弹框\n21 PsychCloudD 直接弹框\n\nBY 秒\n```\n"},{"title":"TS平台AI(MD).ini教程（修订版）","tags":["高级","AI"],"categories":"触发与小队","author":"天雪酱","excerpt":"> 本文转载自[https://github.com/revengenowstudio/AI-tutorial/blob/main/index.md](https://github.com/reven","link":"/posts/ts-platform-ai(md).ini-tutorial","content":"> 本文转载自[https://github.com/revengenowstudio/AI-tutorial/blob/main/index.md](https://github.com/revengenowstudio/AI-tutorial/blob/main/index.md)（LH_Mouse原始版，Zero Fanker修订版）\n\n## 前言\n\nLH_Mouse原始声明：此教程为我个人的独力完成，其内容凝结着我近2年的心血，允许转载但请不要注明“作者未知”之类的字样，本人保留一切追究的权利。\n\nZero Fanker声明：根据我的代码研究和实际测试，我对教程中的一些错误予以更正，同时对一些条目加入了自己的理解，此外还包含了RN新引入的AI特性讲解。\n\n说明：本文适用于RA2、YR以及其派生出的RP、NP平台所使用的AI(MD).ini文件。阅读时请留意注\\*的项目。\n\n***\n\n## 【第一章】AI基本教程——AI(MD).ini结构及原理简析\n\nRN的AI编辑建议使用RN专用编辑器。本文以介绍手工文本编辑为主。\n\n### §1.1 AI的结构\n\n每一条有效的AI规则由四个部分组成：AI触发（AITrigger）、作战小队（Team）、特遣部队（TaskForce）和脚本（Script）。\n\n\\* 这四个部分中，只有AI触发是不需要注册的，其余都需要注册。  \n\n这四个部分的关系为：  \n```\n　　　　　　　　　↗特遣部队1\n　　　　作战小队1\n　　　↗　　　　　↘脚本1\nAI触发\n　　　↘　　　　　↗特遣部队2\n　　　　作战小队2\n　　　　　　　　　↘脚本2\n```\n下面分别说明这四个部分的其他结构：  \n\n1. AI触发：控制着AI行为的核心部分。下面以原版谭雅载直升机攻击核弹发射井的AI触发为例说明：  \n\n例：0CAD0DCC-G=Allied Anti-Nuke 1 ,08DA125C-G,\\<all\\>,9,0,NAMISL,0100000003000000000000000000000000000000000000000000000000000000,70.000000,10.000000,70.000000,1,0,1,0,0CB246CC-G,0,1,1  \n　　　|注册ID　　　　|名称　　　　　　|作战小队1　|国家 ①②| 条件单位名 |　　　　　　　　　　　　　|触发条件参数　　　　　　　　　　　　 |基础分量　|分量下限　|分量上限 ③④⑤⑥ |作战小队2 ⑦⑧⑨\n\n　　①科技等级(无效）|②触发条件　　③遭遇战有效（疑似无效）　　④未知　　⑤所属方　　⑥基地防御（无效）　　⑦简单敌人允许　　⑧中等敌人允许　　⑨冷酷敌人允许\n\n\n　　　作战小队1、2：每个AI触发至多可以包含两个小队。AI触发被启动后可以指挥电脑玩家组建特定的作战小队。  \n　　　国家　　　　：指定只有特定一个国家的电脑玩家才允许激活该触发，典型应用如坦克杀手和磁能坦克。  \n　　　科技等级　　：如果电脑玩家的科技等级低于该水平那么这个AI触发就不会被激活。  \n\n　　　　　　　　　\\* 在原版遭遇战中这个是没有意义的，因为所有玩家的科技级别都是上限10；但是在任务地图以及用NP开启了调节科技等级功能的Mod里，  \n　　　　　　　　　　这个就有必要认真考虑了。具体我会在后文说明。  \n\t\t  \\*\\* 事实上这里的科技等级设置没有意义，见程序地址0x41F728 mov [ebp+AITriggerTypeClass.TechLevel], ebx  \n\t\t     ebx在之前被置零了。顺便见后段程序可知AI触发的科技限制实际上读取了小队里的设置。  \n\n　　　触发条件　　：可以为0-7的任何一个值，这八个值的意思分别是：  \n　　　　　　　　　　0 目标敌方单位满足条件……  \n　　　　　　　　　　1 本方单位满足条件……  \n　　　　　　　　　　2 敌方电力黄  \n　　　　　　　　　　3 敌方电力红  \n　　　　　　　　　　4 目标敌方金钱大于或等于……  \n　　　　　　　　　　5 本方铁幕装置就绪  \n　　　　　　　　　　6 本方超时空传送就绪  \n　　　　　　　　　　7 平民单位满足条件……  \n　　　条件单位名　：指定在触发条件里评估什么单位。  \n　　　触发条件参数：必须是一个64位长的16进制数字。目前只有前两位和第十位有用，其余作用不明。  \n　　　　　　　　　　前两位：用十六进制表示0-255之间的一个数字，指定在触发条件中衡量的数量为多少。其中作战单位评估其数量，金钱则除以1000后和该数值比较。  \n　　　　　　　　　　第十位：控制触发条件用何种算法来比较。可以为0-5的任何一个值，这六个值的意思分别是小于、小于或等于、等于、大于或等于、大于和不等于。  \n　　　基础分量　　：指定该触发在没有被执行时候的分量。据说只能用5000,500,70,50,40,20,10七个值（未验证，但是原版只有这七个值），个人以为这种东西稳健一些好。  \n  \n　　　　　　　　　* 分量就是AI在随机选择应该执行哪条触发的时候考虑的权重。AI在选择触发时，将所有满足条件的触发构成一个集合，然后加权随机抽取一个启动之。  \n　　　　　　　　　　如果该小队成功执行了脚本中的小队任务完成动作，则视为完成目的，将分量提升一些；反之，在完成目的之前该小队单位被全部摧毁，则视为失败，  \n　　　　　　　　　　将分量减小一些。  \n　　　　　　　　　　有关设置请在RulesMD.ini中查找AITriggerSuccessWeightDelta以及AITriggerFailureWeightDelta。  \n\n　　　分量下限　　：指定该触发反复失败的所能减小到的分量下限。  \n　　　分量上限　　：指定该触发反复成功执行的所能增加到的分量上限。  \n　　　遭遇战有效　：该触发在遭遇战中是否允许启动，疑似无效，建议使用1。  \n　　　未知　　　　：作用不明，建议使用0。  \n　　　所属方　　　：哪个作战方可以启动该AI触发。1代表盟军，2代表苏联，3代表尤里，4、5、6分别代表第四、五、六阵营。  \n　　　基地防御　　：已废弃，改为使用作战小队中的IsBaseDefense参数。此处建议使用0。  \n　　　简单敌人允许：是否允许简单的敌人启动该AI触发。  \n　　　中等敌人允许：是否允许中等的敌人启动该AI触发。  \n　　　冷酷敌人允许：是否允许冷酷的敌人启动该AI触发。  \n\n2. 作战小队：AI触发激活之后执行相应任务的小队。作战小队需要在[TeamTypes]中注册。以上面的作战小队1为例说明：  \n\n例：\n```\n   [TeamTypes]\n　　…………\n　　39=08DA125C-G　　　　　　　　　　　　 ; 注册\n　　…………\n\n　　[08DA125C-G]　　　　　　　　　　　　　;     注册ID\n　　Name=Allied Anti-Nuke Team - 1　　　　;     名称（注释用）\n　　VeteranLevel=1　　　　　　　　　　　　; ! x 兵种等级\n　　MindControlDecision=0　　　　　　　　 ; !   遭心灵控制后的动作，0=自动，1=加入控制者作战小队，2=送入部队回收厂，3=送入生化反应炉，4=搜索敌人，5=什么也不做\n　　Loadable=no　　　　　　　　　　　　　 ; !   可装载\n　　Full=no　　　　　　　　　　　　　　　 ; ! x 创建小队成员的时候，如果小队中有运载工具，其他成员是否应该位于运载工具的内部\n　　Annoyance=no　　　　　　　　　　　　　; !   烦恼效果，作用不明\n　　GuardSlower=no　　　　　　　　　　　　; !   降低反应速度，作用不明\n　　House=<none>　　　　　　　　　　　　　; ! x 创建小队成员时的所属作战方\n　　Recruiter=no　　　　　　　　　　　　　;     强制重组优先级较低的小队的成员，如果它们是可以重组的\n　　Autocreate=yes　　　　　　　　　　　　; !   自动建造\n　　Prebuild=no　　　　　　　　　　　　　 ; !   预先建造，作用不明\n　　Reinforce=no　　　　　　　　　　　　　; ! x 增援部队\n　　Droppod=no　　　　　　　　　　　　　　; ! x 使用空降舱进入战区\n　　UseTransportOrigin=no　　　　　　　　 ; !   使用原始的运载工具\n　　Whiner=yes　　　　　　　　　　　　　　; !   哀叫效果，作用不明\n　　LooseRecruit=no　　　　　　　　　　　 ; !   解散新兵，作用不明\n　　Aggressive=no　　　　　　　　　　　　 ;     侵略性的，电脑在防御达到一定数量之后再开始建造该小队\n　　Suicide=yes　　　　　　　　　　　　　 ;     自毁式攻击，受到攻击不允许还击\n　　Priority=5　　　　　　　　　　　　　　;     优先级\n　　Max=1　　　　　　　　　　　　　　　　 ;     同一作战方至多允许同时存在的该类型小队个数\n　　TechLevel=0　　　　　　　　　　　　　 ; ! x 科技等级，疑似无效\n　　Group=-1　　　　　　　　　　　　　　　; !   分组，等同于人类玩家按下Ctrl+数字键组建的小队\n　　OnTransOnly=no　　　　　　　　　　　　; !   只能运输，作用不明\n　　AvoidThreats=yes　　　　　　　　　　　;     规避威胁，小队成员在移动的过程中将会试图规避途中可能遭遇的敌方单位\n　　IonImmune=no　　　　　　　　　　　　　; ! x 离子风暴免疫\n　　TransportsReturnOnUnload=yes　　　　　;     运载工具卸载后返回基地\n　　AreTeamMembersRecruitable=no　　　　　;     小队成员是否允许重组\n　　IsBaseDefense=no　　　　　　　　　　　;     基地防御小队\n　　OnlyTargetHouseEnemy=no　　　　　　　 ; !   只攻击敌方单位，作用不明\n　　Script=0A6E54EC-G　　　　　　　　　　 ;     指定脚本\n　　TaskForce=0617909C-G　　　　　　　　　;     指定特遣部队\n```\n　　注：! 一般实际作用不明，建议使用这里的值，不要随便更改  \n　　　　x 在AI中理论上是无效的语句  \n\n3. 特遣部队：对于一个作战小队，告诉电脑玩家这个小队中包含什么单位，应该建造什么。特遣部队需要在[TaskForces]中注册。以上面的特遣部队为例说明：\n\n例：\n```\n    [TaskForces]\n　　…………\n　　16=0617909C-G　　　　　　　　　　　　　　　 ; 注册\n　　…………\n\n　　[0617909C-G]　　　　　　　　　　　　　　　　; 注册ID\n　　Name=1 Tanya, 3 GI, 1 Blackhawk, 1 Guard　　; 名称（注释用）\n　　0=1,TANY　　　　　　　　　　　　　　　　　　; 单位列表，格式为[ID=数量,单位类型]\n　　1=3,E1\n　　2=1,SHAD\n　　3=1,GGI\n　　Group=-1　　　　　　　　　　　　　　　　　　; 分组，建议保留原始值-1\n```\n\n4. 脚本：告诉电脑玩家控制特遣部队做什么样的动作。\n\n例：\n```\n    [ScriptTypes]\n　　…………\n　　25=0A6E54EC-G　　　　　　　　　　　　; 注册\n　　…………\n\n　　[0A6E54EC-G]　　　　　　　　　　　　 ; 注册ID\n　　Name=Allied Anti-Nuke Transport　　　; 名称（注释用）\n　　0=54,0　　　　　　　　　　　　　　　 ; 脚本序列，格式为[ID=动作,参数]\n　　1=14,0\n　　2=43,0\n　　3=47,54\n　　4=8,2\n　　5=49,0\n　　6=46,54\n　　7=0,2\n　　8=0,1\n```\n　　AI在遭遇战中实际可用的脚本动作是有限的。下面给出一个列表，无用的省略：  \n\n\t\n|动作　　|动作说明　　　　　　  　　|参数　　 　　|参数说明|\n|--------|------------------------|------------|------------------|\n|　0 　　|攻击最接近的敌方目标　　　　|　 1　　　　|　可攻击的任何目标。|\n|　　　　|　　　　　　　　　　　　　　|　 2　　　　|　敌方建筑物。|\n|　　　　|　　　　　　　　　　　　　　|　 3　　　　|　敌方资源单位，就是矿车和矿厂。|\n|　　　　|　　　　　　　　　　　　　　|　 4　　　　|　敌方步兵。|\n|　　　　|　　　　　　　　　　　　　　|　 5　　　　|　敌方载具。|\n|　　　　|　　　　　　　　　　　　　　|　 6　　　　|　敌方工厂，包括建造场、兵营、战车工厂、空指部和造船厂。|\n|　　　　|　　　　　　　　　　　　　　|　 7　　　　|　敌方基地防御。|\n|　　　　|　　　　　　　　　　　　　　|　 8　　　　|　基地威胁，目标在本方基地范围内的敌方单位。|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|* 这个脚本不能用于战机，否则战机不会等装弹完毕就起飞了，当然无法投弹，再返回、再起飞……|\n|　　　　|　　　　　　　　　　　　　　|　 9　　　　|　敌方发电厂。|\n|　　　　|　　　　　　　　　　　　　　|　 10 　　　|　可以驻守的平民建筑物。|\n|　　　　|　　　　　　　　　　　　　　|　 11 　　　|　可以占领的平民科技建筑物。|\n|　5 　　|原地待命　　　　　　　　　　|　时间　　　|　命令单位处于Guard状态一段时间，时间单位是6x秒，就是说1=6秒，2=12秒，等等。|\n|　6 　　|转到行　　　　　　　　　　　|　行号　　　|　跳至该脚本的指定行处继续执行，一般用于创建不断循环的脚本。|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|* 行号一般应为序列ID+1，即0=的行其行号是1，不要搞错。|\n|　8 　　|运载工具卸载　　　　　　　　|　 0　　　　|　运载工具和卸出的单位都仍然是该小队的成员。|\n|　　　　|　　　　　　　　　　　　　　|　 1　　　　|　运载工具仍然是该小队的成员，卸出的单位不再属于该小队（成为新兵）。|\n|　　　　|　　　　　　　　　　　　　　|　 2　　　　|　运载工具不再属于该小队（成为新兵），卸出的单位仍然是该小队的成员。|\n|　　　　|　　　　　　　　　　　　　　|　 3　　　　|　运载工具和卸出的单位都不再属于该小队（成为新兵）。|\n|　9 　　|部署　　　　　　　　　　　　|　 0　　　　|　命令小队中可以部署的成员（美国大兵、基地车等，不包括武装直升机）部署。|\n|　11　　|进入状态　　　　　　　　　　|　 5　　　　|　原地待命。|\n|　　　　|　　　　　　　　　　　　　　|　 6　　　　|　原地永久驻扎。|\n|　　　　|　　　　　　　　　　　　　　|　 10 　　　|　采矿。|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|* 如果你使用补充矿车的AI触发，不推荐使用这个脚本，因为会造成矿车回矿厂无法倒矿的问题。|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|　请使用58号动作移动到己方矿石精炼厂。|\n|　　　　|　　　　　　　　　　　　　　|　 11 　　　|　警戒。|\n|　　　　|　　　　　　　　　　　　　　|　 15 　　　|　搜索敌人。|\n|　14　　|装载到运载工具中　　　　　　|　 0　　　　|　命令小队成员依次装载到运载工具中。|\n|　43　　|等待直到运载工装满　　　　　|　 0　　　　|　暂停脚本，直到运载工装满，然后继续。|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|* 14和43一般应该连用。TS平台对装载逻辑的处理有两个问题：|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|　1.如果小队中有两个以上的运载工具，游戏在装载时，可能会先尝试将其中一个装载至另一个里。|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|　　这样脚本就会在43处永久暂停而无法继续。|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|　2.如果小队中使用的是可以运载车辆的运载工具并且准备装载的成员中有车辆，装载完毕后，|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|　　并不会触发装载完成的事件，因此脚本同样会在43处永久暂停而无法继续。|\n|　46　　|攻击敌方建筑　　　　　　　 |　建筑ID 　　|　攻击/渗透/占领/C4爆破敌方特定的建筑。建筑ID由Rules中的注册相对顺序决定。|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|* RN提供的ini参考文件已经修正了注册顺序|\n|　47　　|移动至敌方建筑　　　　　　　| 建筑ID 　　|　移动至敌方特定的建筑。建筑ID由Rules中的注册相对顺序决定。|\n|　49　　|该小队任务完成　　　　　　　|　 0　　　　|　告诉该作战小队的所属方该小队已完成特定的任务。|\n|　　　　|　　　　　　　　　　　　　　|　　　　　　|* 每个AI触发脚本都应该包含这个动作，否则可能导致AI触发分量处理不正确。|\n|　53　　|在敌方基地附近集结　　　　　|　 0　　　　|　集结于距离敌方基地中心（一般应为建造场所在地）AISafeDistance（在Rules中指定）的位置。|\n|　54　　|在己方基地附近集结　　　　　|　 0　　　　|　集结于本方基地边界之外。|\n|　55　　|请求铁幕，如果可用　　　　　|　 0　　　　|　向该小队的所有者请求铁幕保护。|\n|　56　　|请求超时空传送至敌方建筑物　| 建筑ID 　　|　向该小队的所有者请求超时空传送至敌方特定建筑物。|\n|　57　　|请求超时空传送至敌方目标　　|同动作1参数 |　向该小队的所有者请求超时空传送至敌方特定建筑物。|\n|　58　　|移动至己方建筑　　　　　　　| 建筑ID 　　|　移动至己方特定的建筑。建筑ID由Rules中的注册相对顺序决定。|\n|　60　　|送入部队回收厂　　　　　　　|　 0　　　　|　将小队中所有的单位送进己方部队回收厂转变为资金。|\n|　61　　|送入坦克碉堡　　　　　　　　|　 0　　　　|　将小队中的载具单位送入坦克碉堡。|\n|　62　　|送入生化反应炉　　　　　　　|　 0　　　　|　将小队中的步兵单位送入生化反应炉。|\n|　63　　|进入战斗碉堡　　　　　　　　|　 0　　　　|　将小队中的步兵单位送入己方可驻守的建筑物。|\n|　64　　|驻守最接近的平民建筑　　　　|　 0　　　　|　小队中的步兵单位将会搜索并占领平民的可驻守建筑物。|\n\n\n### §1.2 AI的原理\n\n（以下参数无特殊说明均为Rules中指定的）\n首先，电脑按照TeamDelays的延迟定期检查所有AI触发，然后根据条件判断这些触发是否可用。一旦判断完成，电脑根据AI触发分量加权随机抽取一个触发激活之。\n\n激活的AI触发将向电脑申请作战小队。电脑首先检查是否有空闲单位以及无指令单位，按照作战小队的要求将这些单位按照优先级从高到低的顺序填充到小队中，剩余的部分电脑将指令工厂生产。一旦有新单位制造出来，电脑将把它们填充到小队中。如果在小队被填充完毕之前（在基地里），有些成员已经被毁灭，电脑将会补充这些被消灭的单位，直至小队中的所有单位达到指定数量，然后电脑正式组建该小队，小队中的成员按脚本执行。\n\n如果该小队执行了脚本中的49号动作（该小队任务完成），电脑将视该触发为成功一次并提高该触发的分量（不超过上限）；反之，在完成任务之前该小队被全灭，电脑经过DissolveUnfilledTeamDelay的延迟之后记该AI触发失败一次，取消该小队的编制（然后才允许重新创建该小队），并减小相应AI触发的分量（不低于下限）。\n\n现在我们考虑一些特殊情况：\n\n1. 补兵　　　：一旦某个小队开始执行脚本，AI就不再对其补兵，除非该小队全灭并且经过了DissolveUnfilledTeamDelay的时间，AI取消该小队的编制。\n2. 被心灵控制：被心灵控制的单位解除控制后将成为新兵，并且是Guard状态（原地待命）。如果AI再次建立新的小队这些单位也不会加入。\n3. 海军的问题：海军不会把陆军当做目标，除非是像驱逐舰这样的单位，能够主动攻击，而敌方的单位恰好在射程内。要让海军单位攻击敌方基地，只能用46号动作。\n4. 弹头比率1%：除非使用46号动作或者遭到攻击还击，AI不会主动攻击某个单位，如果该小队中有任何一个成员对目标单位装甲的伤害比率是1%。也就是说，电脑用鲍里斯只能看家。\n\n## 【第二章】AI拔高教程——AI的设计\n\nAI无疑是让很多中级甚至高级的Modder们头疼的一件事。不仅是AI(MD).ini中几乎没有任何注释，而且那些随机的数字ID让人头昏眼花。\n\n制作AI不像修改Rules那样简单。制作AI要有一个整体的意识，同时还要有足够的耐心和谨慎。\n\n### §2.1 设计AI的基本步骤\n\n首先，作为Modder，和设计Mod一样，设计AI必须要把握好整体战略。这点可以从对战中得到经验。从初期到末期，AI应该用什么样的套路进攻，都要考虑完全。\n\n然后，列出一个提纲，这个提纲从上到下，是AI从有了兵营开始一直到最后拥有高科的过程中作战小队的改变。这些是AI的主攻部队。\n\n再然后，艺术作品当让少不了修饰。AI的主攻部队还需要一些辅攻作支持。比如，战机，或者是间谍，工程师+履带车，等等。\n\n再再然后，还要考虑AI面对敌方应该如何应对。由于AI要隔一段时间才能启动一个AI触发，应当使某一时刻可能被启动的AI触发数量尽可能的少，以避免AI由于造了许多防御性小队反而没有造攻击性小队的情况。比如，如果敌方造了基洛夫，AI将造一些多功能步兵车防御；但是如果敌方没有造基洛夫，就不用造这些步兵车。\n\n最后，才是正式地编写AI。\n\n有了提纲的帮助，编写AI将变得简单许多。但是有一点是应当忌讳的，就是总觉得AI触发的分量不够，比如开始是50，后来觉得正在写的触发总该比之前的该重要吧，就加到了70；再写，又总觉得触发越写越不可少，结果写完了发现从前往后触发分量有增无减，越写越大，从50到70、100、150、200……这种情况，多是由于心切导致的。AI的编写是一份需要细致耐心的工作，绝不能图快而放弃了质量。分量不均衡的AI只能是失败的作品。\n\n### §2.2 设计AI的要点\n\n1. 合理分配分量\n\n对AI触发分量要有一个合理的理解。虽然分量上限可以达到5000，但是绝对不能以为分量可以随意设置，比如重要的给4000，中等重要的给500，不重要的给30。\n\n应该说，使用5000分量的AI触发，启动的概率非常大，一般只有两种情况才可以使用：一是危急情况，比如补基地车；二是Rush型AI，比如犀牛海，初期杀伤很大，后期对于AI的作用大幅下降，条件是本方没有高科；一旦本方建造了高科，触发条件不再满足，分量自然也就失去了意义。\n\n对于一般的攻击，70的分量已经很高了。如果希望电脑造更多的小队，既不应该盲目提升AI触发分量，也不能肆意增加作战小队的Max值，而应该增加AI触发，赋予一个不同的作战小队，这个作战小队的和那个作战小队特遣部队可以相同，但是脚本尽量不要用相同的，这样可以使AI进攻风格多变化。\n\n2. 合理安排进攻次序\n\n原版的AI很笨，因为它集结了大量的单位，全部瞄准我们的工厂，而半路全被光棱塔解决（甚至是秒杀）了。因此，合理安排攻击次序很关键。\n\n攻击的次序安排要考虑AI进攻小队的单位种类、数量等。比如电脑有6光棱，就应该攻击敌方基地防御；如果电脑有20光棱，就应该攻击任何目标；如果电脑有20 V3，就应该攻击敌方发电厂和超级武器；如果电脑有20天启，就应该直接攻击敌方建筑物；等等。\n\n攻击动作参数里面有一个8，即基地威胁。这个参数使用得好可以使AI防御更强。方法就是提升基洛夫、幽浮等空中单位的威胁值，然后指定含有坦克杀手、磁能坦克之类的小队攻击基地威胁。这样，有防空能力的，比如步兵车和盖特将优先攻击基洛夫；没有防空能力的犀牛幻影等等将攻击敌方来犯的天启。\n\n如此一来将使得AI相当难对付。\n\n3. 养成脚本中添加49号动作的习惯\n\nAI小队不同于地图小队，这个完成任务的触发是必不可少的。否则，触发分量只会下降不会上升，最终将导致AI触发失衡。\n\n4. 优先级的选取\n\n从目前做出的测试中来看，优先级起到的作用主要有三个：\n\n①优先级低的小队建造的倾向大，优先级高的小队重组的倾向大；\n②优先级高的小队如果指定了Recruiter=yes，并且优先级低的小队指定了AreTeamMembersRecruitable=yes，\n　高优先级的小队建立时将强制重组低优先级的小队中的成员；\n③AI向小队中填充新兵时，优先填充优先级较高的小队。\n\n如果以上三条都成立，那么我们可以得出以下结论：AI根据优先级较低的小队的要求建造单位，但是首先填充到优先级最高的小队中。\n\n这样看起来不合情理但是原因是明白的：如果高优先级小队由于某些原因被解散（触发条件不再满足等），其成员可以立即重新加入低优先级的小队，\n以避免类似于电脑造了贪造高优先级小队突然高科被毁导致大量单位积压家中的情况。\n\n如果以上推测都成立，优先级就应该这样设定：Rush型AI的优先级应当比较低，后期大部队的优先级比较高；特殊部队比如补充基地车，\n由于没有其他小队拥有同样的单位，优先级应当低一些。\n\n* 优先级低于SuspendPriority（在Rules中，默认为1）的小队，在电脑建造基地防御类小队时将会被挂起，不推荐使用这个优先级。推荐的优先级下限是5。\n\n5. 注意TechLevel\n\nTechLevel，即科技等级，是用于调节某作战方在一场战役中所能建造的部队的。比如生死斗的科技等级就比较低，普通遭遇战就很高。对于电脑来讲，如果AI触发的科技等级低于该作战方的科技等级，那么这个AI触发就有可能被激活；如果该小队中的某个成员科技等级却高于该作战方的科技等级，那么这个电脑玩家就无法建造这种单位，进而导致这个小队永远无法建立，白白浪费CPU资源。\n\n为了避免这种情况，基本的要求是，AI触发的科技等级不应该低于AI触发中所有特遣部队中的所有单位的科技等级。\n\n## 【第三章】AI高级教程——AI技能整合运用\n\n“高手”“专家”，多么神圣又多么遥远的名字。其实，无论是“高手”还是“专家”，都是从菜鸟成长起来的，都是用经验一点一滴积累出来的。\n\n只要功夫深，铁杵磨成针。如果本文的读者能有这份兴趣和毅力，相信，你终究会成为高手和专家的。\n\n### §3.1 好马配好鞍，好AI配好Rules\n\n虽然TS平台的AI处理多工厂逻辑上存在问题（人类玩家建造多个工厂可以提速生产；电脑玩家建造多工厂不仅提升建造速度，还同时出兵），但是不得不承认，多工厂仍然是一种必需且有效的手段。然而，让电脑造另一个真重工有难度；目前通行的做法是，复制一个假重工，只给电脑造，人不能建造。这种方法已经用于多款Mod中。实际使用效果来看，除了占领假重工不能造对应国家的车辆（比如占领假盟军重工造不出灰熊光棱幻影），此方法并无太大问题。多工厂使得电脑可以更快地建造单位。同时，要注意调整AIBaseSpacing和RelaxedStray以避免堵车和小队过大无法集结的情况出现。\n\n电脑选择激活AI触发是一个周期的过程，具体由TeamDelays决定；AI建造首个小队的时间是从游戏开始到AttackDelay。这些都是可以调整的。\n\n* [IQ]里面的设置不要随意更改。很多人以为把里面的数值改得越大AI智能程度越高。其实不然。除了MaxIQLevels之外，每一条的意思都是，“允许出现这种行为的IQ值下限”。比如，SuperWeapons=4的意思就是“当电脑玩家IQ≥4时允许自动发射超级武器”，以此类推。\n\n### §3.2 旧瓶装新酒，旧平台实现新功能\n\n之前的全军突击就是使用了Recruiter和一个很大的优先级实现的。TS平台的脚本虽然有限，但是综合起来用AI还是能实现很多原版没有的效果的。\n\n盟军用工程师+步兵车偷袭基地，这个是原版中被屏蔽了的。当然要承认这的确是一个好主意，可以启用；苏联用天启+V3组成一个小队混合攻击，可以极大地提高效率；尤里用磁电+盖特+神经突击车的方式，可以有效对付敌方来犯部队；等等。\n\n### §3.3 成功的AI需要什么\n\n以下仅仅列出必需的部分，其余请自己联想、逐步添加：\n\n　工程师占领科技建筑\n　使用步兵的基本基地防御\n　初期各种Rush\n　间谍偷重工、电厂\n　反间谍触发（虽然意义不大，只是怎么设计的问题）\n　切断敌方资源补给的\n　大部队Bombard\n　基地防空\n　海军攻击部队\n　海军大部队\n　对抗敌方来犯部队的\n　对付超级武器的\n　辅攻部队，清理敌方基地防御及电厂的\n　专攻敌方重工、高科的\n\n以上仅仅是思路，涉及到具体的部队种类、数量，触发分量等，请自己调试。\n\n### §3.4 调试AI应当注意的细节\n\n1. 同时启动的战机小队包含的战机总数量不应大于电脑同时能允许的停机坪机位总数\n\n比如，有三个小队，每个小队各有两架入侵者战机。如果某电脑玩家启动了两个小队而造了四架入侵者，派遣其中两架来攻击我，被击落一架，返航一架。此时电脑尝试造第三个小队，结果是，第一个小队有两架入侵者，第二、三都只造了一半，由于机位不足，无法继续建造。此时电脑就只能派遣第一小队进攻，而第二、三小队都不完整，无法进攻。这种情况的解决办法是，削减战机小队的数量。\n\n比如，电脑只有一个小队，这个小队包含两架入侵者战机，而其Max=2。\n\n2. 合理使用AvoidThreats语句\n\n这条语句是很有用的。对于像多功能+工程师这类偷袭战术，使用规避威胁的语句可以大大提高成功率。在有AI.tlb存在的时候，规避威胁的路径可以绕得更大，\n使得AI的偷袭更加有效。\n\n\\* 注意，对于Rush和Bombard以及类似的进攻不要使用规避威胁语句。例如，我在家门口摆了几辆光棱，敌方灰熊海过来，他们试图规避光棱，但是很不幸，有一辆没有绕开，被光棱击中，光棱的分光伤害到了更多的灰熊，灰熊尝试还击；但是由于灰熊处于光棱射程的边缘，AI的单位被攻击又会减速，结果，少量的光棱反而吃掉了敌方的灰熊海：这种情况是不允许出现的。\n\n3. 攻击性小队避免使用简单触发条件\n\n什么是简单触发条件呢，就是类似于“本方拥有兵营”“本方拥有重工”这样的条件。这种条件用在基地防御的小队上是可以的；但是如果用在攻击性的小队上，电脑发展到后期，已经拥有了高科，然而控制灰熊海的触发还占有很大的比重，表现就是电脑造光棱幻影少，造灰熊多。\n\n这种情况很常见。最佳的解决办法是，将条件改为“本方没有高科”。这就是所谓“Rush型AI”，有人称为“一次性AI”（抱歉这是谁我把名字忘了，好像是紫霞）。因为这种小队初期攻击力很强，但是等后期敌方造了大量的幻影和光棱塔以后，灰熊海就没什么意义了。此时本方如果拥有高科，就应该全力造光棱幻影，而停止爆灰熊海。\n\n4. 注意辅攻兵种的配合\n\n在遭遇战中，即使是同一作战方的两个小队，想要同步行动也是极其困难的。为此，我们可以借鉴一下原版战斗要塞的AI触发：\n\n脚本的说明中已经讲过，同一个小队中不允许出现两个运载工具。那么，如何实现四个满载（至少是部分满载）的战斗要塞进攻呢？\n\n原版使用了三个AI触发来控制：\n\n首先，有两个AI触发控制了两个小队，这两个小队都是1战斗要塞+5补兵，装载后集结于己方高科附近。每个小队造两个。\n\n然后，第三个AI触发具有极高的分量（500），当己方有四辆战斗要塞时，重组成一个小队并进攻。\n\n此即为神龙天舞中实现全军突击触发的思想：将所有单位重组成一个大“小队”进攻，其力量当然惊人。\n\n这也为我们提供了一个思路：我们可以如此实现光棱幻影与海豹步兵车的混合攻击。对于那些我们不希望加入小队的步兵车，比如基地防空的，可以简单地将\nAreTeamMembersRecruitable设置为no。\n\n5. 合理使用IsBaseDefense和Aggressive\n\nIsBaseDefense，即基地防御小队。电脑优先建造这些小队。但是注意基地防御小队是有数量限制的，具体定义于Rules中的MinimumAIDefensiveTeams和MaximumAIDefensiveTeams。\n\nAggressive，即侵略性小队。只有当电脑的防御部队和建筑数量达到一定值时电脑才会建造这个小队。因此Rush小队上不要使用这个参数；但是对于光棱幻影这样的大部队进攻，为了避免电脑出现防守漏洞，就应该加上这个参数。\n\n6. 移动区域不相同的单位不要安排到同一个小队里\n\n比如犀牛和基洛夫。如果指定了“集结于XXXX”的脚本动作，电脑总是选择其中比较大的移动范围做决定，因此有可能把集结点选在水面上或悬崖上，\n导致脚本无法执行。\n\n7. 如果小队比较多，尽量增加一条全军重组突击的触发\n\n这点的意义在于，如果AI出兵太多，可能会堵在家里把自己卡死。这条触发的作用就是及时地将家中积压的部队派遣出去，避免堵车。\n\n8. 全部编写好以后照着提纲检查一遍\n\n最好是能画一个草图，然后标明在AI发展的不同阶段（有了兵营、有了重工、有了高科、有了超武，等等）都有哪些触发是激活的、哪些是曾经被激活后来被屏蔽的。\n\n同时还用标记一下不同作用的AI触发的分量，以避免前述分量越写越大的情况。\n\n"},{"title":"WAE：新款地编","tags":["进阶"],"categories":"工具与调试","author":"天雪酱","excerpt":"> The World-Altering Editor is a new map editor for the second-generation classic Command & Conquer ","link":"/posts/wae","content":"> The World-Altering Editor is a new map editor for the second-generation classic Command & Conquer games, designed to replace the old FinalSun/FinalAlert2 (FS/FA2) map editor developed in the TS/RA2 modding community in the early 2000s.\n> \n> To make it familiar for existing mappers, the editor is designed to follow the FS/FA2 UI design, but with modernizations and changes to make the editor smoother and more efficient to use.\n\n新款地编，使用`C#`重写，拥有全新的界面，据说可以提升地形绘制与摆图效率。\n\n地址在 [Rampastring/WorldAlteringEditor](https://github.com/Rampastring/WorldAlteringEditor)，具体用法有待补充~\n"},{"title":"XCC：提取 MIX 中的文件","tags":["入门"],"categories":"工具与调试","author":"天雪酱","excerpt":"可提取 mix 文件内的内容，比如 ini，地图，素材（被加密的无法提取），或是打包生成新的 mix 文件，在封装地图自带素材时会用到\n\n<TxDownload size='1.04MB' netdi","link":"/posts/xcc","content":"可提取 mix 文件内的内容，比如 ini，地图，素材（被加密的无法提取），或是打包生成新的 mix 文件，在封装地图自带素材时会用到\n\n<TxDownload size='1.04MB' netdisk='' direct='XCCMixerv1.47简体中文版.rar' name='XCCMixerv1.47简体中文版.rar' />\n\n<TxDownload size='1.39MB' netdisk='' direct='XCC_mixer套装安装包1.47.exe' name='XCC_mixer套装安装包1.47.exe' />\n\n## 使用\n\n视频版：[2019年版教程 - 第一章 提取ini文件，ini结构介绍](https://www.bilibili.com/video/av51000369/)\n\n文字版：\n\n> 修改自未知作者的文章\n\n红警游戏目录下有很多以 mix 为扩展名的文件，它们实际上是多个文件的集合，经过打包形成了一个文件，就像**压缩包**。红警游戏里面的许多游戏属性，都写在 ini 为扩展名的文件内，而 ini 文件就被藏在 mix 文件里。我们要修改游戏，就是把 ini 文件从 mix 文件中提取出来，经过对 ini 文件进行修改，以达到我们修改游戏的目的。\n\n`expand**md.mix`数字较大的，里面的同名文件会**优先**于其他 mix 中的生效。游戏目录中裸的文件优先级最高。\n\n::: warning\n打开 XCC Mixer 前，你需要在游戏目录运行`RegSetMD.exe`或`必须先注册.exe`，否则程序会找不到游戏。\n:::\n\n打开 XCC Mixer，可以看到，左边有2个目录窗口，显示了盘符和当前文件夹的内容（左边一般是上边注册的游戏目录），“..”代表上一级目录。暂时先选定一个目录，你只要用鼠标双击上面的任一行，就可进入相应的目录。想回上一级也可以按退格键。\n\n我们利用目录就可以查找并且打开mix文件了。也可以从选项“文件”->“打开”来选择一个文件。\n\n打开后，在左侧的窗口中可以看到这个mix文件中所包含的全部文件信息，它显示了每个文件的文件名、文件类型、文件大小等信息。用鼠标左键单击其中的某个文件（以“rulesmd.ini”为例），在右侧窗口立即可以显示这个文件的部分内容预览。\n\n### 释放\n\n如果你要编辑这个文件，必须把它提取出来。用鼠标右键在一个目录树中单击这个文件，然后右键选择**复制**，它就会复制到另一个目录树中去。可以利用`Ctrl`或`Shift`键多选。\n\n也可以选择“释放（E）...”，把这个“rulesmd.ini”文件释放到硬盘的任意一个地方。\n\n### 搜索\n\n按下`Ctrl + f`，输入文件名即可搜索（在注册的游戏目录中），文件名区分大小写，用`?`代替任一个字符，用`*`代替任意个字符，比如输入`tree*`搜到所有树。\n\n### 新建\n\n选项“文件”->“新建”，输入文件名（含扩展名），然后打开它，把要添加的文件拖进去。若要删除，选中（可借助`Ctrl，Shift`）后按`Delete`（先关闭正在使用此文件的软件）。\n\n### 其他\n\n修改选项“查看”->“调色盘”方便预览素材，一般自动，单位对应`unit*.pal`，地形对应`iso*.pal`。\n\n如何加密 mix，使 XCC 无法打开你的 mix：\n\n> 用 xcc mix editor 保存 mix 时选择 encrypted，之后再用 Ultra Edit 打开，对 mix 末尾的文件名索引进行 hex del。[手动加密mix的方法-ra2DIY](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=2469)\n"},{"title":"叶墨冷泉文集：MO地编教程","tags":["入门","合集","MO"],"categories":"基础与综合","author":"天雪酱","excerpt":"> Ra2map：本文为轻稚天雪对以下专栏内文章的简要概括和节选，详情请看原文。不做MO也值得一看，专栏后面触发相关的内容案例很多，比较有深度，含金量很高。\n\n<TxCard title=\"335-3","link":"/posts/ymlq-fa2-tutorial-based-mo","content":"> Ra2map：本文为轻稚天雪对以下专栏内文章的简要概括和节选，详情请看原文。不做MO也值得一看，专栏后面触发相关的内容案例很多，比较有深度，含金量很高。\n\n<TxCard title=\"335-336地编教程\" url=\"https://www.bilibili.com/read/readlist/rl469114\" author=\"叶墨冷泉\" date=\"2023-03-21\" imgPath=\"/img/ymlq_avatar.jpg\">本教程使用的地编版本为心灵终结3.3.5自带的地编汉化版。主要内容为单人战役的制作，可能会涉及遭遇战、合作任务等的内容。本教程面向从未接触过地编的新手，同时也可以作为使用了一段时间地编的人的参考资料。</TxCard>\n\n## 【心灵终结3.3.5】地图编辑器详细教程——前言\n\n## 地图编辑器功能介绍\n\n如标题\n\n### 1.1地编上方菜单栏\n\n### 1.2菜单栏下方的按钮栏\n\n### 1.3地编的左边栏和下边栏\n\n## 简单的可运行战役地图制作\n\n### 2.1建立单人战役地图\n\n新建任务地图各个对话框的介绍\n\n### 2.2战役地图的运行方法\n\n如何在MO运行你的任务，如何修改**BattleClient.ini**把你的任务加到任务列表中。\n\n### 2.3基础的斜坡、悬崖和水面制作\n\n如标题，一步一步演示，很基础\n\n### 2.4基础的小队和触发写法\n\n如标题\n\n## 触发原理概论\n\n### 4.1触发运行的内在逻辑\n\n以几个例子解释了触发运行的**时序先后关系**。\n\n### 4.2一个触发中多个触发条件的判定\n\n当一个触发中存在多个条件时，触发运行结果与各条件以及触发类型的关系。\n\n### 4.3关联触发\n\n如果我们想让多个触发对同一个或数个被关联对象生效，我们就需要关联触发来让一个标记与多个触发关联起来。本节通过多个案例对比，来解释关联触发的运行方式。\n\n## 触发结构\n\n### 5.1基础触发链：单链、分支和合成\n\n> 单个触发能做到的事情是有限的，在战役触发中通常需要“触发套触发”，即某些触发会去允许其它触发，而某些触发会去禁止其它触发。\n\n### 5.2应用：一个战役的触发如何规划\n\n本节将战役划分为了**不同的阶段**，比如开局过场，第一阶段，一二阶段转场，第二阶段等等，并且列出了每个阶段常用的触发结构和具体触发，以及注意事项。\n\n### 5.3局部变量\n\n> 局部变量通常用于表示某些不定时完成，且一般不能用触发简单判断的事件。\n\n### 5.4应用：在任务里写一个计数器\n\n用触发和局部变量写了一个二进制计数器。\n\n### 5.5随机触发（上）\n\n利用随机触发产生随机事件可以防止玩家背板，增加任务可玩性。本节以刷兵为例，由易到难讲解如何写各种随机触发。\n\n单随机延时刷兵，随机延时循环触发，固定平均间隔随机刷兵\n\n### 5.6应用：不使用局部变量实现死神之手的铁幕套娃\n\n随机触发的一个应用，具体看文章。\n\n### 5.7随机触发（下）\n\n> 局部变量在随机触发的编写过程中可以提供两个作用。一个是提供一个稳定的输出信号，用来实现多个触发之间的同步延时判定，另一个是用来保存随机结果并在需求时提取。以下是这两个作用的触发示例。\n\n简化的固定平均间隔随机刷兵，固定间隔随机刷兵\n"},{"title":"Hallow, Valaxy!","tags":["valaxy"],"categories":"Valaxy 笔记","author":"天雪酱","excerpt":"\n## Valaxy\n\nNext Generation Static Blog Framework.\n\nWrite your first post!\n\n## Usage\n\nModify `valaxy","link":"/posts/%E6%B5%8B%E8%AF%95","content":"\n## Valaxy\n\nNext Generation Static Blog Framework.\n\nWrite your first post!\n\n## Usage\n\nModify `valaxy.config.ts` to custom your blog.updated: 2023-09-02\n\n### 普通图片\n\n![noimage.png](/img/noimage.png)\n\n### 3\n\nModify\n\n### 行内图片\n\n行内图片<img src='/img/noimage.png' styly='display:inline;'>\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### h3\n\n#### h4\n\n#### h4\n\n##### h5\n\n###### h6\n\n### 巨大图片\n\n![dt.jpg](/img/dt.jpg)\n\n### 动图\n\n\n\n### 长图片\n\n\n\n### 3\n\nModify\n\n### 3\n\nModify Next Generation Static Blog Framework.\n\nWrite your first post!\n\n## Usage\n\nModify `valaxy.config.ts` to custom your blog.\n\n### 代码组\n\n::: code-group\n\n```js [config.js]\n/**\n * @type {import('valaxy').UserConfig}\n */\nconst config = {\n  // ...\n}\n\nexport default config\n```\n\n```ts [config.ts]\nimport type { UserConfig } from 'valaxy'\n\nconst config: UserConfig = {\n  // ...\n}\n\nexport default config\n```\n\n:::\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### 3\n\nModify\n\n### 3\n\nModify"},{"title":"AI基地车防卡","tags":["进阶"],"categories":["触发与小队","细节"],"author":"天雪酱","excerpt":"> Ra2map：本文转载自[【教程】AI基地车防卡（含样例地图） - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204850)\n\n本","link":"/posts/ai-mcv-anti-jamming","content":"> Ra2map：本文转载自[【教程】AI基地车防卡（含样例地图） - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204850)\n\n本教程前置知识：触发与小队的基本知识、局部变量的基本知识\n\n## 经常被卡住的AI基地车\n\n试过的人都知道，**单人战役中AI展开基地车可能是一件非常麻烦的事情**。\n\n没有任何干扰的话还好，走到预定位置，展开，搞定。\n\n但**如果存在玩家的刻意干扰，AI的基地车极有可能在预定的位置被卡住**。更恶劣的情况，比如玩家在AI预定的基地展开位置故意留下一截围墙，或者用时空兵、磁电坦克等控制单位和基地车疯狂的皮。再或者，在基地车判定周围空间足够、可以展开，于是转向右上方尝试展开的一瞬间，派一个部队去卡它，然后它就傻了，就在原地不会展开了……或者在一些mod里面，通过支援技能扔一个东西刚好卡住基地车的位置，等等\n\n## 向遭遇战取经\n\n虽然在战役中有一万种方法卡住敌人的基地车，但以上种种现象在遭遇战却鲜有发生。\n\n我们在遭遇战可以看到这样的行为：**AI的基地车会不断尝试向周围进行随机的移动，每移动一小截就尝试判断周围区域是否足够，如果足够就立刻展开，否则就继续随机移动**……如此重复，这样AI会高概率找到一片可以展开的空地（或者，在此之前基地车就被打爆了）\n\n很遗憾，我没能在单人战役中找到控制这种行为的代码，也就是不能在战役中通过几条代码就启用这种行为。\n**但是我们可以用一系列的触发去模拟这种行为！**\n\n## 一个简单的循环\n\n我的思路如下：\n\n- 为了防止小队被中途解散（磁电吸、EMP等状况），**每一步尝试都应当解散之前的小队，重新建立一个小队**，来执行下一步动作。\n- 利用 **“几个相同的随机延时谁先执行”** 来做最简单的随机。\n- 让基地车向某个方向移动一段时间以后解散小队，来做到“随机向一个方向走一小段距离”的效果。\n- 基地车本身在“随机移动”、“尝试部署”、“部署失败”3个状态之间循环。一旦部署成功则跳出循环、解散之前用到的全部小队。\n\n![](./01.jpg)\n\n为此我做了一个样例地图：敌人的基地车初始位置被树木阻挡，玩家也可以使用磁电坦克和警犬去干扰，但AI还是会尝试不断的移动基地车并试图找到可以部署的地方。\n\n8个触发，5个小队，1个局部变量，已经比较精简了。\n\n![](./02.jpg)\n\n样例地图下载：\n\n<TxDownload size='14.2KB' netdisk='' direct='../attach/AI基地车防卡-sov01umd.zip' name='AI基地车防卡-sov01umd.zip' />\n\n由于基地车的移动是“随机向1、2、3、4号路径点移动”来控制的移动方向，因此可以认为敌人的基地车部署的预定区域就在这几个路径点围成的区域之中。也是一个有限的区域，不过大得多了。\n\n## 一些小细节\n\n这种方法是可以复用的——如果AI的基地车被摧毁了，再刷出一辆，同一套触发还能继续用。\n\n至于保卫基地车的安全，那是其它单位的事情。尤其是如果是要在一个先前玩家占据的阵地上建立基地，那起码要刷大量的兵或者使用超武等手段把这个区域轰一遍，然后基地车才敢来。\n\n如果玩家真的丧心病狂到把这个区域用围墙完全填满……建议基地车自己扭头跑路哈，今天你也不用来了（（（\n\n另外由于此时基地车部署的位置已经不确定了，建议使用“自动建设基地”功能，让AI自行安排生产建筑的位置。（相关内容可以看我写的基地节点教程）\n\n## 另一种脑回路\n\n其实关于AI基地车防卡，还有另一种思路，就是**障眼法**：基地车开到预定位置以后，删除AI的基地车，同时使用触发 _[结果 125 建造特定类型的建筑]_ 强行造出建筑。\n\n这种方法也有相应的优缺点，这里不再赘述。"},{"title":"CJ的触发入门实例教程3篇","tags":["入门"],"categories":"触发与小队","author":"天雪酱","excerpt":"> Ra2map：本文转载自贴吧，作者CJ帝\n\nCJ帝教您：【地图编辑器实用触发教程】【红色警戒2地图制作技巧】（请先从选项里去除“简单模式”）\n\n## 一：菜鸟初学者必看\n\n触发：\n\n【解释： 触发","link":"/posts/cj-trigger-instance-tutorial","content":"> Ra2map：本文转载自贴吧，作者CJ帝\n\nCJ帝教您：【地图编辑器实用触发教程】【红色警戒2地图制作技巧】（请先从选项里去除“简单模式”）\n\n## 一：菜鸟初学者必看\n\n触发：\n\n【解释： 触发分3步，1是基本设置，2是条件，3是动作。数字代表所选的选项里的内容】\n\n* Tigger Options= 触发设置\n* Events=条件\n* Actions=动作\n\n### 1.如何让地图上的单位游戏开始时就归你？\n\n* 基本设置 单独设个触发的名字 （以后也一样） 比如 “give a”\n* 条件 选 【8 任何事件】 解释：无条件直接发动效果\n* 动作选 【14 更改所属...】 解释： 被关联到的单位会更改所有者【注：单位过多时可选36号，无需关联】\n* 参数值：4475 \\<Player @ A\\> 1号，4476 \\<Player @ B\\> 2号，以此类推\n\n然后对着需要归你的东西双击，出现一个窗口，最下面有一个关联标记，里面会出现所有的触发，里面选择 XXXXXXXX give a （XX是数字，触发的号码，不用记）\n\n等进入游戏，所关联的所有东西都会属于“参数值”里所设定的玩家\n\n拓展一下，可以把条件里的选项换成【13 流逝时间...】参数值任意，单位为秒，这样的话，就是过多少秒才属于你。\n\n![](./01.webp)\n\n### 2.如何创造一些援军？\n\n这个说法不太准确。。。\n\n左侧：路径点——建立路径点\n\n——————路径点————————\n\n首先建立一个路径点（不能是0-7否则占用玩家出生的位置），比如10\n\n再建立一个路径点 比如 11 【前一个是小队出生的路径点，建议在地图外。后一个是要到达的位置，别在地图外。。】\n\n—————特遣部队—————————\n\n然后打开” 编辑 “里面的 ”特遣部队“\n\n添加一个“特遣部队” 名字任意，比如 HTNK\n\n再添加几个”特遣部队单位“\n\n里面你会发现有众多的单位，很爽吧？\n\n这里比如选择 “犀牛坦克” 单位数量为2\n\n—————脚本—————————\n\n打开“编辑”里的“脚本”\n\n新建一个脚本（注意，如果建多个脚本，FA2不会切换新建的脚本！）名字任意，最好配对，比如HTNK\n\n然后再添加一个 行为\n\n行为类型选 Move to waypoint\n\n下面的 Waypoint 选11就是上面的路径点\n\n—————作战小队—————————\n\n打开“编辑”里面的“作战小队”\n\n新建一个 作战小队， 名字最好与特遣部队相同 还是 HTNK\n\n经验等级。。。1级就是普通的，2就是 1星 ，3就是3星。\n\n参战方，这个主要 如果你是1号位置的，就选【\\<Player @ A\\>】\n\n脚本 这个就选上面咱做的脚本\n\n特遣部队 还是上面咱们造的\n\n剩下没说的一般是给AI看的或暂时用不到的。。\n\n下面的一堆我就参照AI里的说了\n\n```\n可装载=部队攻击完后撤退,待会再攻击（一般使用在像飞机那样需要补充弹药的部队裏）\n完整小队=完整小队 AI（MD）INI裏得设为=no\n烦恼效果=烦恼效果（任务地图）AI（MD）INI裏得设为=no\n防卫减缓=防卫减缓 NO代表部队在基地中作出还击时不会变慢\n补充新兵=AI会动用现有的单位去组成队伍,优於去建造新的单位来组成队伍\n自动建造=没有达到触发条件电脑也会生产这支部队，只不过部队将不会去执行任何命令\n预建造=电脑在还没需要时预先建造此队伍\n解散新兵=当前的部队完成任务后将会被解散，而不会加入另一队中\n增援部队=这是增援部队，一般用在防御部队。\n空降部队=这是空降部队（任务地图）AI（MD）INI裏得设为=no\n哀叫效果=哀叫效果（任务地图）AI（MD）INI裏得设为=no\n侵略性的=该部队将按Script=所使用的命令组裏的命令去执行。\n自毁单位=这是将进行自杀攻击的部队\n只为传送=这是传送部队（任务地图）AI（MD）INI裏得设为=no\n消除威胁=部队会忽略任何攻击继续前进. no=在遇到敌人时就会开火，在被攻击时就会停下还火\n传送器卸载返回=运输单位在完成卸载后返回基地\n可为小队重组成员=可以为该组部队补充队伍中被消灭的成员\n基地防御=这是在基地裏防御的部队\n值攻击目标敌方=只对付敌对玩家的单位,而不攻击中立的单位\n```\n\n—————触发———————————————\n\n* 基本设置 如果你想有无限的援军。。。 那么在触发设置里的右边把 “类型（关联所有标记！）”里选 【2--重复】 ，名字比如来个 “Tanks”\n* 条件，这个就随意了， 比如选择【13 流逝时间...】 参数值为60 （一分钟）\n* 动作 这里举例 【80 援军(作战小队)[在路径点]...】这个就出现2个参数值选项了。。\n* 参数值： waypoint：10（出生点）\n* 小队类型： HTNK （这里只能选上面建造的作战小队）\n\n到此，进入游戏，过一分钟后会有3辆犀牛坦克从 地图外（10号路径点）开来，奔向（11号路径点）。\n\n![](./02.webp)\n\n### 3.如何制作断桥？\n\n这个在FA2中已经屏蔽了断桥的覆盖物，不过还可以从触发中解决断桥问题（新手做完断桥后常常用擦除覆盖物给擦除了，导致不能修桥。。）\n\n首先做一段桥。。。\n\n然后建立一个路径点在桥上 比如10（不能有重复的路径点，否则会覆盖已有的）\n\n——-—触发———————————\n\n* 基本：名字 ，比如 Bridge\n* 条件：【8 任何事件】 ；不解释。。\n* 动作：【63 给予100损伤在...】 参数值就是路径点， 选10（上面建的路径点）\n\n![](./03.webp)\n\n进入游戏。。会发现桥上有个缺口。而且这桥还能修。\n\n### 4.怎么制作任务开始的样子\n\n玩过战役的都知道，开始不能操作，等什么玩意乱七八糟的东西看完之后再允许你操作。\n\n* 条件：【8 任何事件】 \n* 动作：【46 禁止用户输入】 就是鼠标没了。。。\n* 推荐动作2 【48 移动并居中视野...】 参数值（就是移动的速度） 1-4 ，4最快\n* 建议动作3 【21 播放语音...】 参数值:EVA_EstablishBattlefieldControl\n* 建议制作些小队来打仗，开局热身。。。\n\n—————————触发2———————————————————\n\n* 条件：【13 流逝时间】 参数值 任意，建议在移动完视野固定几秒钟后\n* 动作：【47 允许用户输入】 可以操作\n* 建议动作2： 【11 文本触发事件...】 MISSION:ALL01q : -- 作战控制连q\n* 建议动作3： 【21 播放语音...】 EVA_BattlefieldControlOnline\n\n这样就和一个官方任务的开局差不多了。。。\n\n### 5.如何一个建筑同时关联两个触发？\n\n在触发的设置里有个关联触发。。。。。选上另一个即可\n\n先说这么多，还有许多实用动作的，我就简单写了\n\n```\n【16 显示全部地图】 \n【90 闪电打击...】\n【95 核弹打击...】\n【102 闪电风暴打击...】\n【109 铁幕装置作用于...】\n【60 变卖关联建筑】\n【9 卖掉全部建筑...】（最好用于任务）\n【88 粒子动画...】\n等等.....\n```\n\n## 二：局部变量\n\n### 6.局部变量应用\n\n局部变量。。。这名字很HI。。\n\n我先说一下局部变量的应用。\n\n效果：当心灵信标被摧毁后，XX归你。\n\n我们都知道，一个单位只能关联一个触发，而这个触发的事件与动作都需要关联，所以这里就用到了局部变量。\n\n先建立一个局部设置，这建立局部设置可就不同了，只需打个名字自动就建了。。。我写的是 RFLZ（随意）【解释：局部变量中“0 RFLZ,0”第一个数字是编号，第二个是你起的名字，第三个就是他的预设值0或1】\n\n预设值为0，就是说需要触发启动它。 \n\n触发：\n\n* 名称 RFLS\n* 条件 【7 被任一作战方摧毁】\n* 动作 【56 局部设置...】 参数值就是“0 RFLZ,0\" \n\n触发2：\n\n* 名称 RFLX\n* 条件 【36 局部设置开始...】 参数值也是 0 RFLZ,0\n* 动作 【14 更改所属...】 参数值就是你的国家或编号\n\n完成，把心灵信标关联到 RFLS 这个触发， 要给你的单位关联到 RFLX 这个触发。\n\n当心灵信标被RF时，关联到 RFLX这个触发的单位就属于某人了。\n\n### 7.1.局部变量2\n\n其实上面那个例子是可以用其他条件代替的，一个触发就可以搞定，我只不过是举个例子。。。。（一个触发的条件：【57 建筑不再存在】注意所属方和参数值）\n\n局部变量还可以当做 ”开关“，比如做任务，当你进入敌人基地时，敌军开始发动进攻。如果用\n【1 进入事件】 和 【53 允许目标触发】配合的话虽说可以，但是如果多了就很麻烦了。\n\n这时用局部变量就方便许多了。\n\n先建个局部变量，预设值0\n\n触发1\n\n* 名称：RF3L\n* 条件：【1 进入事件】 （要放置单元标记，方法：在这个触发里，选择右上角的 放置于地图）\n* 动作：【56 局部设置...】 下面写建的那个局部变量\n\n触发2：\n\n* 名称：RF4L\n* 条件：【36 局部设置开始...】\n* 动作：..................\n\n动作你就自己写吧，同样的，多做几个条件相同的触发， 更方便。\n\n### 7.2.局部变量3\n\n局部变量做开关。正如尤里复仇盟军第四关的那个一样，同时站到左上角3个草地上才可以触发，这里用到了局部变量的性质。\n\n首先，因为有3个点就是三个单元标记，所以有3个局部变量。由于不能离开单元标记，所以又要有3个清除变量的触发。\n\n所以我们先以这个类型来举例子。\n\n建立三个局部变量 预设值0\n\n同时建立3个触发，这3个都是换汤不换药，只改参数值即可，嫌麻烦的可以复制触发。。。\n\n触发1-3：\n\n* 条件【1 进入事件】\n* 动作【56 局部设置...】填上第一个局部变量（后面的2个以此类推）\n\n触发4：\n\n* 条件1【36 局部设置开始...】 \n* 条件2【36 局部设置开始...】\n* 条件3【36 局部设置开始...】 （三个条件同时存在）\n\n参数值分别填上三个局部变量。\n\n* 动作 。。。那个任务里是 传送恐龙，你可以改些别的，这种方法做彩蛋很好。\n\n触发5-7：（这是离开某位置时清除局部变量的）\n\n* 条件【1 进入事件】 （放在触发1-3的单元标记的四周）\n* 动作【57 局部清除...】 第一个填上第一个的局部变量（后面的2个以此类推）\n\n然后分别建立三个触发的单元标记（最好每个触发只有一个），貌似说很难明白，上图。\n\n![](./04.webp)\n\n#### Special:\n\n这里我借鉴下FlyingZ的一个多人任务的触发,效果是:2个人类玩家,控制2个要塞,当某一人到达某单元标记时,被关联的单位就归某人,而后进来的就没用了。A进入某区域，B进入某区域都可以发生触发，先到先得。\n\n这个触发很有趣，我开始自己琢磨不明白，后来看懂了：\n\n建立一圈单元标记，圈里放些单位，关联上。\n\n* 触发1： 关联触发2\n* 条件 【1 进入事件】\n* 动作1 【14 更改所属】\n* 动作2 【54 禁止目标触发】 禁止触发2\n\n* 触发2：~~关联触发1~~\n* 条件 【1 进入事件】\n* 动作1 【14 更改所属】\n* 动作2 【54 禁止目标触发】 禁止触发1\n\n效果就是前面说的了，做多人任务时很有趣。2人甚至3人争军队，然后一起进攻敌人，看谁的军队：或者搞个什么类似于走迷宫的地图也可以。\n\n#### UsefulTigger：\n\n让地图已经存在的单位执行命令。\n\n在地图上放置一个单位，比如说犀牛坦克吧。\n\n* 特遣小队：犀牛坦克一个（别的没有）\n* 脚本：任意，比如选最简单的 attack，犀牛就自己去炸别人了。\n* 作战小队：关联上特遣部队和脚本，所属方一般是 平民，任务里可以选别的。\n\n其他的自己设定吧。\n\n触发：\n\n* 条件： XXXXX（就是任意啦，比如【13 流逝时间】 或【1 进入事件】等）\n* 动作： 【4 建立小队...】 \n\n这样达到条件时，犀牛坦克就会受到命令，执行脚本里的动作。\n\n## 三：手动改图\n\n看本文前最好先看看前两个教程，因为有许多要使用学过的东西。\n\n这些教程的难度都是越来越难的。。。\n\n前面2个都是在FA2图形化的界面中编辑，接下来我教大家来用记事本编辑地图。\n\n后面还有提到脚本。\n\n### 8.秘密科技实验室\n\n我在百度知道上看到一个人提问，修改占领 秘密科技实验室（以后简称实验室）后出来的兵种。其实本篇大部分都和rules有关，因为FA2所编辑的地图也是和rules很相像的。\n\n用记事本打开你的地图（最好用notepad2这个记事本，我就再使用，因为打开后是按行排列的，还有许多功能）\n\n找个空地输入以下内容：\n\n```\n[GENERAL]\nSecretInfantry=SNIPE,TERROR,DESO,YURI \nSecretUnits=TNKD,TTNK,DTRUCK\nSecretBuildings=GTGCAN\n```\n\n这是原rules里的内容，接下来就可以开始修改了。（可以把原来的都删去，只保留修改的）\n\n```\nSecretInfantry=SNIPE,TERROR,DESO,YURI\n...............................狙击手 恐怖分子 辐射工兵 尤里复制人\n指的是占领后可 以得到的步兵单位，\n可以随便改，比如改成\nSecretInfantry=SHK,VIRUS,LUNR,DONA,TANY,BORIS（注意大写）\n这就变成了 磁暴步兵、病毒狙击手、登月飞行员、暴龙、Tanya、鲍里斯\n```\n\n【要注意的是：要填兵种在rules中注册的名字，如果不知道，就参照下面的】\n同样的，SecretUnits=这个是战车，SecretBuildings=这个是建筑\n\n```\n兵种列表：（我挑有用的） \n（貌似游戏中不能造的不好使吧）\nE1 美国大兵\nE2 动员兵\nSHK 磁暴步兵\nJUMPJET 火箭飞行兵\nGHOST 海豹部队\nYURI 尤里复制人\nIVAN 疯狂依文\nDESO 辐射工兵\nCLEG 超时空部队\nSPY 间谍\nCIVAN 超时空依文\nCCOMAND 超时空突击队\nPTROOP 心灵突击队 \nYURIPR 尤里改（在尤里的复仇中是 尤里X）\nSNIPE 狙击手\nCOW 奶牛\nTANY Tanya\nFLAKT 苏防空步兵\nTERROR 恐怖分子\nVLADIMIR 维拉迪莫将军（其实是平民）\nPRES 总统\nSSRV 终极保镖\nGGI 重装大兵\n————尤里复仇资料片————\nINIT 尤里新兵\nBORIS 精英战斗兵\nBRUTE 狂兽人\nVIRUS 病毒狙击手\nCLNT Westwood之星\nARND 魔鬼终结者\nSTLN 蓝波\nEINS 阿尔伯特·爱因斯坦\nMUMY 木乃伊\nRMNV 罗曼诺夫总理\nLUNR 登月飞行员\nDNOA 暴龙\nDNOB 腕龙\n\n战车列表：（最好不要用海军，否则杯具死你）\nAMCV 盟基地车\nHARV 武装采矿车\nAPOC 天启坦克\nHTNK 犀牛坦克\nAPC 苏装甲运兵船\nMTNK 灰熊坦克\nV3 V3火箭\nZEP 基洛夫空艇\nDRON 恐怖机器人\nHTK 防空履带车\nDEST 驱逐舰\nAEGIS 宙斯盾战舰\nLCRF 盟运输船\nDRED 无畏级战舰\nSHAD 夜鹰直升机\nSQD 乌贼\nDLPH 海豚\nSMCV 苏基地车\nTNKD 坦克杀手\nHOWI 榴弹炮\nTTNK 磁暴坦克\nHIND 雄鹿运输直升机\nLTNK 轻坦克（尤里复仇中是 狂风坦克）\nCMIN 超时空矿车\nSREF 光棱坦克\nHYD 海蝎\nMGTK 幻影坦克\nFV 多功能步兵车\nVLAD 将军指挥舰\nDTRUCK 自爆卡车\nCONA Construction Excavator\nYHVR 尤里运输船\nPCV 尤里基地车\nSMIN 奴隶矿车\nYTNK 盖特坦克\nBFRT 战斗要塞\nTELE 超BT的尤里磁电坦克\nCAOS 心灵突击小车车（混乱雄蜂）\nSCHP 武装直升机\nMIND 心灵控制车\nDISK 镭射幽浮\nROBO 遥控坦克\n建筑:\nGASPYSAT 间谍卫星\nGAGAP 裂缝产生器\nNAIRON 铁幕装置\nGAWEAT 天气控制器\nGACSPH 超时空装置\nNAMISL 苏军核弹发射井\nCATHOSP 医院（尤里的复仇中的）\nCAHOSP 医院(RA2中的)\nCAAIRP 科技机场\nGAOILD 油井\nCAPARS01 埃菲尔铁塔\nNANRCT 核电站\nGTGCAN 巨炮\nNACLON 复制中心\nGAGREEN 环保建筑（建造一片绿地，很囧吧。。）\nGAOREP 矿石精炼器\nNAINDP 工业工厂\nYAGNTC 基因突变器\nYAPPET 心灵控制器\n另：建议不要用游戏中被隐藏的单位（老鸟除外）\n```\n\n### 9.特殊的脚本\n\n众所周知，FA2中有许多脚本，它们都很有用。\n\n先举几个常用脚本和用法,掌握这几个就足够了。\n* Attack 攻击，target里可以设定攻击的类型，像建筑、步兵等。\n* Attack Waypoint 攻击某路径点，像是V3或基洛夫等大范围杀伤性武器用作阻碍某小路口。。或是做过场炸某地（RA2盟第一关的那几个V3就是）。\n* Move to waypoint 去某路径点，这个巨实用，具体不解释了。\n* Guard area（timer ticks） 这个很多新手都不会使用，也不懂他的意思。比如某人想让某单位走到X路径点，等会再到Y路径点，可是苦于找不到哪个脚本是等多久。。。其实这个就是。。。可以把它当做Wait。。。\n* Jump to line # 跳到某步，一般是给绕圈的特遣部队或巡逻的用的，\n* Unload 卸载，运输船或其他卸载。\n\n```\n0 - Keep Transports, Keep Units\n运输单位和单位都保持，也就是说运输船卸载后与其他单位一起执行下一个脚本 。\n1 - Keep Transports, Lose Units\n保持运输单位，只有运输船会执行下一个脚本，就像任务中运输船开走，单位由你控制。\n2 - Lose Transports, Keep Units\n保持单位，只有单位会执行下一个脚本。运输船原地不动。\n3 - Lose Transports, Lose Units\n这个是全都不动，只是卸载。\n```\n\n* Deploy 部署。。别与卸载整混了。\n* Patrol to waypoint 巡逻到某路径点，一路上遇到的所有敌人（包括建筑）通通干掉。到达目的地后如没有其他命令，就是在那警戒，如果有敌人靠近就揍，跑远了的话就回到原处。\n\n后面的不是大型任务基本用不到，就不提了。写太多新手看不懂。。。\n\n————特殊的脚本———\n\n有人会问，**怎么进入建筑**？**如何进入坦克碉堡**？等等。。。\n\n这些都是FA2里没有提及的，但可以手动打开地图改。\n\n* 第一步：新建个脚本，任意命名（这里用TANKB做名称，最好复杂点），在脚本里建个动作（任意）\n* 第二步：打开地图，按CTRL+F（查找）搜索 TANKB ,找到后是如下内容：\n\n解释下：\n\n```\n[01000000] ;编号，可不记\n0=0,0 ;指令内容，关键的内容\nName=Tankb;名称 TANKB就在这里，我们新建的脚本\n```\n\n关于指令，就照葫芦画瓢把。\n\n```\n[01000000] \n0=0,0 ;原始的动作\n1=0,0 （这是后加的，依此类推，关于0,0是什么后面告诉你）\n2=0,0 ...\nName=Tankb\n```\n\n这是关于AI的，最早编辑地图的人都可能知道，但现在、、\n\n我把AI的教程摆这。当然，还有我的注释。\n\n```\n（吧里的AI教程）\nName=General Base Defense Attack【名称】\nName 这个仅仅是作为注释用 没有实际意义\n0=54【左边这里是教程里的 X 值】,0 【右边就是Y值咯】\n1=53,0\n2=0,7\n3=49,0\n4=0,2\n5=0,1\n```\n\nAI最难的地方来了 这个格式是T=X,Y 【T就是动作的编号，从0开始】\n\nT是个序数 和上文的一样 直接加就可以了\n\nX,Y 他们组合起来代表一个步骤 比较麻烦 我把他们一一列出以便各位观赏!\n\n**X一共有64个值 我拣有用的说 没说的一般都没什麽用处了(在我看来)**【对于maper来说还不够】\n\n```\n【这里的顺序也是FA2里脚本的顺序！】\nX=0:攻击物体 Y=将要攻击的物体类型【0,0就是这个了，如果Y等于0的话也是任意东东】\nY=1:任意东西 【和0一样】\nY=2:任何建筑\nY=3:矿车（矿厂）\nY=4:步兵类\nY=5:车辆类\nY=6:工厂类\nY=7:防御建筑类\nY=8:超级武器\nY=9:电场类\nY=10:可进驻物体\nY=11:科技建筑类\n··················································\nX=1:攻击Y号路径点(不推荐) 【X=1 Y=路径点，这个对于map来说是有用的哦，举例：建立路径点50，那么脚本里写的就是0=1,50】\nX=2:使拥有Cyborg=yes(生化机器人)的步兵进入疯狂状态(不分敌我) [未证实] Y=0【TS里的，不加RULES或mod没用】\nX=3:移动到Y号路径点【推荐！就是move to waypoint】\nX=5:警戒Y*6秒【Guard Area那个。】\nX=6:重复第Y行(序数T的那行)【Jump to line 那个】\nX=8:运输工具卸载【Unload。。。下面同】\nY=0:保留所有\nY=1:保留运输工具\nY=2:保留单位(推荐)\nY=3:全部解散\nX=9:展开单位 Y=0【Deploy】\n——后面的就是我前面没写的——喜欢的可以看。\nX=10:跟随距离最近的友好单位 Y=0\nX=11:执行命令\n0，啥也不干\n1，（通过威胁等级）执行AI中的攻击任务\n2，移动到目的地\n3，跟随另一队移动\n4，撤退\n5，保护目标，攻击来犯之敌\n6，保护目标，但穷寇末追\n7，进入建筑或交通工具\n8，工程师占领\n9，在修理单位时，把他吃了....估计是尤裏的变卖场（只能用於建筑）\n10，矿区采矿，矿场卸货\n11，守卫初始地区\n12，航母载机回巢\n13，停止活动（有可能的话）\n14，伪装伏击单位开火\n15，游猎歼敌\n16，卸货\n17，埋雷包\n18，建筑建立\n19，卖出建筑\n20，修理单位（维修厂）\n21，特种部队突击（这个over-ride应该是推翻，不管不顾的意思，为什麽这样不懂，就参考一下好了）\n22，核弹井发射\n23，无威胁目标\n24，开门关门\n25，巡逻\n26，空降机飞行\n27，空降机空投\n28，待命\n29，空间跳跃\n30，展开攻击\n31，侦察机飞行(YR)\n32，侦察机照相(YR)\nX=14:运全部兵 Y=0\nX=16:在Y路径点附近巡逻\nX=17:更改应用脚本 Y为脚本名称 [未证实]\nX=18:更改部队 Y为部队名称 [未证实]\nX=21:分散部队 Y=0\nX=29:自动生产 似乎没用 还是写出来的好\nX=30:出售所有单位并进攻对手 这个在遭遇战快速游戏模式下的唯一用处是自杀 Y=0\nX=43:使运输停止直到装满\nX=46:攻击特定建筑 Y=特定建筑在RULES中注册的值(K=XXX)加上0/65536/131072(推荐)【TMDBT!】\nX=47:移动到特定建筑 Y同X=46算法\nX=48:侦察\nX=49:使之前动作完成再进行下一个动作 Y=0\nX=53:集团冲锋到对方阵地(快慢协调 就是说快的要等慢的一起 Y=0\nX=54:在自己阵地集合 Y=0\nX=55:加铁幕 Y=0 【需要有铁幕准备好】\nX=57:超时空到对方家某些建筑附近【同上，超时空准备好】\nY=1:任意东西\nY=2:建筑\nY=3:矿车\nY=4:步兵\nY=5:车辆\nY=6:工厂\nY=7:基础防御\nY=8:最大威胁\nY=9:电场\nY=10:可进驻物体\nY=11:科技建筑\nX=58:移动到友好建筑 Y同X=46算法\n●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●●关键的地方，这里是我们要找的。\nX=60:进入回收站 Y=0\nX=61:进入坦克碉堡 Y=0\nX=62:进入生化反应堆 Y=0\nX=63:进入战斗碉堡 Y=0\nX=64:进驻建筑 Y=0\n```\n\n懂了吧，这回我们就开始改我们的脚本了。\n\n```\n开始修改：\n[01000000] \n0=0,0 【改这里】\nName=Tankb\n修改后：\n[01000000] \n0=61,0 【61？对照上面的，就是进坦克碉堡啊！】\nName=Tankb\n\n就是这么简单！各位有兴趣可以挨个试。\n接下来举例个一连串的脚本：\n[01000001] ;编号，可无视\n0=3,10 ;被创建的小队移动到10号路径点\n1=5,10 ；停留一会，让玩家看看情报。。。。\n2=8,2 ;卸载后，运输船呆着，单位执行下一个命令\n3=61,0 ;坦克进入坦克碉堡\n4=63,0 ;步兵进入战斗碉堡\n```\n\n—————————看懂之后改就很方便了————\n\n### 10.FA2内容解析：\n\n记事本打开地图，也是可以更改很多设定了，我把各个部门都来翻译下。\n\n新地图举例：\n\n这里的内容很多，要细心的看！没耐心的可以关闭此页面。\n\n```\n[Header] 【设定】\nWidth=45 【宽】\nHeight=44【高】\nStartX=233【开始的X值，非任务地图可无视】\nStartY=30\nWaypoint1=256,50 【路径点1，这个你能计算出来么？不能的话就别管了】\n[Preview] 【地图预览设定】\nSize=0,0,100,50【可无视，你没事改预览骗人么。。。。】\n[PreviewPack]【预览包，这些代码我搞不懂，也不用搞，FA2图形化界面搞定了】\n[01000000] 【编号在此有用，证明他是个脚本（后面有解释）】\n0=61,0 【前面提到过就不解释了】\nName=Tankb\n\n[01000003]【编号证明他是个特遣部队】\n0=1,E1 【0指的是编号，1是单位个数，E1是单位注册名。E1去查吧，是GI，就是美·国大兵】\nName=New task force【名称】\nGroup=-1【这是编号，一般没啥用，强加给人的】\n\n[01000004] 【编号证明他是作战小队】（可以参照AI的教程，第一个教程也有）\nMax=5 【最多出现5次，给AI看的】\nFull=yes 【完整小队··就是有装载能力的单位装入所有的单位。。。慎用】（这个是作战小队下面要打勾的那些。。。后面有的也是）\nName=New teamtype 【名称】\nGroup=-1 【编号，就是CTRL+数字的那种，上面的也是】\nHouse=<Player @ A> 【属于,A玩家，就是1号路径点】\nScript=01000000 【脚本，后面有解释】\nWhiner=no 【哀叫效果··】\nDroppod=no 【空降部队··】\n\nSuiXXXXcide=no【自·毁部队··】\nLoadable=no 【可装载··】\nPrebuild=no 【预建造··】\nPriority=5 【这是优先权,数字越小优先权越大】\nWaypoint=A 【路径点】\nAnnoyance=no【烦恼效果··】\nIonImmune=no （别改）\nRecruiter=no 【补充新兵·· 给AI看的】\n\nReinforce=no 【增援部队】\nTaskForce=01000003 【特遣部队，后面有解释】\nTechLevel=0 【科技等级】\nAggressive=no【侵略性的··】\nAutocreate=yes【自动建造··】\nGuardSlower=no 【防卫减缓··】\nOnTransOnly=no 【只为传送··】\nAvoidThreats=no【消除威胁··】\nLooseRecruit=no 【解散新兵··】\nVeteranLevel=1 【经验等级】\nIsBaseDefense=no 【基地防御··】\nUseTransportOrigin=no【使用存在的运输工具（FA2屏蔽了）】\nMindControlDecision=0【被心灵控制结果】\nOnlyTargetHouseEnemy=no 【只攻击目标敌方··】\nTransportsReturnOnUnload=no【传送器卸载返回··】\nAreTeamMembersRecruitable=no【可为小队重组成员··】\n\n[AITriggerTypesEnable] 【允许的AI，最好别改】\n[Actions] 【动作】\n01000001=1,14,0,4475,0,0,0,0,A\n01000005=1,80,1,01000004,0,0,0,0,B\n[Aircraft] 【空军单位】\n0=Neutral【所属】,ORCA【类型】,256,44,53,64【方位】,Guard【状态】,None【关联触发】,0,0,1,0【同】\n[Americans] 【国家】\nIQ=0【智力，任务地图就别0了】\nEdge=North【方向，就是运输船来的方向】\nColor=Gold【色】\nAllies=Americans【同盟】\nCountry=Americans【归属】\nCredits=0【。。。。？貌似是节点】\nNodeCount=0【建筑节点总计，就是透明的建筑，让AI自己造后面有介绍】\nTechLevel=1【科技等级，任务里最好10满】\nPercentBuilt=0【建筑行为】\nPlayerControl=no【游戏者控制】\n\n【【【【【【【【【【【【【【【【【【【【好地方来了】】】】】\n[Basic]【基本设置】\nName=No name 【名称，会改了就不用去FA2里改了，很方便】\nPercent=0【百分比、、？】\nGameMode=standard【游戏模式。。】\nHomeCell=98【自己家的路径点，任务地图有用】\nInitTime=10000【貌似是初始资金，不过没用？】\nOfficial=no【官方地图，别打了，打了也没人信、、】\nEndOfGame=no【结束游戏】\nFreeRadar=no【免费雷达】\nMaxPlayer=8【最多玩家】\nMinPlayer=2【最少玩家】\nSkipScore=no【跳过积分屏】\nTrainCrate=no【火车，TS留的】\nTruckCrate=no【货车，TS留的】\nAltHomeCell=99【任务地图】\nOneTimeOnly=no【只玩一次，试玩版的？】\nCarryOverCap=0【1.02版有，我不清楚】\nNewINIFormat=4【新INI格式】\nNextScenario=【下一关】\nSkipMapSelect=no【跳过地图选择】\nCarryOverMoney=0.000000【。。。。】\nAltNextScenario=【ALT下一关，这个翻译也没整明白】\nMultiplayerOnly=1【只在多人地图，这个貌似任务里也是1。。。。。】\nIceGrowthEnabled=yes【冰层生长，TS留的】\nVeinGrowthEnabled=yes【矿】\nTiberiumGrowthEnabled=yes【T矿，TS留的】\nIgnoreGlobalAITriggers=no【、、、】\nTiberiumDeathToVisceroid=no【TS留的】\n【上面有些改了根没改一样，就是没用的。。。】\n\n[CellTags]【这是单元标记注册】\n42041=01000002\n[Events]【触发的事件注册】\n01000001=1,1,0,4475\n01000005=1,8,0,0\n[Houses]【国家注册，任务图有用】\n0=Americans\n[Infantry]【步兵，同飞机的格式】\n0=Neutral,E1,256,44,52,1,Guard,64,None,0,-1,0,1,0\n[IsoMapPack5]【地图内容，手动改不了，但可以加密地图】\n\n[Lighting]【光照，这个必须改，不然证明你做地图不细致】\nRed=1.000000【红】\nBlue=1.000000【蓝】\nGreen=1.000000【绿】\nLevel=0.032000【照明等级】\nGround=0.000000【地面】\nIonRed=1.000000【离子（闪电）风暴红】\nAmbient=1.000000\nIonBlue=1.000000\nIonGreen=1.000000\nIonLevel=0.032000\nIonGround=0.000000\nIonAmbient=1.000000\nDominatorRed=0.850000【心灵控制红！要改的可以改，，，】\nDominatorBlue=0.300000\nDominatorGreen=0.200000\nDominatorLevel=0.000000\nDominatorGround=0.000000\nDominatorAmbient=1.500000\nDominatorAmbientChangeRate=0.009000\n\n[Map]【地图设定】\nSize=0,0,50,50\nTheater=TEMPERATE【战场类型】\nLocalSize=2,4,46,44【可视范围（蓝线）】\n[OverlayDataPack]【覆盖物。。】\n[OverlayPack]【也是覆盖物】\n[ScriptTypes]【脚本注册】\n0=01000000\n[Smudge]【污染注册】\n0【编号】=BURNT07【类型】,49,55,0【方位】\n[SpecialFlags]【特定标识】\nInert=no【不活动的？TS刘的】\nFogOfWar=no【战雾扩张。。。,TS留的】\nIonStorms=no【离子风暴，TS留的】\nMCVDeploy=no【MCV部署。。。TS留的】\nMeteorites=no【陨石，TS留的】\nVisceroids=yes【？？TS留的】\nFixedAlliance=no【固定联盟】\nTiberiumGrows=yes【T矿生长，TS留的】\nInitialVeteran=no【初始为精英部队，都LV3】\nHarvesterImmune=no【矿车无敌，TS留的】\nTiberiumSpreads=yes【T矿散播，TS留的】\nTiberiumExplosive=no【T矿爆炸，TS留的】\nDestroyableBridges=yes【可摧毁桥梁，TS留的】\n（可见TS的设定多么多！可是现在都废了。。。）\n[Structures]【建筑列表】\n0=Neutral【归属】,GAPOWR【类型】,256,44,49,64【方位】,None【关联触发】,1,0,1,0,0【关联触发】,None,None,None,0,0\n```\n"},{"title":"基地节点指南1.1","tags":["进阶","AI"],"categories":"其他教程","author":"天雪酱","excerpt":"> Ra2map：本文转载自[【教程】基地节点指南1.0 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204443)，1.1新增了总","link":"/posts/base-node-guide","content":"> Ra2map：本文转载自[【教程】基地节点指南1.0 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204443)，1.1新增了总结图。\n\n基地节点这个东西嘛……至少我自己是从刚学做任务时就开始用，但十年以来都是马马虎虎的使用，从未深究过里面的细节。最近终于有了点想法，想要把自己已经知道的各种特性进行系统的整理，出一份比较完善的教程。\n\n以前应该是从来没有过基地节点方面的教程，因此我只能和tslza一起，以大量测试为基础，在不断的摸索与碰壁之中，试图将单人任务中AI作战方造建筑的逻辑整理完全。希望我们的努力能帮到更多人吧。\n\n——竹蜻蜓（主笔），2021.1.28\n\n[[toc]]\n<!--**目录**\n\n **0 -** **基地节点是什么**\n\n **1 -** **基地节点的建造条件**\n\n **2 -** **基地节点的建造顺序**\n\n **3 -** **基地节点的自动移位**\n\n **4 -** **自动建设基地模式**\n\n **5 -** **基地节点的插队**\n\n **6 -** **建筑的生产与摆放**\n\n **7 -** **战术延伸**\n\n **8 -** **局限与滥用**\n\n **附录：基地节点存储结构解析**\n\n **附录：与基地节点有关的触发与ini整理**\n\n**总结图**-->\n\n策划：竹蜻蜓，tslza\n\n审核：prry，轻稚，妖妖酱，蜜蜂狼牛\n\n## 0 - 基地节点是什么\n\n**基地节点**（Base Node），顾名思义，是基地建筑建设的“节点”。一般来说，它决定了单人任务中AI作战方要在某个特定的位置，建造某座特定的建筑。在地图编辑器FinalAlert中，基地节点被显示为建筑的虚影，表示“**应该在这个位置，建造这样的一座建筑**”。\n\n![](./clip_image001.jpg)\n\n正常放置的建筑（左上）与基地节点“建筑的虚影”——基地节点（右下）\n\n一个基地节点有且只有四个属性：**所属方**，**序号**，**位置坐标**，**建筑类型**。在FinalAlert的绘图窗口上，你可以直观的看到所属方的颜色、建筑类型和位置坐标，但序号是一个隐藏的属性。\n\n在FinalAlert中，我们使用左侧树状图中的“基地节点”（Base nodes）一栏的三个工具来编辑基地节点：\n\n**“建立节点不删除建筑”工具（Create node/Keep Building）**：使用该工具点击一座建筑物，会在该建筑物的位置产生一个基地节点，其建筑类型、所属方、位置坐标均与原建筑一致，并追加一个新的序号。\n\n**“建立节点删除建筑”工具（Create node/Delete Building）**：使用该工具点击一座建筑物，会删除该建筑并产生一个基地节点，其建筑类型、所属方、位置坐标均与原建筑一致，并追加一个新的序号。\n\n**“删除节点”工具（Delete node）**： 使用该工具点击一个基地节点，会删除该基地节点。序号会前移补位。注意，使用树状图最底端的“删除对象”工具（Delete Object）是无法删除基地节点的。\n\n由此我们也可以看到，在FinalAlert中，基地节点无法直接进行移动位置、更改建筑类型、更改所属方、更改序号的操作，只能通过删除，然后重新摆放建筑的方式来重新建立。**在更改地图尺寸的时候**，由于坐标系统发生了变化，基地节点的位置也会发生漂移——那么就需要删除它们，并重新摆放了。\n\n\n## 1 - 基地节点的建造条件\n\n关于基地节点建造的条件，用三个字就可以简短有力的描述：“**无条件**”。一旦设置了基地节点，那么AI作战方会无条件的尝试按照节点来建造——无视任何科技限制、延伸距离限制、建造数量限制，甚至在这个建筑根本不能造的情况下，把它给造出来！\n\n接下来笔者会用一个例子来展示这个“无条件”有多么暴力（左侧图片为在FinalAlert中的摆位，右侧图片为在实际游戏中经过足够长时间以后的最终效果）：\n\n![](./clip_image002.jpg)\n\n![](./clip_image003.jpg)\n\n**无视建造距离限制**：不论多远，只要是平地就能造；\n\n**无视科技限制**：跳过所有前置科技，直接造出工业工厂；\n\n**无视建造数量限制**：能造出2个甚至更多工业工厂；\n\n**无视这个建筑能不能造**：直接造出科技钻油井、油桶、水塔等\n\n（由于这几种正常情况下不可造的建筑没有建造动画，AI作战方会以“直接凭空出现”的方式把它们造出来。）；AI作战方：我要造建筑！我要造建筑！！我要造建筑！！！没有人能拦着老子造建筑！！！！\n\n事实上，一般只有两件事情能够拦住它：**没建造厂**，和**没钱**。钱在原版平台是一件用触发不太好控制的东西。所以，想要阻止AI作战方按照基地节点建造，操作性最强的办法还是拿掉它的建造厂。（另外，对于耗电建筑的基地节点，需要保证AI作战方电力充足，才能较为直接的建造出来。有关这部分的详细讨论，我们会在第5章进行。）\n\n触发结果*3 [生产开始]* 与基地节点的建造有一点点关系：如果作战方的IQ值低于 [IQ] → Production=\\\\<int\\\\>（原版为5），那么，不执行触发结果*3 [生产开始]* ，AI作战方就不会自动开始按照基地节点建造建筑物。但如果作战方的IQ值高于或等于[IQ] → Production=\\<int\\>，那么即使没有执行这个触发结果，AI作战方仍然会开始建造。\n\n另外触发结果*30 [自动建设基地]* 对应的逻辑略微复杂一些，我们会在第4章进行讨论。\n\n一般来说，AI作战方只会在一种情况下认为这个基地节点已经**建立成功**了：**在基地节点的位置上，恰好有一座与之同种类的建筑**。这座同种类的建筑可以是任何来源的：可能是自己按照基地节点造出来的，也可能是触发结果*125 [将建筑建于...]* 造出来的，也可能是地图上早就摆好的，或者甚至是AI作战方拿工程师占来的……都不影响AI作战方认为基地节点建立成功。（不过在第3章我们会介绍此条件的一个反例。）\n\n基地节点与对应建筑的位置必须是完全对齐，有一点偏移都不行，否则不会判定为成功，甚至会把该建筑当作障碍，形成阻挡状态。\n\n## 2 - 基地节点的建造顺序\n\n基地节点的建造顺序与它的隐藏属性——**序号**密切相关。我们先聊聊序号的特性。\n\n首先，基地节点的序号是一个3位数字（缺位用0补齐），从“000”开始由小到大排布；其次，基地节点的序号是按照所属方来存储的，每一个所属方都有着从“000”开始的、自己独享的一套序号。当然，这些性质在FinalAlert中都难以直观的看到，所以你也不必去特别的记忆。\n\n真正需要注意的是，FinalAlert中的三个基地节点编辑工具，“建立节点删除建筑”、“建立节点不删除建筑”只能在末尾追加新的序号，而“删除节点”在删除以后会让序号依次前移补位，这意味着**在完全使用FinalAlert编辑基地节点时，同一个作战方的基地节点，一定是越后建立的，序号越大**。因此，为了重新安排基地节点的序号，你可能不得不删除一个作战方的所有基地节点，重新进行设置。\n\nAI作战方按照基地节点建造建筑的顺序，就是**严格的按照序号由小到大而来的，没有任何的例外情况**。\n\n种种情况表明，如果某个基地节点对应的建筑造不出来，整个作战方的所有基地节点会整体进入一种**阻塞**的状态——虽然有建造厂，也有足够的钱，但就因为这一个基地节点造不出来，导致后续的基地节点也全都造不出来。\n\n等等，不是无条件造吗，怎么会造不出来？这里的“造不出来”主要指的是**阻挡**（blockage）状态。阻挡可能是建造位置被障碍物挡住了，或者因为地形不适宜而放不下去，抑或基地节点本身在地图可视区域外，等等，总之就是EVA所说，“Cannot Deploy Here”。\n\n其实有一部分阻挡状态是可能可以由AI作战方自行解决的，就是基地节点的位置被AI自身或者盟友的单位堵住了的情况，这种情况被称为**临时阻挡**（temporary blockage）。此时AI会尝试让附近的单位随机移动，看能不能凑巧把需要的建造空间让出来。AI作战方在这样“驱赶”附近的单位以后，会等待[General] → PlacementDelay=\\<float\\>（单位：分钟，原版值为0.05，即3秒）以后再尝试下一次放置。但毕竟是随机移动，可能经历了若干次随机移动也没能空出需要的位置。但由于MaximumBuildingPlacementFailures这句代码没有发挥应有的作用（根据原版注释，这条代码本意是让这种尝试进行一定次数就终止，但经测试**这条代码在单人任务中没有任何实际作用**），这种临时阻挡状态可能会永远持续下去，AI作战方的建筑生产就被卡死在这里，无法执行后续动作。\n\n![](./clip_image004.jpg)\n\n临时阻挡永远持续下去的一种情形\n\n不过这种情形算是一种很极端的状况。我们先默认临时阻挡都可以被AI自动解决，下文中提到的阻挡，都指的是另一种AI没法自主解决的状况——被敌方单位，或者被不能移动的玩意（建筑/围墙/石块/地形等）挡住，即**永久阻挡**（permanent blockage）。这样的阻挡可就真的是无力回天了。此时AI作战方不会继续进行任何摆放建筑的尝试了，直接判定为**建造失败**。\n\n建造失败怎么办呢？接下来，AI作战方会执行下一章所讲的步骤——自动移位。\n\n## 3 - 基地节点的自动移位\n\n> 我基地节点呢？我摆在这儿好好的基地节点呢？？AI还能给我移走了不成？？？\n\n位置坐标是基地节点的属性中唯一一个可以在游戏的过程中被动态的改变的属性。上一章节我们还讨论了阻挡问题，**当没被阻挡的时候，AI作战方会精确的在基地节点指示的位置造出特定的建筑，这样才算这个基地节点建造成功**；但如果发生了阻挡，AI作战方在尝试原位放置无果后，有可能会把建筑放置在其它稀奇古怪的位置。本章会详细的讨论这种行为。\n\n首先，确实是基地节点本身被移动了，而并非是AI作战方在其它地方造出了与这个基地节点相关联的建筑。这个推论基于以下事实：当我们阻挡了AI作战方的基地节点，使需要造的建筑更换位置建造，然后手动解除阻挡以后（比如把堵在那个位置的单位移走），再摧毁刚刚AI作战方造出的建筑，让它再次重建。此后AI作战方重建的建筑，即使原位置已经没有了阻挡，仍然会造到更换过以后的位置，而非最初的基地节点位置。这就充分的证明，**是基地节点本身的位置被永久的移动了**。\n\n另外，基地节点被移动以后，其判定建造成功的条件出了一点小变化（在第8章局限5之中有推测其内部原理）：只有AI作战方按照这个基地节点的指示建立了建筑，这个基地节点才会被判定为建造成功。而其位置上有其它来源的对应建筑（比如说按照另一个与它重叠的基地节点而建立的，或者预先放在这里的，等等），都不会认为建造成功，甚至会被判定为发生了阻挡。\n\n接下来我们需要先介绍“**基地中心**”的概念：基地中心是每一个作战方独有的一个特定的坐标位置，AI在很多方面的位置判断、距离判断都会选择以这个坐标为中心。比如，从工厂生产出来的无指令单位都会先在这个坐标附近待命，动作脚本中的“在基地附近集结”（Gather at Base）的位置也会和这个坐标有关联。当然，今天仅讨论它在基地节点方面的用途。\n\n基地中心默认是自动计算的，而自动计算的规则非常简单粗暴：取**该作战方所有建筑的坐标平均值作为基地中心**。这个位置不一定在己方的建筑附近，甚至不一定能造建筑。在单人任务中，AI作战方的势力分布是相当复杂的：有可能整张地图上都有它的防御建筑，但实际上基地的核心生产建筑只集中在一个角落区域；或者，AI作战方的势力分布在两大块，把一片水域夹在中间，等等……总之，除非你把基地摆成均匀的一坨，否则自动计算的基地中心都很有可能落到古怪的位置上。这时，我们就需要手动干涉基地中心的位置，告诉AI作战方“自己基地的主要部分在哪里”，这是非常必要的。\n\n如何干涉呢？基地中心的坐标是可以用触发强行设置的。**触发结果** ***137 [基地中心单元设置]*** **可以把某个作战方的基地中心强行的设置到某个路径点的位置**，而对应的，触发结果*138 [基地中心单元清除]* 可以取消触发设置的基地中心位置，返回自动计算的状态（然而几乎不会用到，一般任务中哪有让AI举家搬迁的？）。这使得我们可以手动设置基地中心的位置了。\n\n刚刚说了这么多，那么在基地节点方面，基地中心的意义就在于：**某个基地节点被阻挡以后， AI作战方会把该基地节点移动到基地中心位置上**。（无视基地中心是否真的能建造建筑，也无视基地中心有无其它的基地节点，只会不偏不倚的恰好落在这个坐标上）\n\n接下来笔者会用一个例子展示这种机制形成的阻挡和阻塞现象。左图中，基地中心被触发强制设置在了左下角的98号路径点，而图上放置了3个磁能反应炉基地节点+1个作战实验室基地节点，共4个基地节点。其中基地节点000、001被围墙阻挡，002、003没有被阻挡。AI作战方金钱充足，IQ为5足够。\n\n![](./clip_image005.jpg)![](./clip_image006.jpg)\n\n在右图展示的实际建设情况中，AI作战方会首先尝试建造000号基地节点。发现阻挡以后，AI会直接把000号基地节点移动到基地中心（即98号路径点位置）。此时基地中心没有被阻挡，于是AI作战方顺利的在此造出一座磁能反应炉，基地节点000号建造成功。\n\n然后轮到了001号基地节点：由于001号基地节点也被围墙阻挡了，AI会在尝试建造失败以后，把001号基地节点也移到基地中心上。但此处已经有一座造好的磁能反应炉了。由于被移动的节点只有AI作战方按照它建立建筑时才判定成功，因此001号节点被000号节点造出的磁能反应炉所阻挡，建造失败。\n\n至于002和003？由于001建造失败，基地节点的建造在这里被阻塞了，根本轮不到002和003去建造。于是，在这个例子中，AI有4个基地节点，但只会造出000号对应的一个磁能反应炉然后卡死。\n\n按照这种逻辑，被阻挡的基地节点，在反复尝试失败以后，都应该被移动到了到了基地中心，相互重叠，导致只能在基地中心造出一个建筑，然后形成阻塞，最后AI被卡到无法生产任何建筑。\n\n可是有时也有人会看到，在这样设置下的AI，在被阻挡的情况下，仍然**可能**会造出多个建筑，这是为什么呢？因为自动计算得到的基地中心并不是静态的，而是随着地图上建筑的变化，这个坐标平均值也会不断的更新。尤其，在玩家摧毁敌人一大片建筑时，这个平均坐标就会受到显著影响，发生可观的变化，从而导致有一些基地节点被凑巧移动到了能造出来的位置（典型的现象是造出许多占地1×1的防御塔）。**是基地中心在变，才导致基地节点被自动移位的位置变化的！**（当然如果你使用触发锁定了基地中心位置，那就真的最多只能造出一个建筑了）\n\n但是这种移动只能说是“凑巧” ——它仍然非常的死板，而且一般造不出多少建筑，不足以让AI作战方恢复完整的科技和生产能力。而且最后把自己卡到无法生产任何建筑的结果，使其行为更像是一种“主动求死”而不是“垂死挣扎”（把基地中心锁在己方建造厂上形成永久阻挡，死也不把生产建筑留给玩家占领，等玩家工程师过来再把建造厂卖了）。有时我们需要更加灵活的基地节点建造方式，这就要靠在下一章我们介绍的内容了。\n\n## 4 - 自动建设基地模式\n\n上一章说到，AI作战方在基地节点受到阻挡时，其重新选择位置的方式非常死板，几乎一定会卡死自己。但大家也应该知道，遭遇战AI在建筑被卡位的时候，却没有这样的表现。看来我们需要向遭遇战取取经，研究一下遭遇战所使用的**自动建设基地**模式。\n\n触发结果*30 [自动建设基地]* 是这个模式的开关，单人任务中，它默认是关着的，而遭遇战中默认是打开的。那么，如果在单人任务中启用它，AI就会像遭遇战中那样自动生产建筑吗？\n\n测试结果是，在地图上没有任何该作战方的基地节点时，确实是如此的，AI作战方真的会像遭遇战中一样自动的生产建筑；但一旦地图上有了已经摆好的基地节点，哪怕只有1个，AI都会严格的按照基地节点来进行生产，同时，在发生阻挡的时候，AI建造建筑的行为也发生了细微的变化……\n\n**表象1：** AI作战方有建造厂，地图上已经有手工放置的基地节点时，打开自动建设基地模式，AI作战方会按照建造基地节点的指示建造建筑，不会多造。并且，在建造位置被阻挡以后，它们会在建造厂附近以类似遭遇战的摆位造出来，数量上是完全对应的。\n\n**表象2：** AI作战方原本有建造厂，地图上原本没有手工放置的基地节点，打开自动建设基地模式。摧毁AI作战方的建造厂，并在另一个位置重新给它一辆基地车并展开，此时AI会在之前被摧毁的那座建造厂位置，凭空再造出一个建造厂。（想想为什么？）\n\n种种迹象表明，自动建设基地模式和基地节点有着非常紧密的联系。其实，自动建设基地模式有以下两个功能：\n\n**功能1：** 在AI作战方没有基地节点时，**自动产生一系列基地节点**（如果地图上已经有了该作战方的基地节点，则不会产生）。产生的000号基地节点一定是本阵营建造厂，且和地图上已有的建造厂位置重叠，往后则按照科技树进行产生（在rules的[AI]章节有若干条代码控制各类基地节点生成的数量和概率）。\n\n**功能2：** 把基地节点被阻挡时进行移位的移动规则，从“移动到基地中心那一点”改为“**移动到建造厂附近的空地上**（并且排布符合[AI] → AIBaseSpacing=\\<int\\>、[BuildingType] → WantsExtraSpace=\\<yes/no\\>等代码的指示）”。\n\n对于遭遇战AI，功能1决定了出建筑的种类和数量，而功能2决定了出建筑的位置。在单人任务中，功能1我们基本用不到，但功能2却极为实用，因为它可以有效的防止AI作战方的建筑生产线因为基地节点被阻挡而被卡死。换句话说，**如果你使用了基地节点，还想让AI作战方在基地节点被阻挡的时候，聪明的更换位置建造，那请无脑打开该作战方的自动建设基地模式**。\n\n**注意1：** 自动建设基地模式下的基地节点移位规则变为“移动到建造厂附近的空地上”不可以理解为“基地中心在移动”。此时基地中心的位置仍然遵循着第3章所讲的规则而确定，并在其它方面（比如单位的集结地点）保留着自己的影响。\n\n**注意2：自动建设基地模式下，请尽量确保建造厂在地图内**。如果建造厂不在地图内，AI作战方会从ID最高的建筑物开始延伸建筑，但是延伸的方式很奇怪：只会向一个特定的方向直线排开。这种情况姑且认为是游戏产生了bug，也很难加以利用。\n\n**注意3：** 在单人任务中，**自动建设基地模式一经打开，其影响就会一直产生**，可以理解为“**关不掉了**”。但是，我们可以通过反复重新“打开”，来刷新AI作战方所判定的建造厂位置。\n\n在任务之中，我们还会遇到一些AI作战方从一辆基地车开始白手起家建造基地的情形（有时甚至基地车的部署位置都不确定）。在这种情况下，是不是不得不使用自动建设基地模式的功能1呢？可以设想，这样做最大的缺陷有几个：\n\n**缺陷1**：不好控制出同种建筑物的数量，比如说需要AI出3门巨炮（原版平台会因为这个很头疼，虽然在Ares下这并不是问题）。\n\n**缺陷2**：为了限制AI不去建造某些建筑，可能需要修改一堆建筑的ini（AIBuildThis=no），一点点的封掉相关科技。\n\n**缺陷3**：由于自动建设基地生成的第一个基地节点一定是建造厂，在基地中心没有对准的状态下，AI可能会凭空造出另一个建造厂（即刚才提到的**表象2**。这是个致命问题，在AI基地部署位置不确定时很常见）。\n\n**缺陷4**：尤里的AI会自动生成奴隶矿场的基地节点，导致不停的补奴隶矿场。（在原版平台的单人任务模式，收成车辆状态的奴隶矿场不会被计入建筑总数。这是一个bug）\n\n但既然基地部署位置不确定，我们还需要AI自动的进行建筑布局，不需要我们事先把所有基地节点位置摆好。此时，我们可以利用基地节点移位的性质，制作一个伪·遭遇战自动建设基地模式。\n\n方法很简单：打开自动建设基地模式，手工提前放好基地节点（避开功能1），但是**让所有的基地节点都被阻挡**——比如，把所有基地节点都放在地图的可视区域外。AI会按照这些基地节点的序号，逐个的建造建筑，不多也不少，但AI在建造之前，会自动的把这些基地节点移动到建造厂附近的位置。这相当于，手动控制建造的建筑种类与顺序，但让AI自动选择位置。\n\n总结一下3、4章的内容，用最精简的语言概括一下，大概有这么两条：\n\n***基地中心*****的计算规则：一般是所有建筑的坐标平均。也可用触发锁死其位置。**\n\n**基地节点被阻挡以后的自动移位规则：如果开启了自动建设基地模式，则移动到建造厂附近的空地；如果没开，则移动到基地中心那个点上。**\n\n## 5 - 基地节点的插队\n\n本章所探讨的现象，要从AI作战方电力不足时的保护机制说起。前文的所有讨论都是在“AI作战方电力充足”或者“生产的就是电厂”的状态下进行的，但电力不足的时候尝试生产耗电建筑会怎样呢？\n\n只有当AI作战方电力不足，且下一个基地节点需要它生产耗电建筑时（生产电厂或者不耗电建筑\\<如机枪碉堡等\\>则不受限制），AI作战方会表现出一种“试图先恢复电力”的行为：**在耗电建筑的基地节点序号之前，先插入一个本阵营基础电厂的基地节点，而后面的基地节点的序号会依次向后移动**。这形成的表象就是，AI作战方在生产这个建筑之前，要先补另一个建筑，因此称这种行为为**插队**。\n\n“电力不足”有什么判定的细节吗？\n\n只有保证建造完下一个耗电建筑以后，富余电力大于0（注意不含等于），AI作战方才会认为此时电力是充足的。也就是说，电力刚刚好足够的状况，AI作战方还是会尝试多补一个电厂。如果预测到在建造下一个建筑物以后电力会不足，此时AI作战方也会开始让电厂插队。另外，如果当前的电力不足状态是来自飞碟吸住电厂或者间谍断电这类强制断电方式，AI作战方不会判断“假如没有人给我强制断电，我的电力是否充足”，而是跳过电力相关的判断，不再让电厂插队，转而去直接生产后续的建筑物。\n\n这个新生成的电厂基地节点，位置是在哪里呢？答案是“就像它被阻挡了一样”：如果没有开启自动建设基地模式，那么这个节点就会生成在基地中心；如果开启了自动建设基地模式，则会生成在建造厂附近。\n\n在电厂插队以后，如果没有开启自动建设基地模式，而基地中心又被阻挡了，AI作战方的建筑生产就**因为这个插队的电厂基地节点被阻挡，而导致其它建筑的生产被阻塞了**，可以称其为**电力阻塞**。其表象就是：“为什么我的AI停电以后，就不按照基地节点补建筑了？”这也造成了部分教程误认为基地节点的生产需要电力充足的原因。\n\n我们无法禁用这种插队机制，只能选择去规避。为此，我们需要保证AI作战方的电力尽量自给自足；或者科学的安排基地节点的顺序，把电厂的基地节点排在前面；或者索性把自动建设基地模式打开，避免因阻挡造成的阻塞。\n\n电厂插队只是较为明显的一种插队机制，但应该还有其余的插队机制。有一种观点认为，遭遇战AI生产防御建筑的过程也有插队机制的一份功劳。由于本教程仅讨论单人任务，这里就不做深入的讨论了。\n\n## 6 - 建筑的生产与摆放\n\n之前的章节都在讨论“AI作战方在没有干扰的情况下，经过足够长的时间以后，会把建筑造成什么样子”，都没有考虑建造过程中各个时段动态的干扰。在本章中，我们来重点讨论它。\n\n在第2章提到，AI会按照基地节点的序号由小到大生产建筑，没有任何的例外情况。在没有被打扰的情况下，这件事情的正确性能够得到轻易的验证。然而，在实际游戏中，可能会出现AI作战方刚建造完一个建筑，玩家就把它摧毁了的状况。此时AI的生产顺序就有可能变得奇怪，就像遭遇战AI有时候能够跳过电厂直接生产矿厂，让玩家大呼AI作弊。\n\n种种迹象表明，**AI作战方建筑物的生产和摆放是不同的两个过程**：前者好比玩家在建造栏中点下一个建筑物，后者好比玩家从建造栏中把已经就绪了的建筑物放到地图上。虽然一个建筑的生产往后几乎必定伴随着摆放，而且**二者都遵循基地节点序号从小到大的原则**，但二者之间判定的时间差却容易搞出一点意料之外的事情。笔者会用两个例子展示这种现象：\n\n在第1个例子中，我们只关注000号磁能反应炉与001号磁能反应炉节点。\n\n![](./clip_image007.jpg)![](./clip_image008.jpg)![](./clip_image009.jpg)\n\n一座磁能反应炉的正常建造时间约23秒。在游戏开始23秒以后，000号节点对应的磁能反应炉被成功建造出来。我们立即使用坦克将其摧毁。于是，在又过了23秒以后，又一座磁能反应炉被造在了000号节点的位置；然后再过23秒，下一座磁能反应炉被造在了001号节点的位置。\n\n第2个例子中，我们让001和002号节点的顺序变化一下，这次001为兵营节点：\n\n![](./clip_image010.jpg)![](./clip_image011.jpg)\n\n这次我们同样让000号节点的磁能反应炉建造出来以后被立刻摧毁。但这次，建造的顺序却发生了变化：接下来是19秒（兵营的正常建造时间）以后首先建造出了001号节点的兵营。这违背了“建造顺序一定是按照序号”吗？\n\n仔细想想也没有。第2个例子中，AI作战方在放下000号节点的磁能反应炉以后，显然是毫不犹豫的开始生产001号节点的兵营，才赶上了19秒的时间。只是在兵营放下的时候，地图上的建筑状况已经发生了变化，才导致这种看起来违背顺序的状态发生。\n\n那么第1个例子为什么又去补000号节点的磁能反应炉呢？看起来只有一种解释，就是：AI作战方实际上是因为要建造001号节点的磁能反应炉，才开始生产一座磁能反应炉的；但是在生产完成准备摆放的时候，由于000号节点没有完成，而且恰好这里需要一座磁能反应炉，因此刚生产好的这座磁能反应炉被摆放到了000号位置。这也符合第二个建造的磁能反应炉耗时是23秒的事实。AI作战方并没有因为地图上的建筑发生了变化，而变动自己正在生产的建筑。\n\n复杂情况下，我们可以认为AI作战方的生产与摆放遵循如下原则：\n\n**生产：寻找序号最小的、未建立成功的基地节点，生产它对应的建筑**。\n\n**摆放：根据已经生产好的建筑，尝试把它摆放到序号最小的同类型的基地节点上**。\n\n**在生产与摆放过程之间，没有其它判定**。\n\n我们注意到这两个过程都遵循“序号最小”。这样看来，仍然是没有例外呢。\n\n我们可以很容易的发现，**阻挡的判定是在摆放那一瞬间才发生的**。如果发生了阻挡，紧接下来的事情就是基地节点移位——基地节点被移位以后，待建造建筑的生产进度会从零开始重新计算（就好比，玩家把已经就绪了的建筑取消生产，再重新点下去）。通常，这样会导致耗费2倍的生产时间。\n\n我们前面所提到的阻塞状态，其实就是AI作战方的基地中心被阻挡，一个基地节点每次移位的时候都会被阻挡（虽然坐标没变，但也是“尝试移动”过了嘛），而每次移位都会重置生产进度，所以就一直在反复生产这一个建筑，但就是放置不下去。\n\n但是，当由序号更小的基地节点对应的建筑被摧毁的话，AI作战方就会在下一次移位以后，检查到更小的序号的基地节点没有建造成功，转而去生产更小序号基地节点对应的建筑。但是这不意味着阻塞解除了，因为**比阻塞位置更高序号的基地节点可能永远也不会有机会生产了**。如果000号基地节点被阻塞，那可就真的彻底无力回天了。\n\n## 7 - 战术延伸\n\n基地节点只有“重建基地”一种用途吗？本章我们会描述一种基地节点在单人任务中的活用方式：**战术延伸**。\n\n有时候我们需要AI作战方在特定的时候（通常由触发来控制）在某个地点生产一系列建筑。如果需要一瞬间把所有建筑生产完成，我们通常会使用触发结果*125 [将建筑建于...]* 来制作。但有的时候，我们就是需要AI作战方做出一点一点延伸建筑的行为：或是在一个区域逐步建立起防御，或是慢慢的把电厂和巨炮摆到玩家的家门口（如果直接在玩家的基地里面造巨炮是不是太作弊了XD）……这个时候，我们就需要基地节点来帮忙了。\n\n同一个AI作战方是一定会尝试无条件生产全部基地节点的，既然有生产能力，自己基地中使用基地节点来补建筑是不能断的。那么我们如何控制一部分基地节点在特定时候才启用呢？那当然是使用障眼法，**使用同颜色的不同AI作战方，假装是同一个作战方**就行了。\n\n我们来看一个实际制作的例子（取自尤里复仇原版任务，盟军07-脑死）：\n\n![](./clip_image012.jpg)\n\n我们在游戏中看到的表象是，紫色的AI作战方会尝试去占领位于地图左下角的2个油井。如果占领成功，就会在其附近建造一系列的防御建筑、兵营与战车工厂，并出兵进行防御。油井丢失的时候，AI作战方也会放弃这块阵地。\n\n用FinalAlert打开一看，地图边界外，放置着这个作战方的建造厂呢。原来是不同的作战方，只是颜色相同罢了。\n\n战术延伸一般有以下步骤：\n\n**准备**：准备一个同颜色的AI作战方，在地图边界外为它放置建造厂和适宜的电力。设置其IQ=4，或者采用“先把建造厂调成其它所属”等手段，使其先不开始生产。\n\n**启动与执行**：在合适的时机，使用触发让这个AI作战方开始生产，后面的动作就由它自行完成了。这个同颜色的AI作战方会在地图内按照它自己的基地节点建造一系列建筑。\n\n**放弃**：或是没有达成某种目标，或是经历了一段时间，总之就是需要结束这种自动补充建筑的状态（由于建造厂实际上并不在地图上，让玩家来亲自摧毁几乎是不可能的了）。可以使用触发直接摧毁它的建造厂，或者让其变卖全部建筑来结束这次战术延伸。\n\n由于建造厂在地图边界以外，我们难以使用自动建设基地来进行布局，因此这种方式的建筑摆位一定是较为死板的，且容易被阻挡。为了让建筑队列不易阻塞，我们在摆放基地节点的时候，应该尽可能选择较少种类的建筑进行延伸——这样在后面被阻塞的建筑，是有很大可能被用来摆放到前面的基地节点上的。\n\n以上只是介绍了战术延伸的基本思路，但还有很多细节需要处理。主要是因为我们使用了一个障眼法：“看起来是同一个AI作战方，实际上是两个相同颜色的AI作战方。”查缺补漏主要围绕这里展开，请读者在使用的时候自行完成，本教程就不赘述了。\n\n## 8 - 局限与滥用\n\n基地节点有着强大的功能，但它又有着一定的局限性。另外，如果滥用基地节点，可能会带来极差的游戏体验。本章会主要叙述这两方面的问题。\n\n本章的内容较为零碎，主要都是一些细碎的坑点，希望大家有耐心看完。\n\n**局限1：** 单人任务中，基地节点生产出来的建筑，AI作战方是不会自动使用小扳手进行修理的。\n\nNMD，WSM，凭什么遭遇战AI就会\n\n顺便，触发结果*125 [将建筑建于...]* 造出来的建筑也是不会自动使用小扳手的。这两点几乎是无解的，即使解决了也有很大副作用。\n\n**局限2：** 如果一个AI作战方有**多座建造厂**，那么会产生很多种异常状态。\n\n和AI作战方拥有多座战车工厂就会从每个战车工厂中同时生产相同的坦克一样，当AI作战方拥有多座建造厂，就会每次同时生产若干座相同的建筑。要是同类建筑有很多对应的基地节点还好，AI作战方会尝试按照生产与放置的规则，尝试逐个把已经生产完成的建筑放置在基地节点上。可是当所有同类基地节点都已建立成功，AI作战方却还有生产完的建筑没有放置的时候，AI作战方就会尝试插队生成新的基地节点，尽力把所有建筑放置下去——这通常都会造成阻塞。\n\n而且，当某座基地节点上的建筑被摧毁时，AI尝试补建筑的时候，也是每次补好几座。经过不断的摧毁→补建筑→插队的循环以后，这种类型的基地节点可能会越来越多。当然，一般AI作战方不会真的造出一大堆同类建筑，因为在此之前早就产生阻塞了……\n\n（不过，在Ares中，可以通过一条全局语句关闭这个多工厂生产功能，上面的问题也就不存在了。）\n\n另外，自动建设基地模式下，如果有多座建造厂，还有一个灵魂难题：究竟该选择哪座建造厂作为基地节点移位的中心？ 的测试显示，在建造厂的数量变化以后，第一次使用触发结果*30 [自动建设基地] - 打开* 以后，基地节点移位的中心会转移到最晚出现的一座建造厂的位置；但在此后再次或者更多次的使用触发结果*30 [自动建设基地] - 打开* ，基地节点移位的中心又会转移到最早出现的建造厂位置。这是一个十分迷惑的结果，而且因为多倍建造建筑的原因，在实际制作中也难以进行利用。\n\n综上所述，应该避免在需要AI作战方生产建筑的状态下，给AI作战方多个建造厂。如果实在有在地图上摆多个建造厂的需求，可以使用若干个相互结盟的AI作战方，每个建造厂各属于一个作战方，以规避各种问题。\n\n**局限3：** 在FinalAlert中，无图像的建筑，其基地节点是隐形的。\n\n当一个建筑没有图像，或者因为mix打包问题在FinalAlert中不显示图像，请尽量避免使用它的基地节点——无图像的建筑好歹有个线框，可它的基地节点就真的啥都没有，完全看不到了……对于玩家来说可能不是个问题，但这个特性可能在任务制作过程中，为制作者带来不必要的困扰。\n\n**局限4：** 当你用基地节点造围墙……\n\n在地图上设置围墙的基地节点来让AI作战方自动建造围墙是可以的。遭遇战AI也会根据[BuildingType] → ProtectWithWall=\\<yes/no\\>的设置，决定是否要在一座建筑物周围自动生成一圈围墙的基地节点。\n\n![](./clip_image013.jpg)\n\n自动生成的围墙基地节点大概是这样的\n\nAI作战方是可以正常的判定围墙建立成功的，可是，由于围墙“自动连接”的性质，这一圈基地节点产生的实际效果就很可能十分迷惑……\n\n![](./clip_image014.jpg)\n\n> AI补围墙常态你看看你都保护了个什么玩意儿啊.jpg还把中间要保护的建筑阻挡到换位置了（想想为什么？提示：生产围墙但未摆放的过程中，中间建筑被毁了）\n\n而如果只在围墙的四个角放置围墙基地节点，在围墙中间被打断一截的时候，AI作战方就不会补。\n\n除了用于保护唯一建造厂的最后一圈围墙防线，只要它保护的建筑可能被端掉，其它地方的补围墙几乎总是不会十全十美。综上，请尽量避免使用基地节点补围墙，即使必须要使用，也应该十分谨慎。\n\n**局限5：** 重叠的基地节点\n\n应该避免在地图上主动摆放重叠的基地节点，即使打开了自动建设基地模式。\n\n基于部分测试的结果，我们推测，被阻挡的基地节点可能被临时存储在了一个特定的位置（强烈怀疑是坐标(0,0)），然后才会执行移位的。这会导致重叠的基地节点几乎总是被同时移位，但对其余情况来说表现都正常。\n\n由于不推荐这么做，本教程也对此不做太多讨论。\n\n**滥用1：** 过多的基地节点。\n\n从前面的讨论中，我们可以看出，基地节点的阻塞是一种非常容易发生的现象，而且在发生以后几乎无法补救。这一点在使用过多的基地节点时尤为明显。在一些早期的任务中，你会看到有些作者把地图上几乎所有敌方建筑都放上了基地节点，导致AI作战方在被阻挡的时候，在自己的基地中心建造一大堆的建筑，甚至可能把通行路线都堵住，造成更多后续的卡顿。\n\n**而虽然有这么多的基地节点，但因为一直在阻塞，实际上没有起到多少补充建筑的作用**。这就是一种单纯降低游戏体验的滥用。\n\n笔者认为，一个作战方的基地节点，只应被用来补充一片小区域内的建筑物，比如敌人基地的核心区域、延伸路线，或者分基地，等等。虽然理论上你可以设置相当多的基地节点，但仍然建议控制数量，不要多用。\n\n**滥用2：** 顺序不合理的基地节点。\n\n关于基地节点的顺序有多重要，还要再次强调一遍。\n\n同样是很多早期任务犯的毛病：在地图上设置基地节点的时候，就用“建立节点不删除建筑”工具瞎胡乱描一通，描到谁就是谁；然后在实际游戏中，造着造着就阻塞了……但要知道，通过按照一定原则，合理的规划基地节点的顺序，是可以尽量的规避阻塞的。\n\n**原则1：**“不卡电”——尽量确保AI按基地节点建造的时候，不会电力不足，避免触发电厂插队机制，这种机制十分容易引起阻塞。\n\n**原则2：**“由内而外”——靠近建造厂的建筑，基地节点的序号应当更小。这种设置是基于基地外围、离建造厂较远的建筑更加容易被玩家的阻挡的事实（一旦玩家打到建造厂面前，那么，已经可以不用再努力了.jpg）。这样设置以后，即使外围基地节点被阻塞了，仍然可以补内圈的建筑。\n\n**原则3：**“内重外轻”——重要的、数量少的建筑放置在基地内部，数量多的建筑可以往基地外围放。这样可以尽量确保关键建筑较晚被阻塞。\n\n## 附录：基地节点存储结构解析\n\n基地节点被直接存储在每个作战方（House）的ini字段下，如[Russians House]。存储的格式为：\n\n`[序号]=[建筑类型],[X坐标],[Y坐标]`\n\n**序号：** 一个3位数字（缺位用0补齐），从“000”开始由小到大排布。显然，一个作战方的基地节点最多1000个，序号从000到999（绝对足够用）。\n\n**建筑类型：** 建筑的注册名。\n\n**X坐标、Y坐标：** 整数，代表基地节点的位置。\n\n除此之外，每个作战方字段下还有NodeCount=\\<int\\>属性与基地节点相关：NodeCount表示基地节点的总数量，一般等于基地节点的最高序号加1（因为基地节点是从000号开始的）。序号高于NodeCount减1的基地节点都不会被游戏所读取。\n\n一般来说，我们在FinalAlert中编辑基地节点时，FinalAlert会帮我们自动维护这些参数，用不上制作者手动进行修改。\n\n但一旦需要使用记事本打开地图修改基地节点，你就要注意以下事项，确保游戏不会出错：\n\n**注意1**：基地节点的序号必须从000开始由小到大逐个排布，不能有跳跃。否则游戏会在载入阶段报错。\n\n**注意2：** NodeCount的数量必须小于或等于基地节点的最高序号加1。否则游戏会在载入阶段报错。\n\n以上两种报错的EIP均为007C9B92，在调试的时候可以留意一下。\n\n## 附录：与基地节点有关的触发与ini整理\n\n本章节整理了大部分与基地节点有关的或者“看起来好像有关”的触发和ini，并明确其作用。\n\n实际上无关但是被收录的状况会用红色标出。\n\n### 触发结果部分\n\n*3 [生产开始]*\n\n该AI作战方开始生产建筑和单位。（开了就关不掉）\n\n当AI作战方的IQ大于[IQ] → Production=\\<int\\>（原版值为5）时，即使不使用此触发，该AI作战方也会自动开始生产。若想达到“使用此触发控制AI开始生产，又不产生其它影响”的效果，可以把该AI的IQ值设为4。\n\n*30 [自动建设基地]*\n\n开启或者关闭自动建设基地模式（不过实际上开了就关不掉）。\n\n其余的更多细节建议阅读本教程第4章的详解。\n\n*125 [将建筑建于...]*\n\n为该作战方在指定路径点强行建造特定的建筑物。建筑会在一瞬间建立完成。如果该作战方不是玩家，还会在其上叠加播放其建造动画。\n\n和基地节点的建造不同，使用触发建造建筑物会使阻挡的单位被强制瞬移到附近，阻挡的覆盖物（如围墙、沙袋、矿石等）直接消失。但是在遇到地形不合适的情况，或者其它建筑物、树木等的阻挡，则会建造失败。\n\n使用这个触发建造的建筑物因为不属于基地节点的判定，也不会移位。相比于基地节点，这种方式更适合一些单独的关键建筑物按时建造。\n\n*137 [基地中心单元设置]*\n\n将该作战方的基地中心位置锁定到特定的路径点位置上。\n\n*138 [基地中心单元清除]*\n\n将该作战方基地中心位置的锁定状态清除，回到自动按照所有建筑的坐标平均计算的状态。\n\n### 全局ini部分\n\n[General] → PlacementDelay=\\<float\\>\n\n填实数，单位为分钟。原版值为0.05，即3秒。\n\n临时阻挡发生时，AI作战方每隔多久进行一次建造尝试（尝试驱离附近的己方和友方单位）。\n\n[General] → AIRestrictReplaceTime=\\<int\\>\n\n填整数，单位为帧。原版值为400，即26.67秒。\n\n（原版注释的解释）当AI的建筑物受损，AI会在接下来的这么长时间内只会补充电厂、防御建筑和围墙。经测试，本条代码疑似只对遭遇战生效。\n\n[General] → AINavalYardAdjacency=\\<int\\>\n\n填整数，单位为格。原版值为20。\n\n自动建设基地模式下，AI船厂节点移位时，离建造厂的最远距离。船厂相对于其它建筑有着单独的距离判定规则，不受AIBaseSpacing影响。\n\n[General] → MaximumBuildingPlacementFailures=\\<int\\>\n\n填整数，单位为次。原版值为3。\n\n（原版注释的解释）临时阻挡发生时，AI尝试在原位建造建筑的最多次数，如果超过此次数，则进行移位。经测试，本条代码在单人任务中不会生效。\n\n[IQ] → Production=\\<int\\>\n\n填整数，无单位。原版值为5。\n\n单人任务中，AI作战方的IQ大于或等于这个数值时，无需使用触发结果*3 [生产开始]* 也会自动开始生产。\n\n[AI] → AIBaseSpacing=\\<int\\>\n\n填整数，单位为格。原版值为1。\n\n自动建设基地模式下，AI作战方自动选择建筑位置时，建筑之间所留的间距。不建议写比3更大的值。\n\n[AI] → PowerSurplus=\\<int\\>\n\n填整数，单位为电力。原版值为25\n\n（原版注释的解释）AI作战方确保自己要拥有这么多的富余电力。\n\n实际测试中，看不出此条代码在单人任务中的作用：它不会影响电厂插队行为。\n\n[AI] → PowerEmergency=\\<percentage\\>\n\n填百分比。原版值为75%。\n\n（原版注释的解释）AI作战方在电力供应低于此比例时，会尝试变卖部分耗电建筑来恢复电力。\n\n疑似只对遭遇战有效，且具体发生条件成谜。\n\n### 对象ini部分\n\n[BuildingType] → BaseNormal=\\<yes/no\\>\n\n填yes或no。默认值为yes。\n\n该建筑是否可以用于延伸建造。此条代码只对玩家有效。AI的建造建筑行为，无论是按照基地节点建造，还是在自动建设基地模式下，都会完全忽略此条代码。\n\n[BuildingType] → Adjacent=\\<int\\>\n\n填整数，单位为格。\n\n该建筑的延伸距离，即它可以建造在其它BaseNormal=yes的建筑附近多远。此条代码只对玩家有效。AI的建造建筑行为，无论是按照基地节点建造，还是在自动建设基地模式下，都会完全忽略此条代码。对应的，在自动建设基地模式下，AI的建筑布局服从全局代码中的[AI] → AIBaseSpacing=\\<int\\>控制。\n\n[BuildingType] → TechLevel=\\<int\\>\n\n填整数。\n\n该建筑的科技等级。科技等级为“-1”，或者高于玩家等级时，玩家将不能建造该建筑物。AI在自动生成基地节点时，如果该建筑的科技等级高于自身的科技等级（如TechLevel=11），则不会生成。但是TechLevel=-1的时候还是会生成的。此条代码完全不影响已有基地节点的建造。\n\n[BuildingType] → AIBuildThis=\\<yes/no\\>\n\n填yes或no。默认值yes。\n\nAI在自动建设基地模式下自动生成基地节点时，是否会尝试生成此建筑物的基地节点。此条代码完全不影响已有基地节点的建造。\n\n[BuildingType] → WantsExtraSpace=\\<yes/no\\>\n\n填yes或no。默认值no。\n\nAI在自动建设基地模式下进行自动排布建筑的基地节点位置时，是否为该建筑的基地节点准备更大的空间。简而言之就是，在发现某个建筑WantsExtraSpace=yes的时候，把[AI] → AIBaseSpacing的判定暂时加1。但是不会影响后续的其它基地节点相对于这个建筑的排布。\n\n[BuildingType] → ProtectWithWall=\\<yes/no\\>\n\n填yes或no。默认值no。\n\n在自动建设基地模式下自动生成基地节点的过程中，AI是否会在这个建筑周围生成一圈围墙的基地节点。建议和WantsExtraSpace配合使用。此条代码完全不影响已有基地节点的建造。\n\n## 总结图\n\n![](./clip_image015.jpg)\n"},{"title":"城市地图的详细制作教程","tags":["进阶"],"categories":"地形与美化","author":"天雪酱","excerpt":"> Ra2map：本文转载自贴吧[城市地图的详细制作教程](http://tieba.baidu.com/p/3295120644)，原帖作者：无敌和谐弹\n\n我接触地图制作的时间也不短了，一直想写点能","link":"/posts/city-maps-creating-detailed-tutorial","content":"> Ra2map：本文转载自贴吧[城市地图的详细制作教程](http://tieba.baidu.com/p/3295120644)，原帖作者：无敌和谐弹\n\n我接触地图制作的时间也不短了，一直想写点能帮上大家的东西，咱看到许多mapper对城市地图的制作不太擅长，于是乎就决定就写一篇关于城市地图的详细制作教程了......\n\n---\n\n在正式开始之前，我先说一些所谓的‘废话’：\n\n1. 做城市图需要十分地**耐心**，如果你觉得自己没有足够多的耐心，那么...还是放弃吧......\n2. 在做地图之前一定要有对地图**大体的构想**，不要以为自己即兴发挥就能做出好东西。虽然想的好不一定做的好，但是想不好是一定做不好的。\n3. 地图的美化别人只能教你一个**框架**，其中的精髓是只能自己去领会，所以每个人的做图风格也不一样。看教程也不能生搬硬套，要不然就会失去你本来的东西......\n\n好了，‘废话’讲完，正文开始\n\n## 一.基础地形的绘制\n\n什么是基础地形呢？悬崖高地，水面就是最基础的地形。因为它们决定了你以后对城市的规划和地表的美化，所以十分重要，需要最先绘制，而在绘制之前一定要有**详细的构思**。（最好在纸上先画出草图）\n\n因为城市悬崖是不需要过多曲折的，所以在绘制城市悬崖时编辑器提供的那两个悬崖工具是可以用的（水上悬崖还是需要自行手绘），但是许多问题还是需要自己手动修正，例如：\n\n1. 悬崖的补角。（很多新手mapper都有悬崖没有补角的问题）\n\n![](./01.webp)\n\n2. 特殊的悬崖。像这些悬崖都是用工具画不出来的，但是适当的运用可以很好的丰富你的地形。\n\n![](./02.webp)\n\n3. 城市悬崖的美化。别以为只有山脉悬崖需要自然，城市悬崖也需要自然的效果。像这样完全一个样的悬崖其实是很难看的，我们可以手动来美化一下，做出一点花样...\n\n![](./03.webp)\n\n修改后：\n\n![](./04.webp)\n\n在绘制水面时，大家的问题大都出在水岸上，水岸绘制可能太僵直，不够自然。\n\n我的经验是:绘制时不必太过拘谨，尽量不规则一些，不要有两个以上相同的水岸连接在一起，实在对不上时需要手拼水岸。我画水岸时都是先水面上去乱点，之后在手动拼接成水岸的......\n\n这差不多就算比较自然的水岸了：\n\n![](./05.webp)\n\n在完成了基本地形的绘制后你的地图就已经有了骨架，接下来的工作就是赋予地图经脉......\n\n## 二.公路以及小路的绘制（难点）\n\n**基本的地形就是地图的骨架，而公路和小路可以说是地图的经脉**，它们的绘制关系到街区的规划以及后期地表的美化，所以也十分的重要。（我建议在绘制公路之前也在纸上画好草图，小路可以即兴发挥...）\n\n公路像这样就可以了：\n\n![](./06.webp)\n\nmapper们的问题大都出在小路上，绘制小路时公路的分叉是必不可少的...\n\n![](./07.webp)\n\n但是像这样的分叉原版地形里是没有的，这时就需要用到复制粘贴的功能...\n\n![](./08.webp)\n\n首先画出这个...\n\n![](./09.webp)\n\n选择编辑中的复制...复制一小段公路...\n\n![](./10.webp)\n\n粘贴...之后抹掉不要的部分...\n\n![](./12.webp)\n\n绘制公路分叉完成后.....（注意要画的间隔大些，否则会导致后期美化时没地方放建筑...）\n\n![](./14.webp)\n\n---\n\n其实复制粘贴还有许多别的用处，可以让你利用有限的地表素材做出更加新奇的地表，例如：\n\n![](./15.webp)\n\n---\n\n接下来用小路分叉划分出大概的街区...（注意街区的面积不要太小或太大，要不然美化很不好做...）\n\n![](./16.webp)\n\n用弯曲和直的小路连接起来...\n\n![](./17.webp)\n\n那么公路和小路的绘制就完成啦......\n\n## 三.建筑物的放置与地表的美化（难点、重点）\n\n现在地图已经拥有了经脉与骨骼，剩下的就是地图的血肉——地表的美化。地表美化是城市地图最重要的部分，我们评价一张地图的好坏主要也就是看美化的程度.....\n\n我个人习惯先放置建筑物再美化地表，这样会更容易一些...\n\n放置建筑物时要注意建筑风格的一致，想这种高楼大厦和农家小屋摆在一起是绝对不行的，看起来会超级违和......\n\n![](./18.webp)\n\n还有就是要注意建筑物的密度，不可太过密集，高楼尽量不要挡住街道...建筑物放到这个程度就差不多了，要多留出一些空间做美化......\n\n![](./19.webp)\n\n这些地表在做美化时是必不可少的，一定要熟练运用...\n\n![](./20.webp)\n\n首先，选择草地，按下Ctrl键并点击一小块街区，使之变为绿地...\n\n![](./21.webp)\n\n将建筑物移开，沿着建筑的原来轮廓进行美化...\n\n![](./22.webp)\n\n移回建筑画出人行道并用交界填补锯齿\n\n![](./23.webp)\n\n（其实地表美化是没有什么准确方法的，就是自己看着顺眼就行啦......）\n\n全部完成以后...\n\n![](./24.webp)\n\n再放置一些小装饰...\n\n![](./25.webp)\n\nOK！大功告成！\n\n---\n\n城市地图的基本绘制技巧我已经讲完了，下面的教程将会教你如何使地图更加漂亮...\n\n\n## (附章) 四.整体地形的绘制\n\n什么是整体地形呢？像公园，港口，机场等，由各种地表、建筑或单位素材组合成的地形就是整体地形，学会更好的利用它们，将会使你的地图更加丰富......\n\n> Ra2map：[【地图美化理论】红警中建筑的建筑风格分类_红警地图吧](https://tieba.baidu.com/p/6407841684)\n\n### 1.公园的绘制\n\n在城市中不可能全部都是高楼大厦，公园之类的公共场所也有很多......\n\n公园的绘制需要一定的空间，最好留下一整块街区用来做公园。在公园内可以绘制一些座椅、雕像和喷泉之类的小饰品，当然，树木也必不可少......\n\n示例：\n\n![](./26.webp)\n\n### 2.港口的绘制\n\n没什么诀窍，自己看着顺眼就行.....\n\n示例：\n\n![](./28.webp)\n\n### 3.机场的绘制\n\n由于原版地形中并没有停机坪素材，所以需要我们运用复制粘贴功能拼接......\n\n示例：\n\n![](./30.webp)\n\n我只列举了一些常用的整体地形，其他地形的绘制方法其实只要自己多想象，多看看别人的地图就能学会......（这其中没什么准确的方法，顺着自己的想象来就行了，如果感觉地表不顺眼就改到顺眼为止......）\n\n## (附章) 五.地图灯光处理\n\n关于地图的地形地表讲解我已经讲完了，下面我再来讲一下关于地图灯光的处理......\n\n### 1.整体的环境灯光\n\n首先我们打开编辑中的光照设置：界面如下：\n\n![](./31.webp)\n\n其中环境照明为环境整体的亮度，红绿蓝三色为各颜色在灯光中占的数值，等级的作用咱没试过，反正一般用不到←_←（你这也太不负责任了吧，啊喂喂喂！）\n\n> Ra2map：等级为每高1格增加的亮度，建议写小一点\n\nWeather Storm Setting为天气控制器触发时的环境灯光，一般要比正常环境下的灯光要昏暗，环境照明低0.200000到0.300000左右，红色少0.300000到0.400000左右，绿色多0.000000到0.100000左右，蓝色多0.000000到0.200000左右。\n\n下面是一些常用的灯光设置：\n\n```text\n温和:      早晨     下午     黄昏     晚上\n环境照明 0.750000 1.000000 0.750000 0.350000\n红      1.090000 1.080000 0.710000 0.510000\n绿      0.800000 0.940000 0.810000 0.460000\n蓝      0.490000 0.680000 1.190000 1.410000\n\n雪地:\n环境照明 0.750000 1.000000 0.750000 0.550000\n红      1.120000 0.990000 1.060000 0.760000\n绿      0.800000 1.040000 1.070000 0.740000\n蓝      1.330000 1.070000 1.540000 1.180000\n```\n\n### 2.局部灯光\n\n除了整体的灯光还有一些特殊的的灯光，它们是通过附带灯光属性的建筑实现的，在制作地图时会经常用到它们，其中灯光建筑的典型运用就是我的那张叫Quiet city地图（传送门：[http://tieba.baidu.com/p/3152660095](http://tieba.baidu.com/p/3152660095)）但是如果过多的放置灯光建筑会超级瞎眼（我的地图就是很好的反面教材......）\n\n\n下面是几个比较常用的灯光建筑：\n\n![](./33.webp)\n\n灯光的颜色很好理解，这点英文起码能看懂吧......其中的Negative Light Post为黑色灯光，是用来中和过亮的灯光的，我一般都和Invisible Yellow Light Post配合使用。（黄色的灯光其实很亮，很容易瞎眼......）\n\n![](./34.webp)\n\n这些也是灯光建筑，但是比较少用，可以用作城市照明，它们的灯光都比较柔和，所以不必担心会很瞎。（这几个灯光建筑的灯光都差不多，但是还是有略微区别的......）\n\n下面来讲一些灯光建筑的放置实例：\n\n黄色灯光一般用在大片的黄金矿地上，可以表现出金光闪闪的效果（但在环境灯光比较弱的地图里一定要和Negative Light Post配合使用......）\n\n![](./35.webp)\n\n（雪地地形请无视，反正城市地图同理 ╮(╯▽╰)╭）\n\n蓝色灯光可以用在高能矿石矿地上，在一些比较幽暗的地方也可以用来渲染气氛...\n\n![](./36.webp)\n\n红色和紫色的灯光比较刺眼，可以用在墓地等场所渲染出阴森恐怖的气氛......\n\n绿色的灯光用的比较少，因为绿色灯光实在太不和谐了，用在哪都别扭......（建议谨慎使用）\n\n当然，灯光建筑的使用方法也不是绝对的，还可以做出一些特殊的效果......（在做繁华的街道时，除了绿色以外其他的灯光都能用上）其实最重要的还是你的想象力......\n\n### 3.昼夜循环\n\n在玩别人的一些地图时，有时地图的光照会跟随时间而变化，这其实是触发的效果......\n\n## (附章) 六.做地图的一些小技巧\n\n该讲的都已经讲完了，最后来说一下做地图的小技巧吧...\n\n1. 做地图是很消耗耐心的，因此在做地图的过程中要尽量放松自己，让自己的想象力能够更好的发挥。各位mapper可以试试在做图时放一些轻松一点的音乐......\n2. 要学会观察学习别人的长处。下载别人的地图不一定是用来玩儿的，要多多观察别人地表美化的方法，找到对自己有用的东西，这对mapper来说很重要！\n3. 在做图找不到灵感时可以去看看真实的地图，试着复刻一下真实的地图...\n4. 在做地表美化时要关闭自动水岸，因为有时编辑器会抽风自动刷出水岸，破坏已经画好的地表......\n5. 在绘制街区时建议打开建筑轮廓，以免建筑物重叠。\n\n---\n\n由于咱也是个地图渣渣，教程什么的又是第一次写，所以如有什么不妥还请多多包含~\\(≥▽≤)/~有什么意见也请提出来，咱会改正的......\n\n2014.9.8\n\n无敌和谐弹"},{"title":"悬崖基础画法","tags":["入门"],"categories":"地形与美化","author":"天雪酱","excerpt":"> Ra2map：取自 SpiderNebula 的地图编辑器悬崖花式画法教程\n\nFA2 里面画悬崖是个很重要的技能……如果悬崖画得太直往往就给人一直瞎眼的感觉，所以现在来说说我画悬崖的一些技巧\n\n在","link":"/posts/cliff-drawing-easy","content":"> Ra2map：取自 SpiderNebula 的地图编辑器悬崖花式画法教程\n\nFA2 里面画悬崖是个很重要的技能……如果悬崖画得太直往往就给人一直瞎眼的感觉，所以现在来说说我画悬崖的一些技巧\n\n在作为一个小白的时候，我是用这两个按钮画悬崖的![](./131735.webp)\n\n但是这两个按钮画出来的效果……![](./131748.webp)\n\n![](./131951.webp)\n\n那么，既然我现在已经脱离了小白的行列，我就开始用下面的这种方法画悬崖啦![](./132005.webp)\n\n要把悬崖画成花，不要嫌麻烦，得用下面的地形/地表一个个手动点![](./132030.webp)\n\n## 先用框架模式随意地点出轮廓\n\n![](./132037.webp)\n然后用隐藏地图框架把之前画的轮廓悬崖隐藏掉，手动把悬崖的断面连接上，连接得越随意越好，直接连接的不要太多\n\n![](./132042.webp)![](./132045.webp)\n\n然后缝补小缝隙，千万不要让悬崖有开口，这对于下面的步骤来说十分重要\n![](./132048.webp)\n接下来把悬崖内的地表升高，然后用平坦工具拖动升高的部分，修一下就变成图下的样子\n![](./132059.webp)\n![](./132056.webp)\n![](./132103.webp)\n效果就是这样\n![](./132108.webp)\n\n你还可以给悬崖上再盖一层悬崖，做出多层悬崖的效果什么什么的，就按照这里的方法再盖一层就好了![](./132118.webp)\n\n## 接下来我们来画悬崖的大斜坡\n\n在我还是一个小白的时候，我的悬崖是这样子的（毕竟这样只有一个方向而且非常好画）![](./132121.webp)\n![](./132223.webp)\n但是现在我已经不是小白了，于是我开始尝试一些花式画法，让斜坡口更自然\n\n再画好悬崖后，先把悬崖要做成斜坡的地方空出来（可以用10X10的草地笔刷把悬崖抹消）\n![](./132231.webp)\n在断口的两边放上斜坡口\n![](./132233.webp)\n跟刚才一样，使用平坦工具拖动变成这样\n![](./132236.webp)\n然后用凹凸和平坦工具变成这样\n![](./132239.webp)\n一个比较自然大斜坡就完成了，这里演示的是S方向的大斜坡，其他方向的斜坡方法也是类似的就不演示了。这里演示的斜坡比较小，做不出十分凹凸的效果，你可以尝试把开口往大了画，并且扭曲一些奇怪的角度就会变得十分好看啦\n\n最后用SHIFT地表拖曳把悬崖涂花，种上随机树木就会变得十分自然了![](./132246.webp)\n\n![](./132251.webp)\n最终完成图，以上。把这些画悬崖的技巧综合起来就可以画出很自然的悬崖啦\n![](./132259.webp)\n\n\n"},{"title":"复制粘贴地形的几种运用","tags":["入门","技巧"],"categories":"地形与美化","author":"天雪酱","excerpt":"\n## 介绍\n\n复制粘贴地形是我们提高作图效率的好方法，通过它，我们可以快速铺设地表，或是发明许多“新地形”，实现很多地形块的兼容。\n\n![](./easy.webp)\n\n按Ctrl+C开始复制，根据","link":"/posts/copy-and-paste-terrain","content":"\n## 介绍\n\n复制粘贴地形是我们提高作图效率的好方法，通过它，我们可以快速铺设地表，或是发明许多“新地形”，实现很多地形块的兼容。\n\n![](./easy.webp)\n\n按Ctrl+C开始复制，根据地编左下角提示完成复制，按Ctrl+V粘贴。\n\n接下来，我们通过一些例子来了解他的用途。\n\n## 例子\n\n### 魔改停车场\n\n![](./tcc0.webp)\n\n耐心修改\n\n![](./tcc1.webp)\n\n很多mod中，加入了网格线新地形，可以做出更复杂的效果（图源BV14T4y1c7Nb）\n\n![](./tcc2.webp)\n\n### 快速铺设相同地形（如公路和水泥悬崖）\n\n![](./road2.webp)\n\n### 修复碎石水路bug\n\n![](./waterroad.webp)\n\n### 整块地形的移动\n\n你可以这样微调区域，或者复制出多个区域。\n\n![](./move.webp)\n\n### 合成地图、拯救坏图的地形\n\n![](./edit.png)\n\n先记下出错地图的地图大小和类型，再编辑→复制整张地图，然后新建一份同样大小和类型的地图，再编辑→居中粘贴，(^o^)/大功告成！如果你会文本方式打开地图可能可以挽回更多东西 *为何不选择【导入一张已存在的地图或BMP图片】？因为很多坏图这样之后仍然出错，而且导入的话连单位的关联信息以及内置ini都导入了，不可控*\n\n### 快速得到某个地块（补角、公路路口、石头）\n\n画地图时，如果你突然又想用到某个地块，但又懒得重新翻找，那么你可以复制一份已经摆好的。\n\n![](./road.webp)\n\n本篇简单的教程到此结束。\n\n作者：轻稚\n\n文字编写时间：2021-2-28"},{"title":"任务简明制作教程-入门篇","tags":["入门"],"categories":"基础与综合","author":"天雪酱","excerpt":"> Ra2map：转载自 绝对_孤独 搬运的红警任务之家 pkarea 的文章\n\n前言：这套教程出自任务之家 pkarea 之手,也是咱的启蒙教程,私以为很通俗易懂,适合初学者,尤其是从零开始的新人.","link":"/posts/easy-mission-creation-1","content":"> Ra2map：转载自 绝对_孤独 搬运的红警任务之家 pkarea 的文章\n\n前言：这套教程出自任务之家 pkarea 之手,也是咱的启蒙教程,私以为很通俗易懂,适合初学者,尤其是从零开始的新人.大家可以和吧里[黑暗神的同类帖子]结合起来看,相信定能给一些初次开始运用地图编辑器的新手们以帮助.闲话少叙,搬运开始.\n\n## 红警任务简明制作教程（菜鸟入门篇）\n\n### 什么是地图编辑器\n\n尤里的复仇地图编辑器（FinalAlert 2）是《红色警戒2》和其资料篇《尤里的复仇》的任务地图制作工具，是任务地图制作的基本工具之一。可在网上下载此工具并安装到windows操作系统上。~~最好装在XP系统上。~~\n\n### 编辑前的准备\n\n首先要正确安装红色警戒2原版和尤里的复仇原版（注意必须是原版，MOD版本不可以，比如共和国之辉），然后安装地图编辑器（最好是简体中文版）。安装完成后打开编辑器，出现如下对话框：\n![](./151206.webp)\n上面选择你的红警游戏执行文件路径，下面的选择第一项“支持任务盘和扩展包”，如果只做红色警戒2的任务不用尤里的复仇的话，要选择第二项为好（否则地图可能会出现未知错误）。此对话框可在菜单“选项”－“设置”里再次出现。然后把菜单里“选项”－“简单模式”前的勾去掉，可以出现全部的菜单选项，这样就可以编辑单人任务地图了。如下图所示。\n![](./151228.webp)\n\n### 开始制作地图\n\n首先声明本文**只讲述单人任务地图**的制作过程，多人地图的做法与单人地图类似且比单人地图制作起来要简单，故在此不赘述。\n\n选择菜单“文件”－“新建”或者直接单击下面的白纸状图标建立新地图，如下所示，然后弹出下列对话框：一路下一步就会出现你新建立的地图。其中步骤3可以设置你所做的地图的尺寸和场景，步骤4可以设置游戏者使用那个国家进行游戏（当然会具有那个国家的特色武器）。\n![](./151527.webp)\n\n### 然后出现如下界面：\n![](./151616.webp)\n最上方的菜单多数都不常用，只有“编辑”是用的最多的。所以其它的在此不多介绍，玩家可以自己看看。下面详细介绍“编辑”菜单项的使用：\n![](./151621.webp)\n这就是完整的编辑菜单，挑几个主要的介绍：\n\n#### 1.地图参数\n\n选此项，出现如下对话框：\n![](./151648.webp)\n上面是设置整个地图的尺寸，选更改修改，地图上以红色边线表示；下面是游戏者可以实际看见的初始的地图范围，不是固定的，游戏中可以根据某些条件改变（方法以后介绍），但最多不能超过整个地图的尺寸，地图上以蓝色边线表示。白色表示地图以外，不能编辑。如下所示：\n![](./151755.webp)\n编辑地图时只要把可见区域的高度减少4，地图中的蓝色边线围住的区域就刚好是整个地图的有效编辑区域，然后只要在这个蓝框内设计你的地图，蓝框外就是看不见的区域。这样做就不会出现到达不了或看不到的区域。比如上图中把可见高度44改为40，其它不用动，就正好是这个地图的有效编辑区域。蓝色边线会在地图上自动修改。\n\n#### 2.基本设置\n![](./151806.webp)\n如果把无偿雷达改成yes，那么在运行任务的时候即使我方没有雷达也可看见小地图。其它选项不需修改。\n\n#### 3.所属方\n![](./151819.webp)\n这个选项是比较重要的，下面详细介绍：\n\n- 人类玩家参战方：指的是游戏者所操纵的国家，这在新建地图的时候就已经确定，一般不需更改。\n- 当前参战方：指的是你现在所编辑的国家属性，下面的参数就是该参战方的属性。一般新建地图默认的共有12个标准的参战方，也就是4个联军国家，5个盟军国家，尤里，平民和治安。如果不够用还可以新建参战方，但必须为它们指定国家属性。除了人类玩家参战方以外全部都是由电脑控制。\n- IQ：指电脑的AI智商，一般都为5，人类玩家参战方为0。\n- 地图边界：有东南西北四个方向，指空降部队时飞机飞来的方向。默认为北，就是地图上方。\n- 所属：什么国家就是什么名字，不要随便更改，否则容易混乱。\n- 颜色：指游戏时该国单位和建筑的标志颜色，自己可以改改试试，最好对立方改成明显不同的颜色\n- 盟军：指该国的盟友国，盟国之间不会主动互相攻击。注意这里是单方向结盟，与触发结盟有所不同。如果在这里设置盟国，就表示该参战方一定不会主动攻击该盟国，但不表示该盟国也不会主动攻击这个参战方。这点要特别注意。在此直接填写盟国的名称，如果有多个盟国之间以逗号隔开。例如，“美 House，德 House”。\n- 金钱：指该国初始拥有多少资金，为数值×100，如输入100，则该国初始就拥有$10000。\n- 科技等级：指该国初始的可建造的科技水平。默认为10，即该国所有建筑单位均可建造。等级越低，可建造的单位和建筑越少。为0时即不能建造。此项游戏中不可更改，要谨慎设置。\n\n#### 4.局部变量，标签编辑器，触发编辑器，脚本，特遣部队，作战小队\n\n以上6项属于进阶内容，将会在中级篇介绍，在此略过。\n\n### 绘制地图\n\n要想制作一张精美的地图，就需要学会地图的绘制。下面将介绍如何精确的绘制地图。首先看主菜单下面的工具栏：\n![](./151841.webp)\n\n依次说明如下：首先最右面那个图形是框架模式，点击一下就可以清楚的看到每一个单元格，再点一下就还原到实际地形。利用这个功能可以精确的定位所要编辑的项目。另外编辑器右下角也会有坐标显示，也能够方便定位。这个功能是很有用的，要多多利用。\n![](./151858.webp)\n顺便说一下坐标的格式：坐标在编辑器的右下角，格式为 xx / yy – z。xx为地图从右上到左下的坐标轴，yy为地图从左上到右下的坐标轴，z为当前单元格的高度。z的范围值是从0到14。默认的地图整体高度一般为0，可以从菜单“工具”－“更改地图高度”进行整个地图整体高度的修改。高度影响到地势的高低，单位从高地向低地发动攻击时射程会有所增加，反之射程则会降低，甚至可能会无法攻击到目标（比如向悬崖上攻击），同时也影响到单位的视野范围。这就是所谓的地形优势。所以在地图上设计多变的地形是很重要的。\n\n### 下面说说其它图标按钮的作用：\n\n前面两项分别是抬升和降低地表，单击即可抬升或降低部分地域。如下所示\n![](./151916.webp)\n左面是抬升的效果，右面是降低的效果。一次抬升和降低的面积受到画笔尺寸的影响（就是工具栏最右面那个）。最好在框架模式进行操作，这样看的比较清楚。注意，高度超过14则无法进行抬升，同样低于0无法进行降低，而且待抬升或降低的单元格周围必须地形一致才可均匀抬升或降低，否则会出现地形混乱，修改起来很麻烦。如果不慎弄错了可以按ctrl+z退回上一步。\n\n左数第三项是均匀地势，单击一下然后选择一个单元格按住鼠标左键拖动可使周围地形高度变得一致，也就是使地形变得平坦。作用范围同样受到画笔尺寸的影响。\n\n右数第二、三项分别是抬升和降低单个地块，作用同前两项，只不过是作用于单个单元格。用于细节的修整。\n\n中间四项是隐藏和显示地形，用于编辑被高地挡住的后面的地形和无法精确定位的格。单击一下隐藏地块参数，在点一下需要隐藏的地形，这样同类型的地形就都被隐藏起来了。然后就可以编辑后面的地形。再单击一下显示全部地块就可把隐藏的地形全部显示出来。如下图所示：\n![](./152034.webp)\n\n接下来是工具栏下面这两项![](./152048.webp)\n分别是绘制悬崖的前部和后部，作用就是绘制悬崖的边缘。请注意，悬崖边缘本身的高度是4，也就是说要想让悬崖自然过渡，就要把悬崖内侧地表变得和悬崖边缘的高度一致。比如外侧地表高度为0，那么悬崖边缘高度为4，其内侧地表高度也要为4，这样才能算是自然过渡。这在框架模式下可以看得很清楚。否则地形可能会变得不协调，甚至会出现某些地形不能到达的现象。如下所示，自然过渡的地形，没有抬升悬崖内侧地表，地形变得不协调，出现白边\n![](./153050.webp)\n\n### 地表的绘制\n\n基本的地表样式可以从左侧的树状菜单第一项“地表”中选择绘制，绘制单位面积受画笔尺寸的影响。此栏中包含了基本的地表单位，可以直接在地图上绘制。\n![](./153120.webp)\n但是仅仅这几种单位是无法绘制复杂多变的地形的，这就需要用到编辑器下方的扩展地表栏：\n![](./153130.webp)\n这个菜单中包含了全部的地形单位，选择不同的项目在其下面的空白处就会出现一系列的地表单位，包括草地、公路、桥梁、悬崖以及一些修整单位，全部都可以在这里找到。不同的场景内容会有所变化，不过相同的场景中内容是固定的。不同场景间某些内容是通用的，有些则不能通用。比如草地场景中则不能绘制雪地。\n\n地图绘制实例图\n![](./153138.webp)\n\n### 建筑和单位的绘制\n\n建筑和单位可以从左侧的树状菜单选择绘制，需要注意的是绘制单位和建筑时是具有它们自己的属性的，尤其是所属的参战方。编辑器左下角有它们的参数信息。\n\n请注意这些东西绘制出现错误的话不能用ctrl+z取消，要用树状菜单最下面的删除对象进行删除。\n\n左侧树状菜单中可以进行绘制图形的项目有：地表，步兵，交通工具，飞行器，建筑，地形对象，污染，特殊/覆盖。其中步兵、交通工具、飞行器、建筑、地形对象，污染需要使用“删除对象”进行删除，覆盖图需要用到其子目录下的项目进行删除，其余可用ctrl+z组合键进行撤销。地表扩展栏的右面还有覆盖图的扩展栏，覆盖图不够用的话可以在这里面找。\n\n> 至此，绘制地图的部分就详细地说完了，您对任务制作有点入门了吗？\n\n### 其它项目的说明及一些常用的操作\n\n编辑器中间的窗口即为地图编辑窗口，按住鼠标右键拖动可卷动地图，如同在游戏中一样。在有属性的地表单元上双击鼠标左键，可弹出该单位的详细属性设置，如下图所示\n![](./153211.webp)\n其中“**归属于**”则是指该单位属于哪个参战方，也就是哪个国家的。可在此处修改，也可在左侧树状菜单中“更改对象所属”中选择某个参战方，然后一次性点击地图中需要修改的单位从而完成大量修改。\n\n**强度**是指该单位初始的生命值，默认为满值，也就是满血，拖拽该进度条可以更改单位的初始生命值，拖动到一半单位就只有半血了。注意不要拖动到最左边，那样单位一上来就会爆掉，建筑会被卖掉。\n\n**状态**指单位的初始指令，默认为guard，也就是原地防守。可以进行修改，使一些单位动起来。常用有以下几项：\n\n- Area guard：区域防守，有别于原地防守，会在敌方接近其视野范围时自动驱逐敌人，而不是傻呆呆地原地站着。不过当敌人逃离较远之后会自动回到原地。\n- Hunt：搜索敌人，指自动追踪敌人攻击，直至目标被毁或者自身被毁或被心灵控制为止。与attack作用相似。\n- Sleep：睡眠状态，单位会一动不动，受到攻击也不会还击，而且待机时也不会发出任何自由动作，像一个木桩。\n- 其余项目不常用，懂英文的朋友可以自己试试。\n\n**指令**是指单位的朝向，分别对应八个方向，按顺时针排列，默认为64，也就是面向右下角。不过有些单位不能更改朝向。\n\n**经验等级**指单位的初始获得经验，最大为200，默认为0，100时单位出来一星，200时为三星的精英部队。\n\n**关联标记**是与标签和触发有关的选项，将在中级篇介绍，在此略过。\n\n建筑的属性窗口与单位的略有不同，只说说不同点：\n![](./153434.webp)\n其中**AI修复**为0时建筑不会自动修复，为1时当生命值非满值时将进行自动修复，前提是该建筑所属的参战方的资金要大于0（那是当然的啦～）。\n\n### 路径点\n\n新建立一张地图，你会发现地图中间有两个数字符号98和99（多人地图中为0－7），这就是路径点。那么98和99表示什么意思呢？这指的是游戏者开始时所处的位置。除了这两个路径点以外，其它的从0一直到500以上的路径点都可以自由使用，没有什么特殊含义（最好不要设的太大，200以内的应该足够你做一张图了）。路径点可以通过左侧的树状菜单进行添加和删除。\n\n路径点用于定位任务地图中的特定位置，是与触发和脚本等工具并用的，从而实现一些特定的动作和功能。一个路径点可以配合多个触发或脚本使用，但每个路径点的ID是唯一的，也就是上面的数字。当地图上路径点较多而一时难以找到需要的路径点时，可通过菜单中“工具”－“查找路径点”找到相应的路径点位置。\n\n### 单元标记\n\n也被称作地标，同路径点类似，本身并没有特别的作用，需要与标签配合使用，而标签是与触发关联的。通常用于触发中的“进入事件”。\n路径点和单元标记的详细用法实例会在中级篇加以介绍。\n\n### 基地节点\n\n基地节点是专门用于建筑的，可以使建筑被摧毁时在原地自动再造出来（前提必须要有建造场）。建立节点不删除建筑，指的是初始时该建筑存在于地图上，建立节点删除建筑是指该建筑开始时地图上不存在，但有相应建造场时可以自动被建造出来。不论是以上哪一种，当建筑被摧毁时都可以自动被重建。\n\n建立节点不删除建筑的情形（有一个虚线框）建立节点删除建筑的情形（建筑以隐形显示）\n![](./153526.webp)\n\n### 游戏者位置\n\n用于修改路径点98和99的位置，也就是游戏者的初始位置。多人地图中默认有8个游戏者位置，如果不需要这么多可以删除其中若干个。不过要保持游戏者数目在2－8之间。\n\n### 如何运行地图\n\n要想用自己制作的地图进行游戏，首先要保存地图。选择“文件”－“保存”，在下面的对话框中选择需要保存的类型和文件名，单人地图扩展名是*.map，多人地图是*.mmx。根据自己所做的地图类型进行选择。\n![](./153551.webp)\n文件名的话，如果是红警2的任务，文件名为all01t.map则执行盟军新任务进行游戏，sov01t.map则执行苏军新任务，trn01t.map是新兵训练任务；如果是尤里的任务，则all01umd.map执行盟军新任务，sov01umd.map执行苏军新任务。如果制作多关任务，其它任务名称可参考其它资料，在此不一一列举。将保存好的任务放在红色警戒2与尤里的复仇目录下即可运行任务。\n\n> 这样一张属于自己的地图就制作完了，是不是觉得挺简单的呢？\n\n至此，红警任务简明制作教程（菜鸟入门篇）全部讲解完毕，通过以上内容，应该可以制作出一张比较完整的多人地图，请任务爱好者多加练习。\n\n单人任务地图由于其所涉及知识较多，尤其需要用到触发编辑器，该工具是编辑器中功能最强大，也是最复杂的工具，其它工具如标签编辑器、局部变量、作战小队等均与此工具有关联，无法在此详述，具体内容请参照：**红警任务简明制作教程（新手进阶篇）**\n\n为防止图挂掉,本作文档已上传吧主网盘http://wc007.ys168.com/ 每张图片均有任务之家水印,如有妨碍阅览敬请原谅.\n\n"},{"title":"任务简明制作教程-进阶篇","tags":["入门"],"categories":"基础与综合","author":"天雪酱","excerpt":"> Ra2map：转载自 绝对_孤独 搬运的红警任务之家 pkarea 的文章\n\n前言：这套教程出自任务之家 pkarea 之手,也是咱的启蒙教程,私以为很通俗易懂,适合初学者,尤其是从零开始的新人.","link":"/posts/easy-mission-creation-2","content":"> Ra2map：转载自 绝对_孤独 搬运的红警任务之家 pkarea 的文章\n\n前言：这套教程出自任务之家 pkarea 之手,也是咱的启蒙教程,私以为很通俗易懂,适合初学者,尤其是从零开始的新人.大家可以和吧里[黑暗神的同类帖子]结合起来看,相信定能给一些初次开始运用地图编辑器的新手们以帮助.闲话少叙,搬运开始.\n\n## 红警任务简明制作教程（新手进阶篇）\n\n还是前言：有的朋友反映上个教程内容太过常识。本来的嘛，标题就是菜鸟入门，一个连触发都不明白的新人会直接看懂一些深层内容吗？这篇是新手进阶篇，里面可能有入门的朋友感兴趣的东西。如果这个也满足不了你。。。。。你还装什么新人啊，该干什么干什么去！口胡结束,搬运开始!\n\n本篇适合那些学习过入门篇的读者和具有一定地图制作基础的朋友们参考，通过此篇的学习可以使你的地图制作水平更加完善，任务的制作更加得心应手，学习完本篇的内容之后将可以独立的完成一个完整的单人任务地图的制作。建议如果没有任何制作经验和基础的玩家请不要参看本篇，可以先去参看本人的入门篇教程。\n\n### 内容简介\n\n本篇将就入门篇中尚未提到的编辑菜单中的触发编辑器、标签编辑器、脚本、特遣部队、作战小队等内容加以详细介绍，同时包括局部变量、单元标记、路径点的详细用法讲解。\n\n### 触发编辑器\n\n触发编辑器是FA2地图编辑器中功能最强大的编辑工具，本篇将介绍的其它工具均与此工具有关联，可以这么说，如果没有了触发编辑器，本篇所要介绍的其它内容就几乎全部失去了意义。因此，要想制作好单人任务，触发编辑器的使用就必须学好。\n\n要学习使用触发编辑器，首先有必要了解什么是触发。触发实际上就是制作者给电脑下达的一系列指令，使得电脑根据某些特定的条件完成特定的动作。有过编程经验，学习过BASIC、C语言等的玩家可以发现，触发编辑器的作用和功能实际类似于if条件句，也就是当满足一定的条件之后执行if后面的指令。反映到触发上就是当发生某事件时则触发该事件对应的动作。形象的说就是“如果条件被满足，则会发生一些事情，反之条件不满足，就不发生任何事情。”这就是触发。\n![](./153743.webp)\n这个就是触发编辑器的主面板。顾名思义，触发编辑器就是编辑触发、制作触发的工具。每一个完整的触发包括三个部分：触发的名称（Trigger options）、触发的条件（也叫事件，Events）、满足了条件之后所发生的事情（也叫行为，Actions）。有的时候名称也被称为标签，这点在后面介绍的其它工具的使用也一样（与标签编辑器中的“标签”含义不同）。\n\n### 下面详细介绍各项目的作用：\n\n最上面那个下拉列表是触发的选择窗口，也就是这张地图中的所有触发都可以在这里找到。直接打开下拉列表可以选择所需要的触发。如果需要建立和编辑触发直接在上面有对应的四个按钮。\n\n然后下面是触发编辑的主界面，有三个选项卡，分别是标签（名称），事件和行为。\n\n#### 首先建立一个触发，然后选择标签选项卡\n\n在下面的名称文本框中输入触发的名字。请注意，名字虽然只是注释内容，与触发的功能毫无关系，触发少的时候固然可以随意命名，但是当触发建立了很多以后想要找到并编辑需要的触发却不是一件容易的事。这个时候起一个明白好认名字就非常重要了。比如游戏胜利时的触发起名为“win”或者“胜利”，失败时的触发写作“lose”或者“失败”，这样当触发很多的时候打开下拉列表一眼就能认出游戏胜利与失败所对应的触发是那些，也方便日后测试和检查。\n\n#### 之后选择事件选项卡，界面会有所改变\n\n点击下面的新建事件，左侧的下拉框会出现“Event 0”，而下面的事件类型会出现许多选项，这些就是编辑器所能使用的各种触发的条件。\n\n当你选择了其中的一个事件之后，在其下面会出现对此事件功能的解释。某些事件还需要设置参数，在更下面框中会显示对应的内容。比如你选择了“1 进入事件”之后下面的参数框里就会出现内容\n\n![](./153945.webp)\n\n所属方后面所指的“0 美”就是该事件的参数，指的是当美国的部队进入到该事件关联的区域或对象时，这个事件的条件就被满足了。由于进入事件有参数指定，所以当苏联部队进入该事件关联的区域或对象时，事件是不会被触发的。因为只满足了事件（进入事件），但是没有满足事件参数的要求，事件还是不能被触发，条件还是没有全部满足。只有同时满足了事件本身和事件所对应的参数时，事件才能真正被触发，后面的行为语句才能被执行，这点请特别注意。\n\n一个触发的事件可以同时建立多个，但要注意当有多个事件存在的时候，只有全部的事件条件都被满足的时候才算整个的事件被触发。（“0 无事件”，这个事件的条件是永远不能被满足的，所以一定不要使用，否则这个触发就没有意义了）第一个建立的事件叫做“Event 0”，第二个事件叫做“Event 1”，依此类推。\n\n#### 然后是行为选项卡\n\n与触发的界面类似，打开行为类型同样会出现许多的选项，这些就是编辑器所能使用的全部行为。行为就是当前面的事件的条件被满足时所要执行的动作。同样行为也可以建立多个，某些行为也具有参数。只有当一个行为本身和其参数都设置好的时候该行为才能被完整的执行。\n\n下面来看下事件和行为是怎么联系起来的:\n\n首先新建一个触发，命名为“reveal”，然后建立一个事件“13 流逝时间”，参数设为20【任务中其单位为“游戏秒”；遭遇战中其快10倍，即10代表1游戏秒】， 然后新建一个行为，选择“16 显示全部地图”        \n\n![](./154416.webp)\n\n保存这个地图并执行，你会发现游戏一开始地图是全黑的，稍待片刻之后地图会全亮。这就是事件与行为的关联。事件是“流逝时间”，参数是20，就是说当游戏时间经过20个单位的时候这个事件的条件就被满足，事件就触发了，事件触发的同时就会执行后面的行为。行为是“显示全部地图”，所以当游戏经过了20个时间单位的时候行为就被触发，地图就会全部显示出来。这就是事件与行为的关联，它们和事件的标签（名称）共同组成了一个完整的触发，缺少其中任何一个要素都不能组成完整的触发。所以标签、事件、行为被称为“触发三要素”。\n\n由于事件和行为的选项很多，选项达到数十个甚至上百个，在此就不能一一介绍了。其作用和功能及用法本篇中仅选择其中比较常用比较重要的介绍，并着重介绍其使用技巧及注意事项。其余内容请参考其它文章的说明。\n\n#### 再来看一下触发编辑器的其它选项\n\n![](./154516.webp)\n\n名称的下面有几个选项，其中\n\n**所属参战方**：指的是这个触发是属于哪个参战方的，可以不必特别设置，不过在某些触发行为上这却是一个必要的参数（例如“36 全部更改归属”）。在触发设置了这些行为的时候要特别注意，以免出现不可预料的错误。\n\n**右面的类型**分0和2两个参数，指的是该触发是一次性触发还是重复性触发。0表示该触发的行为执行过一次后将失效（仅当该触发只有一个标签的时候或没有被其它触发强制触发的时候，详细情况以后说明），而重复触发则是指该触发会反复根据条件多次触发，直到被禁止或游戏结束。【填1的效果是：如果想要摧毁全部光棱塔后过关（需关联单位的那种触发条件），就要填1（填0或2都是只摧毁一个光棱塔就过关)，详见关于触发类型 1。】\n\n\n**关联触发**：这里可以设置其它的触发，作为该触发的关联触发。关联触发的意思是，两个触发之间相互关联，在判断其中一个触发的事件条件的同时也会判断另一个触发的条件，其中哪个条件被满足就会相应的触发哪个触发的行为。这与两个单独的触发是不同的。详细将会在后面说明。\n\n**下面还有4个选项**，禁止、简单、中等、困难，如果把禁止勾选上，那么游戏开始的时候这个触发即使满足了事件的条件也不会被执行，需要由其它的触发行为“53 允许目标触发”进行激活，激活后的触发可以根据条件被执行。\n\n简单、中等、困难指的是在什么样的游戏难度下该触发有效，默认是三种难度都可以，如果勾去其中若干对号，在某些难度下这个触发会无效。如果三个都勾去，那么将永远不会被触发。这个选项可以调整游戏的难度。\n\n以上是触发编辑器的详细介绍，其它工具的说明及与触发编辑器的关联用法将在后面的教程中介绍。\n\n### 特遣部队、脚本与作战小队\n\n这三者是紧密联系的，特遣部队就是一组单位的\\*\\*，脚本是单位所要执行的动作指令，单位的\\*\\*加上动作指令就组成了作战小队。即 特遣部队+脚本＝作战小队。编辑好的作战小队可以在触发行为中被调用。通常作战小队被用作一小队援军，或者一组作战单位等等。可以使用“4 建立小队”“7 援军（小队）”“80 援军（作战小队）【在路径点】”“107 超时空传送援军”等触发行为调用作战小队。\n\n下面介绍下作战小队的建立过程\n\n#### 1.建立特遣部队\n\n首先建立特遣部队，打开编辑面板。点击上面的添加按钮，可建立一个新的特遣部队。同触发编辑器类似，这个下拉框中包含了这张地图全部的特遣部队，可以在这里选择查看。然后在下面的名称里添上该特遣部队的标签（前面已说过名称也叫标签，即注释性文字），小组是将多个特遣部队分类，可以不必去管它。然后点下面的添加，就可以编辑你所要设置的单位了，可以在更下面设置单位的数量和种类，如果一种不够可以再次点击添加按钮。这样特遣部队就设置完成了。\n\n![](./154758.webp)\n\n如上图所示建立了一个特遣部队，该部队包括2个美国大兵，3个动员兵和一个盟军工程师。\n\n#### 2.建立脚本\n\n然后就该设置特遣部队的动作了，即脚本。同样先新建一个脚本\n![](./154826.webp)\n\n同样上面的下拉框中包含了本地图全部的脚本，在下面的名称中输入脚本的标签，然后点击下面的添加按钮可以新建一个动作。同样动作可以建立多个，会按照序号依次执行。选择想要设置的动作序号，在下面的行为类型选择需要的动作，并且在某些需要参数的动作填好参数（有参数的动作一定要设置参数，不然可能该动作没有效果）。这样即可设置好一系列动作，这一系列动作的\\*\\*就成为一个脚本。\n\n由于脚本中的行为类型选项很多，故在此不能一一说明，仅挑几个常用的说明，其余请参考其它文献。\n\n- Attack：主动攻击敌方某些目标。参数选项1为任意攻击敌方目标，其余参数可根据其英文注释理解。如果没有可以攻击的目标，则关联的特遣部队会原地待命，并执行下一个动作。\n- Attack Waypoint：强制攻击指定路径点。参数设置为需要攻击的路径点。\n- Move to waypoint：移动到路径点。参数设置为要移动到的路径点。\n- Patrol to waypoint：巡逻到路径点。与移动到路径点不同的是，在移动的过程中如果发现敌军会主动攻击。\n- Deploy：使能够部署的单位进行部署。如美国大兵会坐下，基地车会展开成为主基地。\n- Unload：使搭载了单位的运输工具释放出单位。参数有4个选项，意义分别是：\n    - 0：保持运输工具和搭载单位共同执行后面的动作。\n    - 1：保持运输工具执行后面的动作，而搭载单位原地待命。\n    - 2：运输工具原地待命，搭载单位执行后面动作。\n    - 3：运输工具和搭载单位都原地待命。\n- Do this：根据所选参数作出特定的动作。参数选项有很多，同样只说几个常用的：\n- 0-sleep：睡眠状态，一动不动，被攻击也没反应，象一个木桩。\n- 5-Guard：原地防守。遇到敌人会主动攻击，但不会追击。如果自身受到攻击会主动追击。\n- 11-Area Guard：区域防守。对进入视野范围内的敌人会主动攻击，当目标脱离其警戒范围时会回到原地。\n- 15-Hunt：会自动搜索敌军并攻击，直到目标被消灭或自身被心灵控制及被毁。\n\n“Do this”中的参数指令与双击地图上绘制的单位出现的单位选项中的命令功能类似。\n\n#### 3.建立作战小队\n有了建立好的特遣部队和脚本，就可以建立作战小队了。使用作战小队就可以将两者联系起来组成完整的“单位＋动作”。\n\n新建一个作战小队\n![](./155002.webp)\n\n同样最上面的下拉框可以查看和编辑地图中全部的作战小队，下面的名称填上作战小队的标签，中间的脚本和特遣部队就填上你设置好的脚本和特遣部队。这样作战小队就设置好了。说一下其它选项的作用：\n\n**经验等级**：指的是特遣部队的等级，1为新兵，2为一星，3为3星精英部队。\n\n**参战方**：指该作战小队属于那个国家。\n\n**路径点**：指小队出现时的初始路径点，通常只有用行为“7 援军（小队）”时才会用到，如果用了“80 援军（作战小队）【在路径点】”，行为参数中会有初始路径点的设置，这里就不起作用了。\n\n脚本和特遣部队下面有个**标签**，这个是与标签编辑器有关的选项，将在标签编辑器的介绍中说明。\n\n**最下面**有许多选项，指的是小队出现的效果。只说几个常用的：\n\n**空降部队**：勾选此项后，小队将以飞机空降的形式出现在初始路径点。\n\n**完整小队**：勾选此项后，如果特遣部队中有运输单位，则其它单位会被装进这个运输单位中，而且没有容量限制。此项是默认勾选的，设置有运输单位的作战小队时要注意此项，以免发生不期望的效果。\n\n其它的项目用处不大，可不必设置。\n\n#### 调用建立好的作战小队\n\n制作好的作战小队要使用触发编辑器中的行为4，7，80，107适时进行调用，否则作战小队将失去意义。下面举一个调用作战小队的例子：\n\n首先按照下列顺序依次建立特遣部队、脚本和作战小队\n\n![](./160008.webp)\n\n 然后建立如下触发\n\n![](./160103.webp)\n\n之后在地图上绘制一个路径点0，保存并运行地图，会看到2个美大兵、3个动员兵和一个盟军工程师从路径点98出现，然后移动到路径点0。这个过程就实现了作战小队的作用。\n![](./160129.webp)\n\n### 路径点、单元标记与标签编辑器的应用\n\n#### 路径点\n\n在中篇作战小队的应用上已经提到过一些关于路径点的用法。路径点实际就是定位于地图中的某一坐标点，通过在地图上标记若干路径点，便于触发和脚本识别一些需要发生某些事情的特定位置。\n\n![](./160150.webp)\n路径点通常用于脚本动作和触发行为中的参数。比如Move to waypoint（移动到路径点）其参数就需要用到路径点。也可用于触发行为中，例如行为“80 援军（作战小队）【在路径点】”其参数路径点即为作战小队出现的初始位置。亦可直接用于某些触发行为中，如“17 显示路径点周围区域”，此行为中可直接设置某一路径点为中心，这样行为就会将以此路径点为中心一定半径范围的区域显示出来。\n\n路径点的应用还有很多，总之只要是触发和脚本需要在地图上的某一位置做一些事情，就需要路径点去标记位置。也就是说路径点是为实现触发和脚本的某些功能而出现的。\n\n#### 单元标记\n\n单元标记也叫做地标，同路径点的作用类似，也是用来标记地图上某些需要发生一些事情的特定点的，只不过它的功能相对路径点更单一，它是专门为触发中的事件服务的，最典型的就是触发事件中的“1 进入事件”。当在地图上建立一个单元标记的时候会弹出一个窗口，这是让你选择与之关联的触发标签。地标如果没有与之关联的触发标签是不起作用的。说到触发标签就不能不提到标签编辑器，后面将对单元标记和标签编辑器的联系进行说明。\n![](./160204.webp)\n\n总之单元标记与路径点的相同之处在于两者都是用于标记地图上某些特定的坐标点，不同之处在于路径点是为触发行为和脚本服务的，有时也可用于触发事件，而单元标记是专为触发事件服务的。\n\n#### 标签编辑器\n\n在触发编辑器的下面有一个标签编辑器，很多人认为这个编辑器貌似没多大用，因为触发需要标签进行标识，而当建立一个触发的同时系统就会自动为这个触发建立一个标签，在需要关联的时候只要直接选择这个标签就行了。其实标签编辑器还有其它工具做不到的特殊功能。\n\n首先声明这里所提到的标签跟前面不同，不再指名称一类的注释性文字，而特指标签编辑器中与触发关联的“标签”（触发标签）。标签的名称将直接称之为标签名称（即标签的注释性文字）。\n\n打开标签编辑器，看到以下内容\n\n![](./160227.webp)\n\n上面的“标签”下拉框即可查看全部触发标签，在这里选择和新建触发标签，而下面的“名称”则是标签名称（标签的名字，即注释性内容）。再下面的“重复”是指该标签所关联的触发是一次性的还是重复性的，“触发”则是指该标签对应的触发。\n\n触发标签实际上就是一个触发的标识。在单元标记上选择与之关联的触发标签，则该单元标记就与这个标签所对应的触发产生了关联，也就是说这个单元标记只对这个对应的触发起作用，或者说这个单元标记与这个触发进行了绑定。如果在地图上绘制的单位或建筑选项里的“关联标记”一项选择与之对应的触发标签，则这个对象就会与标签中所指定的触发产生关联。当对象和触发产生关联的时候，触发中的一些特定的事件就可以起作用了（如“1 进入事件”“48 被任何事物摧毁”）。所以标签是联系触发和其它对象的纽带，标签的存在保证了触发可以更好的为其它对象服务。\n\n【触发】<——>【标签】<——>【其它对象】\n\n单元标记中的触发标签，关联对象中的触发标签，作战小队中的触发标签\n\n\n\n#### 标签的特殊应用\n\n##### 标签的不唯一性与独立性\n\n一个触发默认有一个标签与之关联，这在触发建立时系统就自动为你建立好的。如果一个触发没有标签与之对应，则该触发将不能与上述对象和工具进行关联。一个触发允许具有多个标签，而每个标签只能对应一个触发。同一触发的不同标签之间是相互独立的，将其中任何一个标签与其它对象关联都可以使该触发与那个对象进行关联。\n\n##### 多标签多次启动触发\n\n当一个一次性触发需要启动多次而非反复启动时，尤其需要在不同的地点启动多次时，按照通常的做法就要在不同的地点复制这个触发并使之与其对应地点的对象进行关联，比如要触发三次就要做三个同样的触发与各自对应地点的对象进行关联，这样一个一个做起来很麻烦，而且会使触发列表看起来更复杂。其实如果利用标签的上述特性完全可以用一个触发代替。只需给这个触发多建立几个标签，然后把新建的标签都命名为“这个触发的名字＋标签的序号”，在每个不同的地点关联其中一个标签即可，这样由于标签的各自独立性，当其中一个标签被启动而使触发被启动时，并不会使其它地点也出现触发被启动的连锁反应，**也就是当触发本体和对应它的多个标签的重复性都设为0时，每个标签都能够让触发启动一次，触发将不再是绝对的一次性触发了**，不过每个标签使用过一次将失效，也就是一个一次性触发拥有几个标签，这个触发就能被启动几次。由于触发默认只有一个标签，其余的要自己建立，这就是说为什么通常一个一次性触发在没有特殊情况下只能被启动一次了。\n\n多标签对应同一触发\n\n![](./160528.webp)\n\n### 局部变量\n\n![](./160543.webp)\n\n下面讲讲什么是局部变量。局部变量实际就是一个具有0和1两个数值的参数，这个参数是独立的，不受其它参数或局部变量的影响。在上面的窗口中选择一个空的局部变量（No name），然后在下面的说明中填入这个变量的名称（注释性文字），然后可在下面的预设值选择该变量的初始值为0或1（不设置的话为0），这样一个局部变量就建立了。由于每一个局部变量只有0和1两个状态，所以局部变量可以用于某些触发的开关作用。与局部变量有关的触发事件和行为有：事件中的“36 局部设置开始”“37 局部设置清除”，行为中的“56 局部设置”“57 局部清除”。另外在脚本中也有类似的选项，其作用与之类似。\n\n局部设置是指将特定的局部变量的值设置为1，局部清除是设置为0。\n\n局部设置开始是指当特定的局部变量的值为1时条件被满足，局部设置清除则是局部变量的值为0时条件被满足。\n\n利用这四个选项和多个局部变量就可组成触发之间的开关系统。例如红警苏军官方任务第一关最后的摧毁五角大楼，五角大楼是由4个部分组成，在每个部分设置一个与之对应的局部变量，当哪部分被摧毁就将那个变量的值更改，当全部的变量都被更改时则目标达成。\n\n局部变量还有一个过渡的作用。由于某些对象可以对触发中的一些事件和行为同时产生关联，那么当这个对象关联了一个同时具有这类事件和行为的触发时会产生混淆，发生不期望的效果。**比如下面的例子**：\n\n建立一个触发，将事件设置为“6 受到任一作战方攻击”，行为设置为“14 更改所属”，参数为“0 美”。然后绘制如下场景\n![](./160632.webp)\n\n双击图中谭雅将其设置为美军所属（游戏者控制），动员兵设置为苏军所属（电脑控制），工程师为待救援军，设置为中立（平民）。将工程师和三个动员兵与这个触发设置关联。\n\n此图所要表达的意思是，当谭雅攻击到动员兵时，工程师即加入我方。不过当保存并执行这个地图的时候，却发现和预想的结果有出入：当谭雅击毙一名动员兵时，工程师是加入了我方，不过另外两名动员兵却也加入了我方。这个问题该怎么解决呢？这个时候局部变量就起作用了，将触发更改如下\n\n新建一个局部变量，其初始值设为0，然后将原触发行为更改为“56 局部设置”，参数为新建的变量。\n\n再新建一个触发，事件设置为“36 局部设置开始”，参数为新建的变量，行为设置为“14 更改所属”，参数为“0 美”。\n\n将三个动员兵与第一个触发关联，将工程师与第二个触发关联。\n\n保存并重新执行这个地图，发现达到了预期的效果：当谭雅击毙其中一名动员兵时，工程师加入了我方，而另外两名动员兵并没有加入我方，他们会攻击谭雅。\n\n这样利用局部变量的过渡作用将两个容易混淆的事件和行为分开来，就能够达到预期的效果。\n\n至此，红警任务简明制作教程（新手进阶篇）全部讲解完毕，通过以上内容的学习，应该可以制作出一张比较完整的单人任务地图，由于触发编辑器功能的强大和复杂，需要读者反复琢磨和尝试，要想熟练制作一张属于自己的任务地图，还请任务爱好者多加练习，亦可参照红警任务制作实例或其它任务制作者的任务作品，只有经过不断的钻研和实践，制作水平才能有所提高。**期待广大玩家做出自己理想的任务！**\n\nBy pkarea Email： pkarea@yahoo.cn\n\n忘了开头说明.本教程为红警任务之家论坛版主:pkarea 所著.本教程文档文件上传至吧主网盘http://wc007.ys168.com/ 吧友文件区.\n\n## 个人心得:\n\n教程只是本工具书,就如同字典一样,只是教会你如何利用地图编辑器的各项功能而已,真正的任务制作过程中会遇到各种各样的问题,这时候一些专项介绍的教程会适合你的需要.\n\n私以为做任务最难的是画出一张令自己和玩家都满意的地图,触发脚本什么的真的没什么.具体可参考冰天雪地处女作 尤里任务噩梦重温.\n\n多玩任务,多用编辑器打开一些精品任务自己研究,搞懂那些任务效果是怎么实现的,结合自己的制作看看有什么可以借鉴的地方.\n\n试着修改一些任务的细节,看看能不能达到自己想要的效果.\n\n最后,自己的任务一定要反复测试,反复测试,反复测试.即使是很经典的任务也会有哪怕很低级的 BUG,比如烽烟四起盟军第3关.作出的任务至少要自己满意了才可以,这是一种态度.\n\n\n\n\n"},{"title":"如何关联触发","tags":["高级"],"categories":"触发与小队","author":"天雪酱","excerpt":"关联触发可以**给同一个物体挂上多个触发**，比如，可以做到让同一个物体在 *41 初次受损*，*42 一半生命值*，*43 红血* 时，都发出警告信息（这仨事件都需要关联物体，而物体的关联框里只能填","link":"/posts/how-to-associate-triggers","content":"关联触发可以**给同一个物体挂上多个触发**，比如，可以做到让同一个物体在 *41 初次受损*，*42 一半生命值*，*43 红血* 时，都发出警告信息（这仨事件都需要关联物体，而物体的关联框里只能填一个触发）。\n\n关联触发的设置方式如图，其中`...`表示根据自身需求来设置。第一个触发的重复和所有触发的禁止自身是必须的。\n\n![](./glcf.png)\n\n可以认为，**关联触发**是**主触发**把它的标签（原生的和其他触发给的）共享给了**从触发**（被关联者），这样一个标签就与多个触发建立了联系。\n\n其他文章：\n\n- [触发原理概论——4.3关联触发](https://www.bilibili.com/read/cv17617669/)\n- AUY的《如何用记事本看地图文件》(关于地图内部数据解析)，触发章节\n- [红警·心灵终结：关联触发的运用实例及心得](https://www.bilibili.com/read/cv14185099/)"},{"title":"地图美化细化基础教程","tags":["进阶"],"categories":"地形与美化","author":"天雪酱","excerpt":"> Ra2map：本文转载自贴吧[【红警地图美化细化基础教程】By:0402yjl](https://tieba.baidu.com/p/3165093077)，原帖作者：零肆酱\n\n本教程仅为新手美化","link":"/posts/map-beautification-and-refinement-basic-tutorial","content":"> Ra2map：本文转载自贴吧[【红警地图美化细化基础教程】By:0402yjl](https://tieba.baidu.com/p/3165093077)，原帖作者：零肆酱\n\n本教程仅为新手美化地图提供参考，若有错误请指出，谢谢\n\n```\n目录：\n3楼——一些废话\n4楼——平地地表美化\n5楼——丘陵及悬崖地表美化\n6楼——水面美化\n7楼——综合美化\n8楼——利用触发美化\n9楼——其他补充\n【城市地形及地表美化请参考格林·斯内克的教程，月球地形及地表美化请参考※杯具的新手※的教程】\n【由于温和、雪地和沙漠的美化大同小异，在此仅用温和气候来做示范】\n【其他教程请参考红警地图吧置顶】\n```\n\n## 【一些废话】\n\n想写个野外地图地表美化的教程已经很久了，之前看见各位新人虽然地图可玩性高，产量高，可是地表美化方面依旧不够精细。于是乎，就有了现在这个教程，希望各位能因为我的一些经验，来让自己的美化技术变得更好吧。\n\n下面开始→_→\n\n## 【平地地表美化】\n\n1.\n\n![](./01.webp)\n\n大家有没有注意到这个？其实本教程最主要的就是对于”Shift“键的”连续绘制“的运用。运用”Shift“键可以更方便的画出一片形状更为不规则的地表。\n\n2.选择一种地表后，用”Shift“刷出来这种效果。\n\n![](./02.webp)\n\n3.\n\n![](./03.webp)\n\n之后选择另外的地表，继续用”Shift“刷，不过要注意的是，千万不要刷出来较直的一条线，或者刷出一大片的地表，如下图：\n\n![](./04.webp)\n\n这样的地表看起来会非常不和谐，补救方法就是接着使用”Shift“键，使各种地表看起来尽量零碎些。\n\n4.平地美化基本就是这些，其他关于树木，岩石的美化我记得也有教程，不过在这里就先略过啦，只提两个建议：树木不要太过分散，也不要都挤在一起。树木下面尽量使用暗色草地/雪地草地等地表美化。\n\n## 【丘陵及悬崖地表美化】\n\n1.首先是悬崖教程，不学会做悬崖，怎么学悬崖美化？\n\n* CJD的悬崖教程：[http://tieba.baidu.com/p/506985930](http://tieba.baidu.com/p/506985930)\n* CJD的地图常见错误：[http://tieba.baidu.com/p/657117454](http://tieba.baidu.com/p/657117454)\n* Z1861的悬崖制作技巧：[http://tieba.baidu.com/p/1191654389](http://tieba.baidu.com/p/1191654389)\n* 如何画好地形：[http://tieba.baidu.com/p/295803133](http://tieba.baidu.com/p/295803133)\n\n2.下面开始谈丘陵及悬崖的美化，以温和气候为例，丘陵及悬崖的最好搭档是【碎石草地】和【暗色草地】，这两种地表和高低起伏的丘陵，悬崖搭配起来会比较和谐。\n\n3.以这个悬崖为例。\n\n![](./06.webp)\n\n4.\n\n![](./07.webp)\n\n首先，我用【碎石草地】美化悬崖，注意随时打开框架模式查看，不要把地表放到悬崖上去。如下图：\n\n![](./08.webp)\n\n打开框架模式后，悬崖会变成这个样子：\n\n![](./09.webp)\n\n【在这里要注意，看见斜坡中间那些单独的地形块了吗？一定不要忘了它们，也加些地表在它们上面吧。】【框架模式可以帮你找出悬崖及斜坡的错误。】\n\n5.加上些【暗色草地】吧，之后就会变成这个样子。\n\n![](./10.webp)\n\n注：悬崖及丘陵若使用上面的\"Shift\"键，就会很容易造成地形bug，所以在这里我建议一块一块的画地表。\n\n6.丘陵便是由斜坡构成的地形，框架模式下是这样的。\n\n![](./11.webp)\n\n这是美化过的丘陵，美化方式基本与悬崖相同。\n\n![](./12.webp)\n\n7.下面是一些美化过的悬崖及丘陵图片，仅供参考：\n\n![](./13.webp)![](./14.webp)![](./15.webp)\n\n8.总而言之，丘陵悬崖的美化最重要的就是细心，没有细心是出不了一幅好地图的。\n\n## 【水面美化】\n\n1.说到水面美化，就不得不提一下海岸的美化。\n\n![](./16.webp)\n\n如本图，沙滩切记不可以用方方正正的草地美化，而要用沙地进行过渡。\n\n![](./17.webp)\n\n这种方方正正的海滩现实中不会有的。\n\n2.不知道大家有没有注意在地形/地表中【0012 水岸】中的这两个地表，熟练的运用它俩美化海岸是很不错的。\n\n![](./18.webp)![](./20.webp)\n\n由于这两种海岸比较容易出现bug，所以建议开启框架模式。看见海岸的灰线了吗？一定要让它们连在一起，不然就会出现bug。\n\n做好之后，就是下图的模样：\n\n![](./21.webp)\n\n3.接下来就是水面的美化，水面推荐自己画，如果使用”Ctrl“键的填充模式，会变得很丑，详见原版盟军任务第十二关的水域。\n\n![](./22.webp)![](./23.webp)\n\n给你一片水面后，先放些礁石，礁石在地形/地表中的【0021 水面】里。\n\n![](./24.webp)\n\n然后可以用【沙地】地表画些小岛。小岛上可以放些石头或者树木。\n\n![](./25.webp)\n\n还可以在水中做几个悬崖。\n\n4.水面美化就是这些，算是美化中最简单的了，不过水面也是个及其容易出现bug的地方，如果出现bug，及时撤销，不要留下任何一个bug。\n\n## 【综合美化】\n\n综合美化又是什么呢，综合美化可以简单理解为把上述所有的美化结合到一起，还可以加上小路、农田、水路和瀑布等多种地形元素。那么怎么结合才会看起来比较和谐呢？\n\n下面举几个例子：\n\n![](./26.webp)![](./27.webp)![](./28.webp)![](./29.webp)\n\n综合美化时，一定要注意细节。如第一张图悬崖下草地的细节，第三张图的水桥【水桥注意事项：[http://tieba.baidu.com/p/657117454](http://tieba.baidu.com/p/657117454)】，还有第四张的小路【小路制作一定要有耐心，对于一幅野外图来说，小路往往是很耗时的。】\n\n总之综合美化也是个挺笼统的概念，不过只要这幅图你看的舒服，没有bug，并且你觉得你画的地形也算是个旅游景区（大雾），就可以了，相信你做的也是一幅很棒的地图。\n\n## 【利用触发美化】\n\n1.音效触发：\n\n在这里我推荐一种比较简单的音效触发，比较省时间，而且很好弄。\n\na.设置路径点，在你的地图上（推荐全部做完之后设置）找出你想发出声音的地方（风声、水声、鸟鸣等等），然后设置路径点，注意**0~7号路径点在遭遇战中是玩家位置，切记路径点要从8号开始设置**。\nb.建立一个触发，名称随意，如下图：\n\n![](./30.webp)\n\nc.事件选择51 随机延时… ，参数值一般写60，如下图：\n\n![](./31.webp)\n\nd.行为选择98 播放音效(随机)… ，下面的参数值就是在随机路径点将触发的音效，详细内容参考本楼最后。行为推荐新建几个，选择不同的声音参数，这样可以减少工作量，如下图：\n\n![](./32.webp)\n\ne.之后就可以进游戏检查一下了。\n\n2.光照触发：\n\n由于这个04不怎么用，所以请参考[http://tieba.baidu.com/p/1456094724](http://tieba.baidu.com/p/1456094724)\n\n3.闪电风暴/粒子动画：\n\n这两种触发不太常用，如果想了解可以在本贴内留言或加04的QQ。\n\n**【常用的Amb声音整理，来自于网络，貌似是阿克苏整理的？】**\n\n```\n_Amb_UrbanMurmur1\n连续而低沉的城市声音？\n_Amb_UrbanMurmur2\n同上\n_Amb_OceanHeavy\n大海的声音\n_Amb_BirdsHarbor\n海鸟（大概是吧……港口鸟……）的声音\n_Amb_Traffic\n繁忙的交通声\n_Amb_WindCold\n冷风吹的声音\n_Amb_OceanLight\n恕我无能……\n_Amb_WindPlains\n平原上的风的声音\n_Amb_BirdsPark\n鸟公园……大概是很多鸟的意思……\n_Amb_BirdsTemperate1\n温带鸟的声音\n_Amb_BirdsTemperate2\n同上\n_Amb_BirdsJungle1\n丛林鸟的声音\n_Amb_BirdsJungle2\n同上\n_Amb_CricketChirps\n蟋蟀等虫的叫声\n_Amb_CricketBed\n估计和鸟公园差不多……很多虫的叫声……\n_Amb_CricketBed\n潺潺的河流声\n_Amb_BirdsNightOwl\n猫头鹰(？大雾)的叫声\n_Amb_BirdsBeach\n海滩鸟的叫声……\n_Amb_WavesLake\n湖的波涛声\n_Amb_BirdsMorning\n早上的鸟叫声\n```\n\n## 【其他补充】\n\n04暂时没什么想到的了，这楼留着备用吧，顺便送上一些美化地表的视频和图文教程，仅供各位参考：\n\n* ※杯具的新手※：【视频】美化月球地表和温和地表[http://tieba.baidu.com/p/2167369286](http://tieba.baidu.com/p/2167369286)\n* 【视频】美化雪地地表 [http://tieba.baidu.com/p/2191134697](http://tieba.baidu.com/p/2191134697)\n* 格林·斯内克：【再也见不到如此标准的技术贴了】某斯内克的城市图经验谈..... [http://tieba.baidu.com/p/2478145620](http://tieba.baidu.com/p/2478145620)\n\n\n【顺便说一句：新手请务必把地图编辑器从里到外翻一遍，再把红警地图吧的置顶看一遍再去问其他地图大神问题，不然他们说的东西你都可能不知道是什么】。\n\n\n**作者网盘（内有作者的地图及其他著名mapper的网盘链接）**：[http://0402yjl.ys168.com/](http://0402yjl.ys168.com/)\n\n若红警之家等网站需要转载，请务必署名，否则将视为侵权\n\n"},{"title":"【未完成】地图的光照与灯光控制附示例","tags":["进阶","草稿"],"categories":"地形与美化","author":"天雪酱","excerpt":"## 全局\n\n> AuY\n\nFA2 -> 编辑 -> 光照设置 [Lighting]\n\n【图片】\n\n看第一栏，“环境照明”即为地图整体亮度，默认`1`（比较亮）；“光照等级”为地形高度每增加 1 级时","link":"/posts/map-lighting-and-lamp","content":"## 全局\n\n> AuY\n\nFA2 -> 编辑 -> 光照设置 [Lighting]\n\n【图片】\n\n看第一栏，“环境照明”即为地图整体亮度，默认`1`（比较亮）；“光照等级”为地形高度每增加 1 级时增加的亮度，默认`0.032`（比较明显），建议写小以消除不同高度地形间难看的锯齿，以及山地图里异常明亮的山顶。“地面”为高度为 0 的地形的额外亮度。红、绿、蓝控制地图整体色调，适当修改可做出黄昏等效果。\n\n第二栏为闪电风暴时的光照。第三栏为心灵控制时的。也许你的 FA2 隐藏了部分条目，但它们在地图文件内都是真实存在的，可以手动找到并且修改。\n\n### 触发控制\n\n注意事项\n\nYR 地图中与光照改变有关的动作（Actions）有三个，包括71、72和73号，以下为其解释和使用方法：[关于环境光照变化动作的研究 - 红警DIY论坛](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=24104)\n\n## 局部\n\n```ini\n\n[AudioVisual]\nExtraUnitLight=.2                战车额外发光0.2\nExtraInfantryLight=.2                步兵额外发光0.2\nExtraAircraftLight=.2                航空器额外发光0.2\n\n用在建筑上。\nLightBlueTint=  填数值。这个代码指定建筑的发光程度，这里发的是蓝光。默认值是1.0。 \nLightGreenTint=  填数值。这个代码指定建筑的发光程度，这里发的是绿光。默认值是1.0。   \nLightRedTint=  填数值。这个代码指定建筑的发光程度，这里发的是红光。默认值是1.0。 \nLightIntensity=  填数值。这个代码指定建筑的发光强度。默认值是0.0，即不发光。\nLightVisibility=  填数值。这个代码指定建筑物发光的能见程度，数值越大，光的覆盖面积越大。默认值是5000。\n\n\n\n```\n\n### 灯光建筑\n\n\n\n### 路灯\n\n```ini\n\n\n```\n\n### 探照灯\n\n\n\n## 实例\n\n### 各种光照\n\n图片\n\n### 各种场景\n\n矿\n\n### 海底地图\n\n> 作者：鹰肉丸子，作品：颤抖的最后珊瑚\n\n通过改变光照，模拟水底的效果，然后修改各种单位的属性（潜艇浮空），使其更真实。\n\n1. 修改光照为`环境照明 0.542  等级 0  红色 0.28  绿色 0.53  蓝色 0.78`\n2. 以文本方式打开地图文件，开头空出一行，将`沉水代码.txt`中的全部内容复制进去。\n\n<TxDownload size='13KB' netdisk='' direct='沉水代码.txt' name='沉水代码.txt' />\n\n### 昼夜循环\n\n使用 24 小时光照循环脚本，自动帮你添加上百个触发。\n\n<TxDownload size='108KB' netdisk='' direct='破人工具脚本大全2.8.zip' name='破人工具脚本大全2.8' />\n\n或者使用这个，手动添加到地图中，[符合天文學的晝夜交替系統參數 - 红警DIY论坛](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=24094&extra=page%3D1)\n\n"},{"title":"地图制作入门引导","tags":["入门"],"categories":"思想","author":"天雪酱","excerpt":"<center>——我该如何入坑地图制作？</center>\n\n能点开阅读这篇文章，说明你对 RA2 地图制作有一定的兴趣，那么你该怎样开始地图制作呢？\n\n*此文章不传授具体的制作方法，而意在描绘地图","link":"/posts/map-making-get-started/index%201","content":"<center>——我该如何入坑地图制作？</center>\n\n能点开阅读这篇文章，说明你对 RA2 地图制作有一定的兴趣，那么你该怎样开始地图制作呢？\n\n*此文章不传授具体的制作方法，而意在描绘地图制作领域的图景，帮助你选择自己的道路。*\n\n## 首先要了解RA2有哪些地图\n\nRA2 的地图是多种多样的，按类型分，有普通遭遇战地图、任务地图、合作任务地图（本质也是遭遇战）等；按使用场景分，有战网联机地图、用于纯净RA2及尤里复仇的地图，还有 MOD 专用地图；按作者倾向分，有专精风景的地图、专注可玩性的地图，更多的是两者都要的地图。根据地图类型的不同，地图具体的制作方式、侧重点以及学习路径也不尽相同。\n\n![【图片-多种多样的地图】](./maptype.webp)\n\n就咱所了解到的**现状**来说，**普通的遭遇战地图创作**已经没落，就算有也多半是各个MOD专属，虽然多年前遭遇战地图创作非常流行。而**用于联机的遭遇战地图**（PVP、多人防守等）近年来仍然在战网等平台兴盛，也有许多创新玩法，一般更注重可玩性而非美观。由于咱对联机和对战没兴趣（感觉太累），就没有更多见解了。\n\n**任务地图**的话，基于尤里复仇的任务地图是最典型的，咱之前也做过几个，多年前非常流行，后面可能是由于*老人退坑/MO的虹吸*，渐渐的少了。不过，近年来也出现了挺多质量可以的尤里复仇多关任务包。而基于原版 RA2 的任务图早就很少了。咱这里就不细讲单兵任务、rpg 任务、基地战任务等等分类了。**此教程集基本上就基于尤里复仇的任务地图编写**。\n\n**基于 MOD 的地图**，当属 MO（心灵终结）一家独大，仅 MO3 官方就有单人+合作超过100关任务，还有不少各种模式的遭遇战地图，也可联机，质量也都可以。而 MO3 的新科技树、大量新摆件新地形、复杂的剧情，以及内置地图编辑器，让它有了巨大的**二次创作**空间。所以近年来基于MO3的自制地图无论是遭遇战还是任务都非常多。不过这么多新东西**初见是很难熟悉并且驾驭**的，玩的时间短的话不建议做图，而且寄人篱下**有利也有弊**。个人建议先从原版尤里复仇做起。\n\n**其他 MOD** 的话，复仇时刻、世界轴承、TC2、New Departure 等**也有不少好的战役**，不过咱大部分还没玩过，没有更多了解。许多新兴的 MOD 目前还缺少配套的战役，若你学有所成，可以**去帮忙做**。\n\n了解了这些，你就可以大致想想自己想做什么地图了。当然，因为**普通遭遇战地图**是最基础最简单的，你首先要会做它才行。\n\n## 其次想想制作地图的目的\n\n做地图，便是有做地图的目的，可能是自娱自乐，可能是想做一个属于自己的作品，可能是想书写一个故事，可能是做出来想给别人玩，也可能只是随便试试，或者各种成分都有。弄清了自己的主要目的，也就找到了自己做图时的侧重点。自娱自乐，那就无须考虑别人的看法；想要获得认可，那就应该多听听别人的建议。\n\n一般来说，做地图与写小说、画画、拍电影类似，也属于创作，援引《mapper 核心思维指导》里的话，也是在**创作一件艺术品**，以**表达自身的情感**。\n\n虽然我们目前可以做出很棒的 MOD 与地图，但终究，RA2 在不断地**老去**，制作 MOD 与地图，也只是一种**创造性的娱乐**唉，没有金钱回报，不应投入过多精力<AFace face=\"mys:37\"/>。\n\n## 接下来请尽量了解好的地图是什么样的\n\n做地图前，必然要先玩地图，无论是玩官方图，还是自制任务，还是 MOD，其实都是在体验现成的地图。在体验的过程中，根据自己的感受，就可以了解到，一份好的地图，或者说自己喜欢的地图，有哪些特点。地形美观？设计合理？剧情有趣？有创意？难度合适？对战平衡？这些都是一份好的地图（任务）可以具备的特点。**多体验各种地图，心中就有了自己想要的地图的样子，就可以有方向地模仿并且再创造了**。\n\n目前，挺多 **MOD** 都内置了一些质量可以的战役或遭遇战，各自讲述了不同的故事。而**尤里复仇**的话，早年在任务之家和贴吧有不少经典作品，比如一些 RPG 型任务，后来也有 *林德拉克计划* 这样的现象级作品，在原版把地形、剧情、玩法设计、细节、新单位、难度把握等方面都做到了非常好的水平，影响了一大批玩家和作者。\n\n![【图片-林德拉克计划】](./ry.webp)\n\n另外，咱的网站[红警任务集锦](https://ra2map.github.io/rw/)/[MOD集锦](https://ra2map.github.io/rw/?c=mod)也收录了很多任务和 MOD（任务都是我玩过的或者没玩过但有名的），有想玩的可以去看<AFace face=\"a:7\"/>。\n\n当然，不要觉着自己永远赶不上别人，因为，**重要的是，做出属于自己的东西**，以作品为媒介，表达自己想表达的内容。文无第一，作品到了一定水准之后，就不用非得分出“哪个最好”来，都是独一无二的。好的任务多得是，**百花齐放才好**，各显身手，只要能有所得就足够了。\n\n## 到了学习具体制作技术的时候了\n\n现在的初学者们是幸运的，因为现在，网上已经有了很多的地图教程、有了很多的优秀案例、有了很多的辅助工具与新素材，还有咱的教程集<AFace face=\"a:4\" suffix='jpg'/>。所以，请根据此教程集，还有网上的其他资源，学习具体的地图制作吧，先从普通的遭遇战地图开始！\n\n## 多实践，多思考，多交流\n\n光看没用，下载了相关的工具，阅读了一些基础教程之后，就应该开始尝试了。\n\n**尝鲜阶段**，就随便新建地图，各种地形放一下，侧栏各种东西放一下，石头树木摆摆看，升降一下地形，看看悬崖什么样，打开框架模式试试，**最后在游戏里能进地图就算成功**。\n\n下图即为多年前咱的第一张地图，包含了各种粗糙的尝试。\n\n![【图片-我的第一张遭遇战地图】](./first.webp)\n\n**初学阶段**，该画一个完整的悬崖了，摆一个连贯的水岸，弄点地形起伏，摆一个简单的城区，有余力就弄一个简单的归属触发，最后简单打一场遭遇战。\n\n**往后**可以多学学如何把地图画得美观了。先构思主体，比如一个海滨城市，一个雪山秘密基地；再用场景填充地图，比如野外的悬崖树林，河流沙滩，乡间小路，城区的建筑群，公园，港口，居民区……这些都可以**做做看**。对于地图美化，此教程集里的其他条目有更详细的叙述。地图美化做起来往往是枯燥的，总感觉没完没了，但当你做完一个像样的区域，会知道你的时间没有白费，**这就是创作的感觉**<AFace face=\"a:9\" suffix='jpg'/>。\n\n普通的遭遇战地图并不需要多少**触发**。有环境类的车辆移动，风声鸟叫，设定、彩蛋类的改变归属等就足够了，就算没有触发也没事。不过单独的遭遇战地图没啥人玩……或许一些制作中的 MOD 会需要。如果你是想用于联机，可以看看红警战网（ra2ol）。\n\n如果想制作**任务地图**，就需要多学习触发，包括任务流程、作战小队等一大堆内容了，这些东西可能比较复杂，不过可以慢慢来。先做一个简单的摧毁胜利的流程，然后可以尝试做各种合适的场景了，比如任务开场，解救俘虏，援军，目标完成，AI出兵等等。对于触发等，此教程集里的其他条目也有更详细的叙述。\n\n在制作的过程中，如果遇到了困难，**要先动脑子思考**，想想是哪里的问题，并且查阅资料或者进行尝试，不要懒惰地不加思考就求助他人。这要求你有一定的思维以及信息检索能力。当然，如果一直想不出来，还是要询问他人（[提问的艺术](https://jfinal.com/share/937)）。不过教程里明显有的就不用问了。还有一点就是切记不要闭门造车，要多关注新的东西，提升自己的认知。\n\n## 进阶\n\n与创作其他东西类似，想要做出一份足够好的作品，需要好好琢磨要表达的内容本身及其在 RA2 中的表达方式，并且过程中不断收获新的认知和经验。具体的呢，可以看看此教程集【思想】分类中其他栏目。值得注意的是，这需要投入不少**时间和精力**，希望你有所准备。\n\n*以上就是本文的全部内容了，希望有感兴趣的人读过此文，可以顺利入坑！*\n\n![](./face.png)\n\n*作者：轻稚天雪*\n\n*2021-3-5 created*\n"},{"title":"地图制作入门引导","tags":["入门"],"categories":"思想","author":"天雪酱","excerpt":"<center>——我该如何入坑地图制作？</center>\n\n能点开阅读这篇文章，说明你对RA2地图制作有一定的兴趣，那么你该怎样开始地图制作呢？\n\n*此文章不传授具体的制作方法，而意在描绘地图制作","link":"/posts/map-making-get-started","content":"<center>——我该如何入坑地图制作？</center>\n\n能点开阅读这篇文章，说明你对RA2地图制作有一定的兴趣，那么你该怎样开始地图制作呢？\n\n*此文章不传授具体的制作方法，而意在描绘地图制作领域的图景，帮助你选择自己的道路。*\n\n## 首先要了解RA2有哪些地图\n\nRA2的地图是多种多样的，按类型分，有普通遭遇战地图、任务地图、合作任务地图（本质也是遭遇战）等；按使用场景分，有战网联机地图、用于纯净RA2及尤里复仇的地图，还有MOD专用地图；按作者倾向分，有专精风景的地图、专注可玩性的地图，更多的是两者都要的地图。根据地图类型的不同，地图具体的制作方式、侧重点以及学习路径也不尽相同。\n\n![【图片-多种多样的地图】](./maptype.webp)\n\n就咱所了解到的**现状**来说，**普通的遭遇战地图创作**已经没落，就算有也多半是各个MOD专属，虽然多年前遭遇战地图创作非常流行。而**用于联机的遭遇战地图**（PVP、多人防守等）近年来仍然在战网等平台兴盛，也有许多创新玩法，一般更注重可玩性而非美观。由于咱对联机和对战没兴趣（感觉太累），就没有更多见解了。\n\n**任务地图**的话，基于尤里复仇的任务地图是最典型的，咱之前也做过几个，多年前非常流行，后面可能是由于*老人退坑/MO的虹吸*，渐渐的少了。不过，近年来也出现了挺多质量可以的尤里复仇多关任务包。而基于原版RA2的任务图早就很少了。咱这里就不细讲单兵任务、rpg任务、基地战任务等等分类了。**此教程集基本上就基于尤里复仇的任务地图编写**。\n\n**基于MOD的地图**，当属MO（心灵终结）一家独大，仅MO3官方就有单人+合作超过100关任务，还有不少各种模式的遭遇战地图，也可联机，质量也都可以。而MO3的新科技树、大量新摆件新地形、复杂的剧情，以及内置地图编辑器，让它有了巨大的**二次创作**空间。所以近年来基于MO3的自制地图无论是遭遇战还是任务都非常多。不过这么多新东西**初见是很难熟悉并且驾驭**的，玩的时间短的话不建议做图，而且寄人篱下**有利也有弊**。个人建议先从原版尤里复仇做起。\n\n**其他MOD**的话，复仇时刻、世界轴承、TC2、New Departure等**也有不少好的战役**，不过咱大部分还没玩过，没有更多了解。许多新兴的MOD目前还缺少配套的战役，若你学有所成，可以**去帮忙做**。\n\n了解了这些，你就可以大致想想自己想做什么地图了。当然，因为**普通遭遇战地图**是最基础最简单的，你首先要会做它才行。\n\n## 其次想想制作地图的目的\n\n做地图，便是有做地图的目的，可能是自娱自乐，可能是想做一个属于自己的作品，可能是想书写一个故事，可能是做出来想给别人玩，也可能只是随便试试，或者各种成分都有。弄清了自己的主要目的，也就找到了自己做图时的侧重点。自娱自乐，那就无须考虑别人的看法；想要获得认可，那就应该多听听别人的建议。\n\n一般来说，做地图与写小说、画画、拍电影类似，也属于创作，援引《mapper核心思维指导》里的话，也是在**创作一件艺术品**，以**表达自身的情感**。\n\n虽然我们目前可以做出很棒的MOD与地图，但终究，RA2在不断地老去，制作MOD与地图，也只是一种**创造性的娱乐**唉，没有金钱回报，不应投入过多精力。\n\n## 接下来请尽量了解优秀的地图是什么样的\n\n做地图前，必然要先玩地图，无论是玩官方图，还是自制任务，还是MOD，其实都是在体验现成的地图。在体验的过程中，根据自己的感受，就可以了解到，一份好的地图，或者说自己喜欢的地图，有哪些特点。地形美观？设计合理？剧情有趣？有创意？难度合适？对战平衡？这些都是一份好的地图（任务）可以具备的特点。**多体验各种地图，心中就有了自己想要的地图的样子，就可以有方向地模仿并且再创造了**。\n\n目前，挺多**MOD**都内置了一些质量可以的战役或遭遇战，各自讲述了不同的故事。而**尤里复仇**的话，早年在任务之家和贴吧有不少经典作品，比如一些RPG型任务，后来也有*林德拉克计划*这样的现象级作品，在原版把地形、剧情、玩法设计、细节、新单位、难度把握等方面都做到了非常好的水平，影响了一大批玩家和作者。\n\n![【图片-林德拉克计划】](./ry.webp)\n\n另外，咱的网站[红警任务集锦](https://ra2map.github.io/rw/)/[MOD集锦](https://ra2map.github.io/rw/?c=mod)也收录了很多任务和MOD（任务都是我玩过的或者没玩过但有名的），有想玩的可以去看。\n\n当然，不要觉着自己永远比不上别人，因为，**重要的是，做出属于自己的东西**，以作品为媒介，表达自己想表达的内容。文无第一，作品到了一定水准之后，其实不用非要分出“哪个最好”来，都是独一无二的。好的任务多得是，**百花齐放才好**，各显身手，只要能有所得就足够了。\n\n## 到了学习具体制作技术的时候了\n\n现在的初学者们是幸运的，因为现在，网上已经有了很多的地图教程、有了很多的优秀案例、有了很多的辅助工具与新素材，还有咱的教程集////w。所以，请根据此教程集，还有网上的其他资源，学习具体的地图制作吧，先从普通的遭遇战地图开始！\n\n## 多实践，多思考，多交流\n\n光看没用，下载了相关的工具，阅读了一些基础教程之后，就应该开始尝试了。\n\n尝鲜阶段，就学习新建地图，各种地形放一下，侧栏各种东西放一下，石头树木摆摆看，升降一下地形，看看悬崖什么样，打开框架模式试试，**最后在游戏里能进地图就算成功**。\n\n下图即为多年前咱的第一张地图，包含了各种粗糙的尝试。\n\n![【图片-我的第一张遭遇战地图】](./first.webp)\n\n初学阶段，该画一个完整的悬崖了，摆一个连贯的水岸，弄点地形起伏，摆一个简单的城区，有余力就弄一个简单的归属触发，最后简单打一场遭遇战。\n\n往后可以多学学如何把地图画得美观了。先构思主体，比如一个海滨城市，一个雪山秘密基地；再用场景填充地图，比如野外的悬崖树林，河流沙滩，乡间小路，城区的建筑群，公园，港口，居民区……这些都可以**做做看**。对于地图美化，此教程集里的其他条目有更详细的叙述。地图美化做起来往往是枯燥的，总感觉没完没了，但当你做完一个像样的区域，会知道你的时间没有白费，**这就是创作的感觉**。\n\n普通的遭遇战地图并不需要多少触发。有环境类的车辆移动，风声鸟叫，设定、彩蛋类的改变归属等就足够了，就算没有触发也没事。不过单独的遭遇战地图没啥人玩……或许一些制作中的MOD会需要。如果你是想用于联机，可以看看红警战网（ra2ol）。\n\n如果想制作任务地图，就需要多学习**触发**，包括任务流程、作战小队等一大堆内容了，这些东西可能比较复杂，不过可以慢慢来。先做一个简单的摧毁胜利的流程，然后可以尝试做各种合适的场景了，比如任务开场，解救俘虏，援军，目标完成，AI出兵等等。对于触发等，此教程集里的其他条目也有更详细的叙述。\n\n在制作的过程中，如果遇到了困难，**要先动脑子思考**，想想是哪里的问题，并且查阅资料或者进行尝试，不要懒惰地不加思考就求助他人。这要求你有一定的思维以及信息检索能力。当然，如果一直想不出来，还是要询问他人（[提问的艺术](https://jfinal.com/share/937)）。不过教程里明显有的就不用问了。还有一点就是切记不要闭门造车，要多关注新的东西，提升自己的认知。\n\n## 进阶\n\n与创作其他东西类似，想要做出一份足够好的作品，需要投入不少时间和精力，并且不断琢磨要表达的内容本身，以及在RA2中的表达方式，然后将新的认知和想法投入实践。具体的呢，可以看看此教程集【思想】分类中其他栏目。\n\n*以上就是本文的全部内容了，希望有感兴趣的人读过此文，可以顺利入坑！*\n\n![](./face.png)\n\n*作者：轻稚天雪*\n\n*2021-3-5 created*\n"},{"title":"地图渲染器及其用法","tags":["入门"],"categories":"工具与调试","author":"天雪酱","excerpt":"此文提供 ra2 地图渲染器的下载和使用方法。它可以将地图渲染生成全景图，供人参考和欣赏。\n\n> 部分内容参考了：[【工具教程】地图截图器](https://www.bilibili.com/read","link":"/posts/map-renderer-guide","content":"此文提供 ra2 地图渲染器的下载和使用方法。它可以将地图渲染生成全景图，供人参考和欣赏。\n\n> 部分内容参考了：[【工具教程】地图截图器](https://www.bilibili.com/read/cv26602758/)，[全息截图器的简易用法](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=14347)\n\n## 下载\n\n<TxDownload size='1.06MB' netdisk='' direct='CNCMaps_20211214.7z' name='CNCMaps_20211214.7z' />\n\n> 软件来自[https://ppmforums.com/topic-29554-page-5/cnc-maps-renderer-rewritten-works-for-tiberian-sun-and-ra2/?postorder=asc](https://ppmforums.com/topic-29554-page-5/cnc-maps-renderer-rewritten-works-for-tiberian-sun-and-ra2/?postorder=asc)，仓库地址[https://github.com/zzattack/ccmaps-net](https://github.com/zzattack/ccmaps-net)\n\n汉化版（需要阅读权限）：[一个汉化版的全息截图器 - 红警DIY论坛](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=24132&extra=page%3D1)\n\n## 用法\n\n> 以`2.4.2.0(20211214)`版本为准。你也可以直接阅读界面上的英文描述，而此章节不只有选项意义，也有使用经验和细节。\n\n![](./01.png)\n\n如图，软件有5个面板，Main settings, Misc settings, Batch process, Log 和 About。About 面板为开发者相关信息，Log 面板用于显示运行日志以供参考，下文主要讲解前三个面板。\n\n首先，`Input map`为你需要渲染的**地图文件路径**，`Mix files`为你的游戏的根目录，默认为你运行过 RegSetMD.exe（注册程序）的目录，当然你也可以指定一个别的。对于有较大改动的 MOD 比如 MO，此选项无效，稍后再讲。\n\n::: warning\n如果你使用 **Win7** 或更早的操作系统，两个目录都不要出现中文字符！其他系统没事。\n:::\n\n`Image output formats`为**图片的输出格式**，可以指定是否输出 **jpg** 文件及其编码质量（质量越好体积越大，如果太小会不堪入目），以及是否输出 **png** 文件及其压缩率（越高越慢越小）。一般选择 jpg，质量 60~80 就够了，如果选择 png，压缩率最好高一些。以我自己的一张约 100X100 的地图为例，jpg-60 图片约 2MB，png-9 约 16MB，jpg-100 约 14MB。`Output thumbnail`为输出缩略图及其格式，可以指定其宽/高/是否保持纵横比。\n\n`Output file naming`为图片指定名称，分别是**使用文件名**，**自动命名**（根据 [Basic] 下的 Name 的值以及 CSF 文件，请确保你做好了命名），以及**自定义名称**。另外，如果你在名称中输入路径，如`e:\\name`，则会渲染到指定目录下。**默认图片会保存到地图所在的地方**（在log面板中可以看到）。\n\n`Engine mode`为选择需要模拟的游戏引擎，一般选择 Auto Detect 或 Force YR。\n\n最后的`Command`为最终调用的命令行参数，内容会根据选项自动生成，不用改，可能从外部调用地图渲染器的时候会用到。\n\n### 加载mod相关配置\n\n这一节难度比较高，如果你**不**为 MO 等 MOD 生成地图，可以跳过。<!--todo 是否读取裸地形和artini-->\n\n![](./03.png)\n\n#### 仅使用\n\n以 MO 为例，打开 MO 目录下自带的渲染器 Map Renderer，里面有一个 mo_config.xml，如果你用 MO 自带的渲染器，应该是默认选中了，不用管。如果你用别的渲染器，或者是别的 MOD，需要在 File 菜单打开一个 xml 文件（注意其内 Directories 需指向游戏目录），然后 OK。\n\n#### 编写\n\n需要你有 MOD/MIX/地形文件相关知识，见[https://www.bilibili.com/read/cv26602758/](https://www.bilibili.com/read/cv26602758/)。\n\n### 细节选项\n\n在 Misc settings 面板，你可以指定各种渲染细节。\n\n![](./02.png)\n\n`Start positions marking`为玩家出生点标记，用于**遭遇战地图**。勾选则会在图片上标记玩家出生点。也可以指定标记方式及其大小，默认就好。\n\n`Map modifications`区域内的选项会修改地图本体，**慎用**！\n\n1. 第一个为用生成的全景图缩小版替换地图预览图（遭遇战选图时的预览），要下拉选择一个选项，暂不清楚第2,3,4个选项的区别。不过现在都是用DTA客户端显示预览了，不太用得到它了。\n2. `Compress Tile Pack`为压缩地图，会减小原地图大小；\n3. `Fix Tiles，Fix Overlays`分别为修复地图中未知的地形和覆盖图，或许可以挽救损坏的地图。\n4. `Map backup`为修改前备份地图（备份为 .bkp 文件）。\n\n`Additional markings`为附加标记，选项分别为：\n\n1. 强调资源区域，会把金矿涂成黄色，把宝石矿涂成紫色，用于**遭遇战地图**，如图所示；\n2. 标记冰的生长（仅用于TS雪地图）；\n3. 显示隧道路径；提升隧道路径的高度；\n4. 在渲染完后显示预览窗口，如图所示，shadows 标签页意义不明。\n\n![](./05.webp)\n\n`Sizing mode`为地图渲染范围，前两者生成地图可视区域（蓝线）内截图，后者生成完整地图截图（用于**任务地图**）。\n\n### 批量渲染\n\n渲染器最近的几个版本新增了一个很有用的功能——批量渲染。在第三个面板`Batch process`内，你可以添加地图或清空列表，然后开始批处理。在开始之前，你需要先在前两个面板内设定好配置，注意**不要**选择自定义文件名，否则会只剩下一张（如果地图在同一目录）。最终程序会按同一套配置渲染所有地图。\n\n## 其他\n\n软件需要微软 .NET 运行库，若打不开自行搜索安装。如在渲染途中遇到错误（显示在 log 面板中），请根据 log 内提示处理。其他错误可能为选择的配置不正确。\n\n> 此文可能存在不足，欢迎大家提出修改建议。若您有任何异议，也可进行反馈。\n\n\n\n\n\n"},{"title":"mapper核心思维指导","tags":["进阶"],"categories":"思想","author":"天雪酱","excerpt":"*By：MorgensternHXD*\n\n自2000年Westwood发布RA2至今已有17载的光华春秋，在这漫漫的17年中，与其相关的DIY技术也在广大爱好者的不断研究和探索中取得了巨大的发展，优秀","link":"/posts/mapper-core-thinking-guide","content":"*By：MorgensternHXD*\n\n自2000年Westwood发布RA2至今已有17载的光华春秋，在这漫漫的17年中，与其相关的DIY技术也在广大爱好者的不断研究和探索中取得了巨大的发展，优秀的DIY作品也是层出不穷。尤其是近5年来，更是有许多DIY作品的质量水平已远超当年的官方。在当今，经过多代前辈们的拓荒之后，各方面的地图教程已经相当完备，新手对于地图技术的学习也变得前所未有的容易。本篇文章的目的意在**阐明一个优秀mapper所应具有的思维基础**；并补齐技术性教程之外**地图绘制思维指导**方面的空缺。碍于我仅仅只涉足于地图领域不到5年，个人制图经验不足，故学术多有不精，如有不同见解，还望指出。\n\n---\n[[toc]]\n\n<!----目录--\n\n* 地图美化思想\n* 地形设计思想\n* 触发编写思想\n* 任务的内部装修思想\n* 现时代mapper所应具有的觉悟\n* 杂谈＆感谢影响了我的人\n* 后记-->\n**本篇文章核心思想基础：思维引导行动**\n\n---\n\n## 【地图美化思想】\n\n“费尽心思去做地图美化的意义?”，“华而不实的地图美化到底有什么作用？”诸如此类都早已不是什么新鲜论题，也有许多前辈曾发帖论述过这类问题，我实在没有必要把它当成本节的侧重点再说一遍。故本篇文章将与此论题相关的其他内容归至第三节【现时代mapper所应具有的觉悟】中进行论述。\n\n就我个人的研究方向来讲，花费时间最多的就是地图美化，能力方面见长的也是地图美化，但与其他人提起美化技巧时，多数时候也仍是无话可讲...技术与艺术果然还是不能一概而论。琳琅满目的美化教程，所提供的只是**以技术方式模拟艺术**的模板，谓其本源，教程的编写者只有将自己艺术创作的思绪转化为技术，才能够完成对外界的表达。因此，想要自己的美化得到进步，所需要的是去通过体会比自己更优秀的mapper在自己作品中所蕴含的思绪；来**理解更优秀的思维方式**，从而获得自身的进步。以我自身举例，在我完成Quiet cityⅡ的制作之后，回头看自己往昔的作品，只能看到无数缺点但却找不到改进的方法，陷入了所谓的“瓶颈期”，但在见到sandman大大的作品之后，便确信自己找到了足够强大的“新模板”，经常对着一张截图端详数十分钟，吸收思想后运用到自己的作品中。经过很长一段时间半吊子式的模仿后，也总算是爬到了这座大山的半山腰（？）......回归刚刚的论题，地图美化因其艺术性区别于其他技术性制作技巧的特点，其优秀的定义也相比其他技巧较为模糊。这不免也为追求进步的mapper造成了麻烦“究竟如何才是好的？”，以我的个人经验来讲，我认为**在制作时只要把自己能想到的一切都尽全力去表现，在空闲时尽力去丰富自己的想法**，这样成就的作品内容自然就会丰富，至少也要比不假思索糊出的东西强得多。\n\n地图的绘制是一件耗时而辛苦的工作，对精益求精的mapper来说就更是如此了，因为在绘制时想要长时间保持思维的灵敏度；行云流水地进行绘制是一件非常困难的事，所以在空闲时间思维灵敏的时候对**地图场景**做一些设计会很好的帮助自己充实地图内容。（好像跑偏成技术性论述了Orz...）\n\n所谓地图场景，即地图中的微景观，类似于停车场、港口、机场、道路施工场地、杂物堆等都属于地图场景。地图场景与地图的关系就像是景观与园林之间的关系，丰富的微景观相互组合；最终构成整幅地图的风景画面。\n\n**本节总结：**\n\n成就优秀地图美化的基本思路，即：观察优秀作品——吸收思想——构思地图场景——构思结果——考虑调用的可行性——构思场景拼接方式——实际绘制——对比优秀作品——分析不足以及差距——吸收思想经验\n\n个人作品参考：\n\n![](./123-.webp)![](./45-.webp)![](./67-.webp)\n\n(以上图片中使用的MOD分别为TC泰伯利亚危机，EASB丧命时刻以及RN复仇时刻)\n\n---\n\n## 【地形设计思想】\n\n地形设计与地图美化之间的分界并不明显，现在的mapper大多数时候不会把这两项分开讨论。但我在考虑之后觉得，骨架和蒙罩物果然还是有很大区别......本附加节所论述的内容在野外地图中使用的几率相对城市地图要更大，而城市地图对于美化的要求相对野外地图要更高。\n\n**地形设计相对于地图美化来说是更为基础的技巧**，但它也往往会被忽视，不会像美化一样被摘出来单独强调。它的定位就像是建筑物的混凝土结构，所包含的内容应有悬崖、水面以及大致的地形起伏；在此之后的美化就相当于建筑物的装修工作，必须建立在混凝土结构的基础之上。与长时间要求保持思维灵敏的美化不同，地形的设计往往很快就能完成，但未经悉心设计的地形也往往会导致成品缺少独特感而显得平淡无味。地形设计对于**游戏流程，情节安排**的影响远大于美化，而观望者最先看到的也肯定是建筑物的形体，而不是它表面某一处的细节装饰，因此，想要在茫茫的地图大海中使自己的作品独树一帜，创作出像“东方明珠”“迪拜塔”一样的作品，我们最先需要的就是它们的“图纸”，也就是在心中做出完整的规划（要求提前做出规划，这点类似地图场景）。在进行规划的同时也要注意不要忘记自己的风格，并勇于做出创新（举例：悬崖走势的组合运用，隧道的灵活运用）。\n\n创新，说起来容易，可实践起来却是需要十分灵敏的思维，在自己灵感不足的时候，不妨去观察一下现实中的地形，大自然的鬼斧神工永远是mapper最好的老师。\n\n地形元素，即为区域范围内的地形（地图场景的骨架），例如：峡谷瀑布组合、盆地湖泊组合、多裂谷风蚀地貌等。\n\n**本节内容总结：**\n\n设计独树一帜的地形的基本思路：熟练拼制悬崖（基本要求）——观察现实地形图（推荐分层设色地形图）——构思地形元素——构思元素组合方式——绘制大致地形图（手绘或数字形式亦可）——进行实际绘制\n\n---\n\n## 【触发编写思想】\n\n触发编写不像地图美化，是一种技术性很强的制图技巧，这也就意味着它相较于美化，学习时更加有迹可循，故本节内容将不再对技术性教程可以解决的简单的因果对应触发问题作出讲解。\n\n触发元素（姑且这么叫吧，实在找不到合适的名词Orz...）即为地图内经由一系列相互关联之后，可由某种判定因素激活，最终达成某种效果的系统的组成元件，例如：触发（包括属性、条件、结果）、AI触发、局部变量等，它们之间的关联形式如下图：\n\n![](./cf.webp)\n\n（本图只说明各元素之间的联系，具体的对应方式请参加其他教程）\n\n熟悉上图之后，我们便可以通过各种元素之间的相互组合做出一些单一触发无法实现的“黑科技”，这类组合系统我们可以称之为“组合触发”（并不一定全部由触发组成，此处的“触发”指广义上的判定结构）。在此我要强调一点，基础的代码知识也属于触发元素的一环，所以我建议mapper至少要对mod教程进行通读以拓展自己的思考范围。下面我举两个代码知识与触发结合的实例：\n\n**例1：特殊单位判定：让玩家通过自身的选择影响触发结果**\n\n想要让玩家通过自己的选择来影响触发，最常见的方式是通过触发条件“单位被选取”+局部变量来实现，但因其极易导致剧情出戏而具有一定的适用范围，在此我们将讲述另一种实现方式。\n\n想要让玩家自己选择触发的结果，重点便是如何实现“玩家选择”这个过程，查找触发条件后，我们发现“单位被选取”“进入事件”以及单位被攻击或摧毁类（包括受到伤害、渗透、科技类型不存在等）的触发条件可以由玩家通过自己的行为来实现触发，而“科技类型存在”这个触发条件却总是被人忽略。其实只要稍加思考，我们便可以获得另一种方案：ini新建一个用来激活触发的特殊单位，然后由玩家来选择建造即可实现我们的目的。（例如：魔王的宫殿）此方法联系单位建造条件以及高分量AI触发后亦可作为人类玩家和AI玩家的区分判定。\n\n**例2：要求达成某一条件后给予玩家一定金钱**\n\n我们都知道，编辑器中并不存在“给予...参战方金钱...”这样的触发结果，经过对各种可能性的思考之后我们将目标锁定在代码“ProduceCashStartup=”（建筑物被占领后获得金钱...），我们的方案就此完成：判定条件——更改带有“ProduceCashStartup=”的特殊建筑所属方为目标参战方，剩余的工作便是对各项参数的调整，使效果符合我们的预期。（此处不使用工程师小队占领目标建筑的原因是工程师小队的脚本对人类参战方无效）\n\n由于触发的可用参数众多，所以触发的灵活性无疑是所有触发元素（“触发元素”的含义参见前面的名词解释）中最强的，而局部变量的存在更是增强了触发间相互联系的能力，使原本就灵活的触发机制变得更加强大。举个简单的例子：“与”“或”“非”是组合触发中常见的三种判定结构，而局部变量在这三种结构中都担任着联系两个触发的枢纽作用（“或”和“非”中的局部变量一定条件下可用触发结果中的“禁止目标触发”代替）。局部变量对于构思“黑科技”组合触发的重要性不言而喻。\n\n**本节内容总结：**\n\n触发编写的基本思路，即：熟悉触发元素（基本要求）——提出触发效果——设想可能有关的元素——分析元素关联性——提出方案——调整参数   \n\n## 【任务的内部装修思想】\n\n任务想要吸引玩家，自然就需要拥有能够吸引玩家的闪光点，不论是精美的地形还是灵巧的触发，这一切任务元素都需要mapper来进行组织，因此既是编剧又是导演的mapper可谓是“身兼数职”\n\n以电影来作比喻的话，RA2任务就像是一部战争片，但RA2任务不同于电影的一点就是这是**一部可与观众“互动”的电影**。这也意味着mapper在身为编剧和导演的同时也是玩家的引导者，需要负责带领玩家体验整个游戏的过程，这也要求着mapper必须站在观众的角度时刻想象玩家对于自己安排的每个情节的感受，以设法改进自己的作品。\n\n作为一部电影，**开头必须要迅速营造一个良好的环境氛围**，快速吸引观众，让观众产生认真品味这部作品的欲望。因为RA2是一部战争游戏，所以快速营造氛围的最简单的方式，莫过于安插一个“好莱坞式开头”——紧握画面的紧张感与气氛的紧张感，精心编排一副战斗场面。（渗透或其他特殊类型任务亦可使用其他手法，但战斗场景开头最为范用） 精美的地形与宏大的战斗相结合，能够将玩家迅速代入剧情并提高玩家对于作品的第一评价。\n\n关于任务开头另外重要的一点是：千万不要拖沓！这一点问题在我所接触过的许多mod任务中都有体现。转移镜头，消散路径点周围黑幕等都是任务开头的常用技巧，但如果使用过度就会带慢任务节奏，影响开头气氛的渲染并使玩家不免感到厌烦。我个人的建议是：将任务开头要讲的故事压缩在最短的时间内进行表现，并在此期间尽量丰富画面内容，一切围绕核心原则“渲染气氛”进行。当然此处的“尽量丰富画面内容”指的是用来渲染气氛的内容，而并非指任务信息内容。短时间将大量信息堆给玩家只会让玩家晕头转向，并降低对作品的评价。\n\n当然，只拥有好的开头可不行，中间内容也需要我们来丰富完善，为保持作品在开头所营造的良好气氛，我们可以动用多方面的手段，像：**合适的灯光，不失时宜的文字触发，符合气氛的背景音乐，细节性的小触发等**都是我们的可选方案。不论使用了什么方法其目的都是为了保证“瞬间出戏”的情况绝对不会出现。（毕竟是战争游戏...建议csf的内容还是严肃一点比较好...）\n\n关于任务节奏：虽然RA2所表现的内容是战争，但它的本质却是一部游戏。故mapper在规划任务流程时应让玩家感觉到游戏形势尽在自己的掌握之中，若把任务流程设计得像真实的战场那么风云变幻，敌军的进攻小队从四面八方涌来（有特殊要求的防守任务除外），会让玩家难以把握节奏，感到自己的一切行动都是被流程安排所逼迫的，那无疑会降低玩家的体验。总而言之只有一点：一切流程安排皆以玩家的体验为重。\n\n防守任务应该让玩家在喘息与紧张之间循环，以保持合适的气氛紧张度。（参考原版酥7超时空防御战）\n\n渗透任务应该为玩家留有足够的探索空间，让玩家在适度紧张的气氛中完成任务。（参考原版萌5 暗夜）\n\n一般任务应顾忌到玩家的发展情况，合理安排进攻小队，让玩家能够规划自己的行动，实现自我拟定的小目标。\n\n想要知道玩家对于自己作品的感受不能只靠臆想，当然，找一个玩家一边询问感受一边修改作品也不现实。因此，想要进一步优化玩家体验，我们不妨把目光锁定在那些自己评价很高的作品上（这里的“作品”范围不仅限于RA2，影视、游戏、文学等皆属于这个范围），分析它们的情节安排，找出它们吸引自己的地方，加以变通后运用在自己的作品中。\n\n**本节内容总结：**\n\n优化玩家感受的基本思路：精心编排的开头——运用多种元素营造合适的气氛——分析自己所喜欢作品的优点——对比并完善任务结构安排\n\n## 【现时代mapper所应具有的觉悟】\n\n众所周知，RA2的玩家正在渐渐减少这是无可异议的事实，在这样的环境条件下，mapper以及其他DIY爱好者是否仍有坚守的意义…为明晰这一问题的答案，我们需要寻溯这一问题的伊始——我们自己\n\n最初接触的颜色、最初受到感触的文章、最初受到感动的音乐、虽然人各有异，但只要以创作领域为目标，那么自己的原点就举足轻重。不论是希望与玩家分享游戏的乐趣，不论是为了宣扬自己所希望贯彻的信条，哪怕亦或只是渴望证明自己的能力，创作者的这份心情已经在编制作品的过程中融入并促成了作品…基于创作者创作目的的不同，作品中所包含的信息也出现了多重的传达对象，这些对象可以是普通玩家，亦可是同样身为mapper的他人。对象身份的不同，也导致了对于作品解读方式的不同，所体会到的信息内容也定然不同...创作者若是明晰了这一点并加以利用，则可谓之颖悟绝伦。\n\n艺术的产生过程分为两个部分，一是**作者**将自己的感情运用各种手法加以编制后浓缩在作品中，二是**体验者**基于自己对作品的感情体验进行的再创造，在产生艺术的过程中，作者与体验者已经完成了思想的交流，若是体验者向作者反馈自己的想法，那么这种交流就是双向的，这种交流的出现也正是对作者付出心血的最大认可。RA2地图的创作也一样如此，也许有人觉得游戏地图实在难归艺术之列，但就艺术的产生过程来看，不论mapper创作地图的动机是什么，其中一定包含了创作者有意亦或无意的感情，不论作者希望传达的对象是否为玩家，体验者定然存在，就此看来，mapper的创作确实是符合**艺术**的定义标准的。就此，明白了自己也身为艺术家的各位，是不是有一点小小的自豪感了呢（笑~），这份自豪感也正是对于自己拥有向外界表达情感能力的证明。\n\n经过之前的论述，我们再次回归那个开始时的问题“我们究竟为什么而创作”。如果你理解了之前的内容，想必此时的你已经能够拿出问题的答案了...我们创作动力的本源一定不是为了玩家或其他的人，为RA2添加生命力更是冠冕堂皇的空话，说是因为创作的乐趣也只是表层的浮沫，这所有的一切全都来源于人最简单原始的渴望——**对外界表达自身的情感**。或许有人觉得这种说法太过冰冷严苛，但在这个没落的时代，在弥留与放弃之间踌躇的自己是在没有办法不去怀疑，怀疑自己究竟在为了什么而作...这幅答案，便是我寻找到的，希望自己可以称之为信条亦或信仰的，始终坚守的东西。不论信仰的对象是自己的能力，是创作的热情，还是绝对强于自己的目标，要说信仰能带来什么，**那就是力量**。因为有相信的道路，所以才能笔直前行。如果带着迷茫前进，到了关键时刻就无法发挥全力。这样的理解方式或许有些悲哀，但现时代mapper的处境确实已经悲哀到了需要为自己的存在寻找理由的地步...当然这也只是我的个人想法，并不代表DIY圈的集体观念。\n\n承接上一观点，认识到创作是为了表述情感后，情感传达的对象似乎应该是创作者动力的来源，但对象的流失我们自然也无法左右，多数创作者在此时都会将自己的目标进行转移：**由希望拥有尽可能多的体验对象转变为尽可能提高小部分体验对象的体验质量**（再次强调，体验对象不只包括玩家），这也正是近几年来DIY圈技术爆炸的重要原因之一，毫无疑问技术爆炸**为创作带来了更多可用的手法，但也拔高了新人的入门标准**，对于玩家来讲，可供选择的优秀作品增多，曾经的创新如今看来已经是陈年旧物不再稀罕，这两点又在加速了传达对象的流失的同时又为还在坚守的创作者们带来了巨大压力，这种压力在迫使创作者们走向一个极端——将自己关入象牙塔之中。\n\n简单解释一下，如果你认为自己的创作不是为了任何人、任何事，不再关心创作的意义，只是为做好而去做，那么你就已经步入了象牙塔。对于步入象牙塔的人应该拥有这一信条：情感表达的极致——繁杂而不失协调。\n\n我个人并不反对这种创作态度，古往今来的那些举世无双的作品皆出自这样的人之手...不过，这也又是现时代创作者的另一份悲哀了...\n\n一路走来，我们所剩下的难道只有惋惜与悲哀吗...这也并不尽然，回想自己开心创作的日子，那份创作的喜悦，成功传达感情时的欣喜...这些都是真实存在的，除了这些宝贵的心情，创作在不经意间，还带给了我们许多其他的东西...\n\n回想我们自己还是新人的时候，在摸索前进时的兢兢业业，在遇到难题时的分析思考，这些都会是我们宝贵的经验。我们在学习技术时领悟到的思维方法，在制作作品时设想玩家感受的过程，以及到最后在作品完成发布时认真听取大家意见的经历，都是可以作用于我们的现实生活的宝贵财富，这些，都是我在作为RA2mapper的生涯中收获的意外之喜...仅仅因此我也会庆幸——**我，是一名mapper**\n\n十分感谢大家将这篇拙略浅薄的文章阅读至此，若大家多少有些共鸣的话，我想请大家再一次，再一次确定自己的身份——创作者。以下，我将引出另一个概念：创作者之心\n\n身为创作者，就应拥有属于创作者的骄傲，这份骄傲正是基于自己拥有向外界表达情感的能力而产生的，这份骄傲也要求我们时刻持有一种思想态度：创作者之心。对于玩家，我们自然不应妄自抱有阶级差距感，对于其他作者我们更应持以尊重，同为创作者的我们应该最能理解对方的创作本愿，尤其是在评价他人的作品时最不应忘记这一点（也许你认为”被别人指出自己的不足不是件好事吗？“但是技术和创造并不能一概而论。）...创作者之心的作用范围不仅仅限于RA2，对于其他领域的作品，我们在观赏体验时亦应尊重作者的情感，分析体会作者想要与我们分享的内容...这些思考方式也正是我们作为mapper的另一点收获。\n\n**本节内容总结：**\n\n现时代mapper所应具有的觉悟:\n* 创作欲望的产生：源自表达情感的渴望\n* 身为创作者的自豪：源于拥有表达情感的能力\n* 表达情感的极致：繁杂而不失协调\n* 身为创作者所能触及到的思绪：创作者之心\n\n## 【杂谈＆感谢影响了我的人】\n\n这篇文章写到这里，有一些内容本想依靠读者在本文章的引导下进行自我思考来传达，但我对自己的表达能力实在是没有多少信心，故决定在此单独列出：\n\n* “有实力的人必须给一无是处的人帮忙”像这样的规定只会让有才能的人单方面遭受损失。\n\n* 推开象牙塔的大门需要的是信仰之匙，你信仰的对象是自己的能力，是创作的热情，还是绝对强于自己的目标？\n\n* 对于自己能力不足的弥补方式：定点连线和思维沉淀。对于又笨又不喜欢努力的自己来说，想要做出夺人眼球的作品就必需将每一个最优秀时刻的自己相叠加。\n\n* 创作者之心影响着我们对于他人作品的认知态度和自己的创作态度。将心比心推己及人应是创作者之心的明确表现。另外，一无所知和索然无味的人体会不到这份感动，创作者应学会适应并做好相应的觉悟。\n\n* 永远不要忘记那些拓荒前辈们的重大贡献，虽然他们当时的作品现在看来可能已经落后，但正是因为他们的存在，我们的学习才会变得如此容易，我们才有可能走到比他们更远的距离。\n\n---\n\n至此，我要感谢在mapper之路上对我影响重大的四位老师\n\nR-koakuma （贴吧ID：R-koakuma）\n\nR-koakuma早年在爱拍视频的视频作品使我产生了对于自制地图的兴趣，并注册了自己的第一个百度账号，完成了我从玩家到创作者心态的转变，是我重要的启蒙老师。 \n\nModerKenosis  （贴吧ID：ModerKenosis）\n\nMK大大整理的mod教程深刻影响了我对于mod和地图创作的认知方式，基础功能相互组合达成高级功能的方式不论在mod还是地图领域都是重要的基本思路。另外MK大大为DIY圈风气的维护做出了重大贡献，为我及之后的新人们创造了良好的学习空间和氛围，是对我影响最为深远的老师。\n\nMadman-M （贴吧ID：Madman-M）\n\nMadman-M是正式和我确认师徒关系的第一位老师，十分感谢您教会了我制作shp和vxl，使我的创作思维得到了拓展，并使我有机会接触到了其他DIY领域的各位前辈。您因为我异想天开的想法而一起与我鼓捣到深夜的每一天都将是我最珍贵的记忆，十分感谢您纵容了我当时的任性。除了在技术上的指导之外，Madman-M在其他方面也给予了我许多关怀，是我最温柔亲切的老师。您送给我的书籍我一定会永远珍藏。（小雪人=w=）\n\nSandman （贴吧ID：a351650226）\n\nSandman担任了MO3的地形设计和任务制作，是我所见到的技术水准最高的mapper之一（也许不需要加“之一”）。他的作品让我看到了RA2地图的表现力究竟可以做到什么地步，在第一次观摩到他的作品时我的心中只充满了难以言表的震惊，他对于地图细节和整体结构的处理可以说几乎达到了RA2地图的极限。他的作品深刻影响了我在创作后期对于地图制作的态度，让我重新开始审视地图制作并看到了地图之外的东西。他是当之无愧的“造梦先生”\n\n之后我还要感谢那些曾经与我交流，使我在你们的作品中吸收到了宝贵经验的前辈们\n\n感谢雌鹿前辈，紫龙前辈，塞恩前辈， 等诸多恕我无法在此一一列举的前辈们...\n\n感谢一路上曾经与我相伴的朋友们，感谢地图未来，雾之糊，麦帕之家的各位，感谢你们给予我的温暖与关照，让我在这个领域探索的过程中收获了许多意外之喜。\n\n感谢至今仍在DIY领域坚守的各位，愿大家永远怀有对于RA2永恒不变的热忱之心。\n\n感谢此时阅读这些拙略浅薄文字的你，是你们的存在让我的所作所为拥有了意义，十分感谢...\n\n---\n\n## 【后记】（也许是后记之后的后记=。=）\n\n这篇文章是我断断续续历时6个月写的，期间自己想到的很多，最后写出来却没有多少...中间自己的心情变化了许多次，同时我也不停的在怀疑、在害怕，怀疑自己的想法和语言是否太过幼稚，又害怕自己的这份心情是否能够传达到大家的心中......现在看来，即使是幼稚也无所谓了，因为自己已经做出了尝试...\n\n对不起，最后变成了一篇杂乱的文章，但我只是把想到的东西原原本本写了下来......\n\n---\n\n鸣谢：\n\nSandman ,极音艾可 帮我审阅了触发部分的初稿并提出了意见\n\nDexterBell帮我审阅了【现时代mapper所应具有的觉悟】部分的初稿并提出了意见（虽然意见都很中肯得当，但我最后并没有做出修改...有些东西我实在不知道该如何表达，这是我个人的能力问题，十分抱歉....）\n\n*另外，关于定点连线和思维沉淀对于地图制作以及其他领域的作用我认为有必要结合实际进行叙述...除此以外我还接收到部分吧友认为地形和美化方面的处理比较困难的反馈，结合以上两点我准备另行起草《地图设计美化通则》，现已完成提纲，当然...具体是否进行写作仍决定于这篇文章的反馈。*\n\n*(欢迎提出对于本文的意见，联系QQ：182\\*\\*\\*\\*\\*19)*\n\n再次感谢读到这里的你\n\n2018/3/1     <span style=\"font-family:'Segoe Script'\">MorgensternHXD</span>\n\n————————————————————END————————————————————\n"},{"title":"电脑相关配置","tags":["入门"],"categories":"其他","author":"天雪酱","excerpt":"此文章不讲RA2相关内容，而是讲电脑上的一些操作，帮你更顺畅、高效地使用电脑，也有助于RA2相关创作。\n\n这里都是简要说说，更多自己去了解，知乎B站用起来。\n\n::: danger\n此文章内有不少我个","link":"/posts/pc-operating-skills","content":"此文章不讲RA2相关内容，而是讲电脑上的一些操作，帮你更顺畅、高效地使用电脑，也有助于RA2相关创作。\n\n这里都是简要说说，更多自己去了解，知乎B站用起来。\n\n::: danger\n此文章内有不少我个人的主观看法，不喜勿喷\n:::\n\n## 思维\n\n只说电脑相关。你要把你的电脑当做真正属于你的一个工具，并且**持续地了解、爱护和改进它**，以满足自己对电脑使用体验的一定追求。希望你手里的电脑是越来越好用的，而不是在成堆的广告中凑合度日。如果那样，你可能不适合深度使用电脑（进行RA2相关创作）。\n\n很多东西，只要保持学习的心态，时间久了自然就知道。\n\n## 显示文件扩展名\n\n很重要，不然你都改不了扩展名，有些秘密资源包你也解不开。图片以 WIN10 为例，其他系统自己搜，**后续操作也以WIN10为例**。\n\n![](./kzm.webp)\n\n## 解压\n\n基本的操作网上一搜就有，如果不会就不要再读了，关闭页面。只说技巧\n\n1. 一般解压是右键选“解压到当前文件夹”或“解压到 文件名\\\\”，要么选“...”弹出对话框自定义，也可以双击打开先看看里面是什么，再把文件拖出来\n2. 使用 bandizip 可以预览压缩文件，若是文件夹就选“解压到当前文件夹”，若是文件们就“解压到文件名\\\\”，如图\n3. 压缩的格式，哪款软件好，详情自己搜\n4. 特殊压缩文件，分卷，以 001 等数字结尾的，将所有放一起，解压第一个。\n\n![](./yl.webp)\n\n## 分辨率\n\n更大的分辨率能让你看到更多内容，提高效率，比如**在 FA2 内看到更多东西**。桌面右键-显示设置-更改缩放大小和分辨率。一般 15.6 的笔记本在 1920\\*1080 时选择 100% 比较合适（好像默认是 125%）。\n\n如果你想**超过最高分辨率**，需要更改显卡设置-DSR倍数（太旧的显卡/optimus的不支持），B站有一个屏幕显示整张冰天雪地的。效果不好，不宜日常使用。\n\n## 浏览器\n\n一般使用 WIN10/11 自带的 **EDGE 浏览器**就挺好了。现在浏览器都能导入导出书签（收藏），迁移不成问题。**原版 Chrome** 默认情况下账号、商店、更新无法访问，仅有能力者使用。不推荐**国内大厂的浏览器**，乱弹窗/推广告资讯、多管闲事是常态（很多人还觉得这样很亲切，理解尊重）。若选择**火狐**，也不要国内版。\n\n咱说下自己的使用习惯和技巧：\n\n* 非国产浏览器，点书签（收藏）会覆盖当前页打开，可以拖动到标签空白处或鼠标中键或按Ctrl点击，以在新标签页打开。\n* 自定义你的主页和新标签页，咱是用的扩展\n\n手机端则推荐 **VIA** 或 **X 浏览器**，小巧、强大、安静、本分。\n\n### 自用扩展\n\n* AdGuard，去广告\n* 篡改猴（油猴），新世界\n* 轻氧翻译\n* SingleFile，保存网页\n* Re-newtab，自定义的新标签页，EDGE 里没有，但是可以从 Chrome 迁移过去\n* （已弃用）小舒同学，自定义的新标签页\n\n## 安全\n\n主要是养成安全的习惯，仅从可信任的地方下载可执行文件，尽量不要在**商业下载站**下载。另外，定期备份重要文件。\n\n关于安全软件，个人不信任360/腾讯管家，其余就不说了。其实重点还是人，电脑知识越多就越不容易被管家或者病毒绑架，**再好的安全软件也挡不住你一路放行**。\n\n## 系统及其他\n\n系统默认 WIN10/11 就可以，通过[新补丁以及一系列配置]，其对 RA2 兼容性已经不差，许多 mod 都在 WIN10/11 上开发。\n\n**历史剪贴板**：按`win+V`开启，也可以下专门的剪贴板软件。\n\n**拖动移动文件**时，默认同盘符下是“移动”，不同就是“复制”，可以按 Ctrl 强制复制（同样适用于文本内容），或者按 shift 强制移动。\n\n在任务栏设置里，将**合并任务栏按钮**改为“从不”，提高切换窗口的效率。\n\n具体软件推荐见其他文章。\n\n### 硬盘\n\n每个硬盘之内不建议再分区，软件都装到C盘便是。分区多了浪费空间。把C盘弄那么小，然后各种抠抠搜搜，这不是自己难为自己吗。"},{"title":"平台bug：注册号漂移","tags":["进阶"],"categories":["其他教程","细节"],"author":"天雪酱","excerpt":"> Ra2map：本文转载自[【教程】平台bug：注册号漂移 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204594&extra=","link":"/posts/platform-bug-registration-number-shift","content":"> Ra2map：本文转载自[【教程】平台bug：注册号漂移 - 红警任务之家](http://pkuit.com/forum.php?mod=viewthread&tid=204594&extra=page%3D1)\n\n_本教程整理自我在2021.5.10回复visa6000提问的邮件。感谢他的提问。_\n\n\n相信不少任务制作者都遇到过一个坑：\n\n在FinalAlert中，有些地方需要使用**注册号**作为触发或者脚本的参数（比如触发条件“19 建造特定类型的建筑...”，触发结果“41 播放动画在...”，脚本“移动到己方建筑”等）。\n\n但我们时常发现，在使用原版的rules文件时，对于一些序号比较大的建筑或者动画，<strong style='color:blue;'>游戏内部实际起作用的序号</strong>（就是“填写这个注册号，触发和脚本才会正确的起作用”，下文全部用<strong style='color:blue;'>蓝色</strong>表示）、<strong style='color:green;'>地图编辑器中显示的序号</strong>（就是“地图编辑器下拉框中，我所需要的正确物品的名称对应的序号”，下文全部用<strong style='color:green;'>绿色</strong>表示）和<strong style='color:red;'>在rules文件中这一条目的注册号</strong>（下文全部用<strong style='color:red;'>红色</strong>表示）是存在差异的，或者说，是有“漂移”的。\n\n先举一个例子说明这三种序号的差别，以建筑列表的**尤里建造厂**为例：\n\n- <strong style='color:red;'>在rules文件中这一条目的注册号——305</strong>：在rulesmd.ini中可以查到，<strong style='color:red;'>305=YACNST</strong>\n- <strong style='color:green;'>地图编辑器中显示的序号——301</strong>：在地图编辑器中的下拉框中可以看到，<strong style='color:green;'>301 尤里建造厂</strong>\n- <strong style='color:blue;'>游戏内部实际起作用的序号——300</strong>：经过试验可以确认（地图编辑器里面300号是<strong style='color:blue;'>公车站</strong>，囧）。\n\n\n![](./01.jpg)\n\n这种漂移在建筑序号中是漂移一点点，但在动画列表中就是大幅度跳跃了。\n\n一个非常典型的例子就是超时空传送效果的动画，**CHRONOTG**，其正确的内部号码是<strong style='color:blue;'>257</strong>，然而在rulesmd的[Animations]注册表中的注册号是<strong style='color:red;'>668</strong>，在地图编辑器中显示的号码是<strong style='color:green;'>261</strong>。如果按照后两个号码来填写，前者会导致游戏直接出错，后者会播放错误的动画。\n\n---\n\n这种漂移已经算是bug了。那么这个bug有没有规律可言呢？答案是有的。\n\n在阅读原版的rulesmd.ini的时候，你会发现这些列表中的注册是有**重复**的，也有序号大幅度**跳跃**的状况：\n\n![](./02.jpg)\n\n上图是原版的rulesmd.ini中[Animations]注册表的一部分。可以注意到有效的注册号并不是连续的，<strong style='color:red;'>318</strong>之后跳到了<strong style='color:red;'>321，334</strong>之后直接跨越到了<strong style='color:red;'>500</strong>，然后又跳步到<strong style='color:red;'>510</strong>。游戏内部读取这些动画的时候，明显是按照读取的顺序，给每一项<strong style='color:blue;'>重新依次编号了</strong>。\n\n种种迹象表明，从<strong style='color:red;'>在rules文件中的注册号</strong>到<strong style='color:blue;'>游戏内部实际起作用的序号</strong>之间，重新编号的规律是这样的：\n\n- 从上到下按顺序读取每一个项目。\n- 空白的项目（只有注册号，等号后面没有东西）原样保留，不进行合并和删除。\n- 非空的重复项目，以先读取的项目为准，后面的会被删除。\n- 读取所有项目以后，再从头到尾从0开始重新编号。\n\n如果你有编程基础，你可以写一个程序来处理这种改变。\n\n而地图编辑器读取序号的时候，处理了“跳步”的问题，但是没有处理“重复”的问题，这导致<strong style='color:green;'>地图编辑器中显示的序号</strong>与另外两种序号可能都不一样。\n\n---\n\n下面举一个例子，以开头的**尤里建造厂**为例，手工分析一下各种序号的漂移状况：\n\n建筑列表的注册号从<strong style='color:red;'>1=GAPOWR</strong>开始的（而不是从0开始，这直接导致了漂移1号）；在<strong style='color:red;'>253、273和304</strong>各跳了1号；而<strong style='color:red;'>241=NAPSYA和185=NAPSYA</strong>注册了两次。没有其余的异常状况。\n\n因此对于<strong style='color:red;'>305=YACNST</strong>：\n\n- <strong style='color:blue;'>游戏内部实际起作用的序号</strong>漂移了5号，因此是<strong style='color:red;'>305</strong>-5=<strong style='color:blue;'>300</strong>\n- <strong style='color:green;'>地图编辑器中显示的序号</strong>相对<strong style='color:blue;'>游戏内部实际起作用的序号</strong>只漂移了1号（只有“NAPSYA注册了2次”影响它），因此是<strong style='color:blue;'>300</strong>+1=<strong style='color:green;'>301</strong>\n\n其实对于建筑列表，由于地图编辑器中显示的序号相对游戏内部实际起作用的序号只受“NAPSYA注册了2次”影响，因此就是241之前不漂移，241之后漂移1号，就这么简单。\n\n至于动画列表的漂移状况十分复杂，我还是用程序来处理吧……\n\n---\n\n说了这么多，有什么可以直接使用的结论吗？\n\n有。\n\n<TxDownload size='5.32KB' netdisk='' direct='rules注册号漂移计算-Downloads.zip' name='rules注册号漂移计算-Downloads.zip' />\n\n（2021.5.23更新：修复了由于搞错一个物体注册多次时的判定顺序而引发的局部漂移。）\n\n这其中的两个文件就是经过程序处理完毕的原版[Animations]和[BuildingTypes]注册表。你可以有两种办法来使用它：\n\n- 在你需要寻找某一个物体<strong style='color:blue;'>游戏内部实际起作用的序号</strong>的时候，就可以在对应的文件里面查找，找到的就是正确的序号，填到地图编辑器里面没问题。\n- 把这两个文件里面的列表复制到rulesmd.ini里面，覆盖原来的列表（如果你添加了新的物体，在后面按顺序正常注册即可）。覆盖完成以后，<strong style='color:blue;'>游戏内部实际起作用的序号</strong>、<strong style='color:green;'>地图编辑器中显示的序号</strong>和<strong style='color:red;'>在rules文件中这一条目的注册号</strong>会变得完全一致，也就是一劳永逸的修复了这个bug。\n\n---\n\n2021.5.21更新：\n\n我把计算注册号漂移的JavaScript程序打包进了一个网页，这样无需别的运行环境，只要一个浏览器就能打开运行了：\n\n<TxDownload size='8.95KB' netdisk='' direct='rules注册号漂移计算.html' name='rules注册号漂移计算.html' />\n\n（2021.5.22更新：修复了自动合并空条目的bug。现在不会合并空条目，与游戏内部表现一致。）\n\n可以直接使用这个程序导入你的rulesmd.ini来计算正确的注册号。\n\n2021.5.23更新：\n\n更改了一处错误的程序逻辑：一个物体注册多次，应该以先出现的那次为准，而非后出现的。"},{"title":"平台差异：载具离开地图时乘员的被摧毁判定","tags":["进阶"],"categories":["其他教程","细节"],"author":"天雪酱","excerpt":"> Ra2map：本文转载自[平台差异：载具移出地图边界时内部装载物的被摧毁判定 - 红警任务之家](http://www.pkuit.com/forum.php?mod=viewthread&tid","link":"/posts/platform-difference-about-vehicle-leaves-map","content":"> Ra2map：本文转载自[平台差异：载具移出地图边界时内部装载物的被摧毁判定 - 红警任务之家](http://www.pkuit.com/forum.php?mod=viewthread&tid=201266&extra=page%3D2)\n\nBy 竹蜻蜓 2017.7.27\n\n原谅我用了这么长的一个标题……这是我能描述清楚这个问题的最简洁的文字了。\n\n这里描述的是任务制作中的一个坑，是**尤里复仇原版平台1.000版本和1.001版本之间的差异导致触发执行结果不一致的坑**。几乎所有情况下，1.000和1.001版本在触发执行方面都表现的高度一致，但是这两天在 *@断绳伞兵* 测试我的任务的时候，出现了莫名的任务失败情况。经过我的排查和推断，终于发现了问题之所在，并稳定复现了这一问题。\n\n情况的具体描述是这样的：**一个运输载具装载着一个物体走出地图边界，这个物体在1.000版本内不会被判定为摧毁，而在1.001版本内有时会被判定为摧毁**。\n\n经反复试验，确定被判定摧毁的不是运输载具本身，而是运输载具内装载的物体（步兵和坦克），而且这种情况的发生与陆上和海上没有关系。\n\n我做了一个小Demo来演示这一差异。见all01umd.map\n\n<TxDownload size='330KB' netdisk='' direct='测试地图及说明.zip' name='测试地图及说明.zip' />\n\n![](./1.webp)\n\n三个装甲运兵船各运载一个动员兵走出地图边界。针对这三个动员兵使用了三种判定摧毁的条件，由上而下分别是：\n\n* 16 被摧毁, 单位, (数量为#)...（数值填写1）\n* 48 被任何事物摧毁\n* 7 被任一作战方摧毁\n\n只有第一个触发不需要关联，后两个触发都需要把标签关联到对应的动员兵上。\n\n实际执行结果是：1.000版本的尤里复仇中，三个触发都没有被激活；1.001版本的尤里复仇中，前两个触发被激活了，最后一个没有被激活。\n\n结论：**1.001版本中，如果一个运输载具载着一个物体走出地图边界，这个物体会被判定为摧毁，但是不会激活条件7 “被任一作战方摧毁”**。这对于一些护送任务非常重要，极有可能导致在1.000版本里一切正常，而1.001版本里莫名其妙的任务失败。\n\n这个现象出现的非常稳定，甚至可以用来判断玩家的尤里复仇版本。"},{"title":"几种随机刷兵方式解析","tags":["高级"],"categories":"触发与小队","author":"天雪酱","excerpt":"在 ra2 中，能直接实现随机的触发只有条件`51 随机延时`，现在咱将依此实现随机刷兵。虽说是刷兵，换成随机刷小木箱，设置核弹目标点之类的同理。\n\n根据需求的不同，随机刷兵也有多种方式，比如，固定时","link":"/posts/random-attack","content":"在 ra2 中，能直接实现随机的触发只有条件`51 随机延时`，现在咱将依此实现随机刷兵。虽说是刷兵，换成随机刷小木箱，设置核弹目标点之类的同理。\n\n根据需求的不同，随机刷兵也有多种方式，比如，固定时间随机兵种，随机时间与兵种，一次性/循环随机等等。咱挑选几个样例进行设计。\n\n> 前置知识：当一个触发的**条件**同时包含“延时”（[13 流逝时间]、[51随机延时]）和“局部变量状态判断”（[36 局部设置开启]、[37 局部设置清除]）时，局部变量会对“延时”的行为产生**干扰**，具体表现为：**相关的局部变量状态改变时，延时的计时会重置**（从头重新开始计时）（by heli）。（重复允许一个未被禁止的触发也会重置其计时）\n\n::: tip\n使用局部变量还是允许/禁止触发？局部变量让触发写法更**简洁**，避免写错，尤其是触发组很庞大时。而允许/禁止触发让触发的**运行链路更加清晰**。另外，局部变量更适合**记录状态**（比如将即时性条件进入事件的满足记录下来），而允许/禁止触发倾向于**即时**性的操作。\n:::\n\n::: tip\n以下都基于原版 YR 平台实现，Ares 和 Phobos 下可能有更方便的做法。\n:::\n\n## 固定小队随机时间\n\n最简单的一种，条件随机延时结果刷兵即可。重复与否都可以。\n\n## 一次性n选1随机\n\n设置1个局部变量`a=0`，n 个触发；触发条件1均为局部设置`a=1`，条件2均为随机延时，结果1均为局部清除`a=0`，其余结果自拟，然后在需要时将局部变量`a`开启即可。如果想让每个触发的概率不同，可以使每个触发随机延时的数值不同（时间越短的概率越大）。\n\n::: tip\n如果设置的随机延时时间太短，不同触发可能会在同一整数秒触发，结果将是编号靠前的触发先执行。\n:::\n\n> 也可以不使用局部变量，使用允许/禁止触发，去除条件1，然后将每个触发的结果1换为禁止其他触发即可。\n\n## 固定时间共 n 波随机\n\n在某个时间点后，一共 n 波敌人分别从不同地点来袭，每个地点来一次，时间间隔固定，先后顺序随机，具体需求见 https://www.bilibili.com/read/cv17659104/\n\n原帖的触发链路不太清晰，咱重新实现下，以2波为例。设计：分为启动触发、判断组、刷兵组。由于刷兵间隔总是固定，所以让判断与刷兵并行，到点后直接取判定结果。启用时允许“开启”触发。\n\n::: tip\n触发三行分别为名称、条件、结果。角标 2、X 表示重复、初始禁止。箭头表示允许，红色或指向自己表示禁止，虚线表示通过局部变量允许。rdm表示随机延时。= 表示给局部变量赋值。\n:::\n\n![](./gdsjgnb.png)\n\n如有其他需求，可以自己修改，比如每波来袭前添加倒计时或中场休息，可以加在“开启”、“每波延时”、“刷兵”之间。\n\n## 随机时间与小队，重复\n\n> 节选自 Heli 的局部变量教程\n\n每次随机延时 X 秒以后，随机发生 N 个事件的其中一种，循环执行。比如：敌人会随机在 N 个位置中选1个随机空降伞兵。只需要N个触发，和随机事件的数量相等。\n\n* 一个局部变量：随机事件组 A。其初始值决定了这个触发组的开关状态，“0”为关，“1”为开。\n* 每个随机事件对应 1 个触发。\n* 每个的触发的参数是这样的：\n     \n    类型“2”（重复）；\n     \n    条件：[51 随机延时]X 秒，[36 局部设置开启]随机事件组A；\n     \n    结果：[57 局部清除]随机事件组 A，[56 局部设置]随机事件组A（“局部设置”必须在“局部清除”后面），然后加上这个事件你想要的其它结果。\n\n* 想要打开这个循环，就把局部变量“随机事件组A”设为“1”；想要关掉，就设为“0”。\n\n## 半随机时间，随机小队，重复\n\n由于随机延时的时间值介于指定值的 50% 到 150%，这个**随机范围可能太大**，以至于任务难度出现较大波动。所以我们可以将随机延时与固定延时合用，比如固定200秒+随机200秒。\n\n示例需求：每过 45~75 秒，在两个地点之一刷出小队。（每个地点的小队成员固定，共2种情况。如果要求成员也随机2种，则按`2*2=4`种情况处理）\n\n设计：准备 1 个固定延时触发，一组随机延时触发。对于 n 种随机情况，一共需要 1 个变量`s`，n+1 个触发。使用时允许触发 0，如图。\n\n![](./Pasted%20image%2020240226203636.png)\n\n> 类似https://www.bilibili.com/read/cv2118877/\n\n## 固定时间，随机小队，重复\n\n将上一节的随机时间设置到相对于固定的时间足够小即可（但尽量避免多个触发随机到相同的整数秒）。\n\n如果要求**完全固定时间**，则需要重新设计：如图，1 为开始判断，2 为开始刷兵，A, B 为判断，A2, B2 为刷兵，rdm 表示随机延时，变量`j`表示判断状态，`s`表示刷兵状态。使用时允许触发 1。\n\n![](./Pasted%20image%2020240226200914.png)\n\n对于 n 种情况，需要 n+2 个变量，2n+2 个触发。如果想用允许/禁止代替 2 个局部变量，参考https://www.bilibili.com/read/cv17503194/\n\n---\n测试图已附赠：todo"},{"title":"某斯内克的城市图经验谈","tags":["进阶"],"categories":"地形与美化","author":"天雪酱","excerpt":"> Ra2map：本文转载自贴吧，原帖作者：格林·斯内克\n\n## 【制作城市图城区部分的基本流程】\n\n地形→大路→小路→红色水泥→草地→细节物品\n\n## 【道路是基础】\n\n道路不仅是地表装饰，**更是","link":"/posts/snake-city-maps-experience","content":"> Ra2map：本文转载自贴吧，原帖作者：格林·斯内克\n\n## 【制作城市图城区部分的基本流程】\n\n地形→大路→小路→红色水泥→草地→细节物品\n\n## 【道路是基础】\n\n道路不仅是地表装饰，**更是整张地图的骨架**！制作初期先用大路构建好整张地图的结构再进行其他工作，这就是我常讲的“**地图框架**”只有确定好这个框架，才能在它的基础上延伸出其他部分。（我这里只是随意建立了张新地图，没有搭框架）\n\n![](./01.webp)\n\n搭框架，或者说绘大路的两点经验：平行大路间间隔不宜过大也不宜过小，大概15~30格的长度；不要摆得像棋盘一样，影响美观，可以随机一点（对称图除外）\n\n当用大路把地表分割成许多个小部分的时候， 就可以对这几个小部分（姑且叫街区吧......）各个击破了（这张示例图为了整体美观，没有一个街区一个街区地做）在街区里再放上小路来分割街区\n\n![](./02.webp)\n\n小路摆放原则：尽量让小路曲折，就是说尽量摆放横着或竖着的小路，少放斜的小路，让分割出来的部分形状显得没有规则；分割出部分的尺寸大约在8*8左右，能容纳两三座建筑即可；和大路一样，不要摆棋盘！\n\n*用好复制粘贴，对任何地图都很重要*\n\n![](./03.webp)\n\n## 【建筑摆放原则】\n\n![](./04.webp)\n\n建筑种类要多样，**相同类型的建筑不要大量集中在一起**！\n\n为了美观，**建筑绝对不要挨着大路放置！绝对不要挨着其他建筑放置**（五角大楼那类了除外）！也尽量不要挨着小路放置。\n\n建筑数量不要太多,不要堆得太密集。为什么？详见下文。\n\n**前面的建筑尽量不要遮住后面的建筑，以及交叉路口。**\n\n## 【地表绘制原则】\n\n有些新人为什么这么喜欢堆砌素材？是因为单一的地表总是显得很单调，而又与城市的特征不符，**而让城市地图看起来像城市的关键就是地表美化**！\n\n![](./05.webp)\n\n为了美观，**只有白色水泥可以直接接触大路！草地和红色水泥不能接触大路！** 就当是两旁人行道吧......\n\n地表形状尽量显得无规则，**多使用红框中的地表素材**\n\n## 【红色水泥的用法】\n\n![](./06.webp)\n\n红色水泥一般铺盖在建筑物下面，**但不是所有建筑下面都要铺设！**这些都是视情况而定的。\n\n各种建筑底下的红色水泥地面形状可以依据建筑不同而不同，这样处理一下地表就会显得更精细，当然时间也会更长。**事实上城市地图最花时间的部分就是这里。**\n\n## 【草地的用法】\n\nNEWURBAN地形给了四种草地贴图（姑且这么叫......）所以草地部分可以处理得更精细一些。\n\n画完了红色水泥路面后，其他空地就可以用草地填充了。\n\n![](./07.webp)\n\n**草地和红色水泥尽量不要大片地连在一起**，你应该知道红配绿很难看的......可以在红色水泥，草地和它们之间用白色水泥画出一条充当人过往的通道，这个通道要尽量扭曲才能显示出精细程度。如果白色水泥路遇到转角，一般情况下用图示的贴图补好转角，但这也不是绝对的！！！比如图中画了红圈打了叉的地方就不用补，**要不要补自己多做地图慢慢摸索吧......**\n\n![](./08.webp)\n\n这样一弄就比较精细了\n\n## 【树木】\n\n![](./09.webp)\n\n树木摆放原则：**尽量遮住更大面积的草地**。可以使用随机树木摆放，如果觉得效果不好可以手动。\n\n## 【地图上的小东西】\n\n![](./10.webp)\n\n这些东西合理摆放对增强精细度很有帮助，但是**切记不能滥用**！！！否则地图就会显得杂乱无章（因为这些小东西一个就可以占一个单元格的空间）。路灯的摆放不一定要每隔多少格就摆一个，只要有少量就行了，关键是要看得见！\n\n按照这个步骤就能把城市地图做得比较精细了。当然，不是看着教材就能让技术得到突破，**关键在于多做地图**。其实最好的教材还是官方地图和其他的优秀地图，比如本吧精区→_→\n\n当你不知道该怎么做的时候，参考这些地图会有很大帮助。\n\n附：本帖的示例地图 http://pan.baidu.com/share/link?shareid=1266977945\n\n---\n\n\n\n\n"},{"title":"一些常见错误与bug","tags":["入门"],"categories":"其他教程","author":"天雪酱","excerpt":"## 地图编辑器常见错误揭示及补救方法\n\n> Ra2map：本节转载自[CJ帝教您：地图编辑器常见错误揭示及补救方法_红色警戒吧](http://tieba.baidu.com/p/657117454","link":"/posts/some-mistake-and-bug","content":"## 地图编辑器常见错误揭示及补救方法\n\n> Ra2map：本节转载自[CJ帝教您：地图编辑器常见错误揭示及补救方法_红色警戒吧](http://tieba.baidu.com/p/657117454?see_lz=1)\n\n![](./1.png)![](./2.png)\n\n## 单人任务制作十大BUG\n\n> 来源：红警任务之家  作者：蜘蛛星云\n\n### 一 任何原本不存在的建筑无法自动修复(比如建筑节点建造出的建筑)\n\n经典BUG，只有任务开始后存在于地图上并且自动修复=1的建筑电脑会自动修复，跟电脑IQ等级无关，到目前为止没有有效的解决方法\n\n效果比较弱的解决方法：战车部署后的建筑，即使原来不存在于地图上也能自动修复，所以让需要自动修复的建筑全部是战车展开的就好了\n\n遭遇战电脑没有这个BUG\n\n> 受伤的建筑更改一次所属后便会自动修复了\n\n### 二 文本出现奇葩的“·”会有问题（会吞掉最后一个字）\n\n在《指挥官的噩梦》里发现的BUG，如果一段CSF字符串中出现“·”，那么保存后，这段文本都会从文末缩减一个字符\n\n解决方法：每次保存前，在有“·”的一行末尾加上一个字符，例如“。”\n\n### 三 抽风的尤里矿场\n\n单人任务里面尤里阵营的矿场在矿车形态不被当做是一种科技建筑，所以一旦在任务里出现尤里方，并且开启它的自动建筑，你会发现他会不断出矿车，而且如果玩家为尤里方，一旦把矿场收起来就会发现科技类型丢失了\n\n解决方法：把矿场搜索范围设置为256，这样电脑方不会把他们收起来，玩家方硬要收起来就没办法了\n\n遭遇战电脑没有这个BUG\n\n### 四 不能简单地给小队起中文名\n\n如果你给一个作战小队`命名=天空龙`，那么保存之后名称会变为乱码\n\n解决方法：作战小队的第一个和最后一个字符必须是一个英文字符或标点，所以你可以把它命名为`A天空龙A`或者`|天空龙|`什么的\n\n### 五 在造完地图后再改大小会出现路径点漂移\n\n有些地图改地图大小，会出现游戏里路径点和FA里面的路径点不对应的BUG，编辑器是检测不出来的\n\n解决方法：在更改地图大小的时候，只更改宽和高，不改变左和上的位置\n\n### 六 不能简单地跨阵营接关\n\n经典BUG，不同阵营不能相互接关，例如第一关是苏联，第二关是盟军，那么在第一关胜利后进入下一关就会IE，经典的尤里任务不能接关BUG纯粹是没有注册任务列表\n\n解决方法：不同阵营的关卡在两个阵营的任务列表里注册\n\n\n### 七 AI懒得造建筑节点\n\n建筑节点貌似是按照放置的顺序建筑的，~~但是有时候AI又懒得造应该让它造的建筑节点‘，没有清晰的解决方法~~\n\n### 八 单人任务AI的仇恨判断非常诡异\n\n单人任务里，解决方法：用触发刷一组兵，然后让它们去送死触发仇恨判断比较稳定，遭遇战电脑没有这个BUG\n\n### 九 读档后箱子不见了\n\n> ares 下无此问题\n\n经典BUG，存档功能缺陷，在读档后地图上存在的箱子会消失，有箱子吃的任务一读档就会有这个BUG，解决方法：做一个复杂的逻辑判断，如果玩家没有来过吃箱子的地方，就会不断刷箱子\n\n### 十 经典BUG\n\n例如：读档后变量值发生变化，电脑放铁幕的概率随心情变化等。无好的解决方法。"},{"title":"临时","tags":["草稿"],"categories":[],"author":"天雪酱","excerpt":"## 树木外形速查\n\n![](./imgclip_1.png)![](./imgclip.png)![](./imgclip_2.png)\n\n## 战役中所属方颜色 图解说明\n\n> 作者：零肆酱\n\n`","link":"/posts/temp","content":"## 树木外形速查\n\n![](./imgclip_1.png)![](./imgclip.png)![](./imgclip_2.png)\n\n## 战役中所属方颜色 图解说明\n\n> 作者：零肆酱\n\n```\nAlliedLoad——盟军蓝（很鲜艳）\nDarkBlue——遭遇战深蓝\nDarkGreen——遭遇战绿\nDarkRed——遭遇战红\nDarkSky——遭遇战天蓝\nGold——金黄色\nGreen——爱因斯坦绿（原版盟10，YR苏2）\nGrey——灰色\n\nLightBlue——天蓝（一般用于任务中盟军盟友）\nLightGold——金黄色\nLightGrey——白色\nMagenta——粉红色\nName——遭遇战黄\nNeonBlue——蓝紫色（介于蓝色和紫色之间）\nNeonGreen——黑色\nOrange——橘黄色\n\nPurple——遭遇战紫\nPurple2——比上一个更骚气（更亮）的紫色\nPurple3——深紫色\nRed——棕黄色（一般用于任务中苏军盟友）\nSovietLoad——苏军红（原谅我没看出来这个和DarkRed的区别）\nYellow——浅黄色（比Name浅）\n```\n\n注：Gold和LightGold不推荐使用，有时会出现谜の颜色bug。\n\n- 盟军任务一般使用DarkBlue，盟友建议选择DarkSky，DarkGreen，LightBlue，Green\n- 苏军任务一般使用DarkRed，盟友建议选择Red，Orange\n- 尤里任务一般使用Purple，盟友建议选择NeonBlue，Purple2，Purple3。\n\nNeonGreen一般不推荐用于玩家，因为黑色会使玩家看不见超级武器的倒计时和发电厂电力。\n\n![](./Pasted%20image%2020240908225943.png)\n\n【各颜色在游戏中效果，从左到右，按照前面说到的颜色顺序排列，注意Gold和LightGold是有bug的。】\n\n![](./Pasted%20image%2020240908225950.png)\n\n【各颜色在地图编辑器中效果，从左到右，按照前面说到的颜色顺序排列。】\n\n## Zero Fanker的地图制作分享（等待恢复）\n\n<TxCard title=\"红色警戒 2 地图制作分享\" url=\"https://revengenow.top/#/docs/map_tutorial/index\" author=\"Zero Fanker\" date=\"2022-7 更新\" imgPath=\"\" size='large'>\n\n        地形开发资料\n        \n        触发开发资料\n        Level 1 入门\n        1.1 熟悉触发事件编辑器\n        1.2 将触发关联到物体\n        1.3 设置一个胜利条件结束游戏\n        \n        Level 2 基本篇\n        2.1 所属方\n        2.1.1 所属方概念\n        2.1.2 更改对象所属\n        2.1.3 所属方参数面板\n        2.1.4 结盟与宣战\n        2.2 路径点\n        2.3 小队系统简介\n        2.3.1 特遣小队\n        2.3.2 脚本\n        2.3.3 作战小队面板\n        2.3.4 使用触发事件直接刷出小队\n        2.4 干预视野\n        2.4.1 显示路径点周围区域\n        2.4.2 显示全部地图\n        2.4.3 重置地图未探索区域\n        2.5 操纵玩家可视区域\n        2.5.1 以给定速度移动镜头\n        2.5.2 立刻跳转镜头到路径点位置\n        2.6 更改地图可达到边界\n        2.7 锁定 / 解锁玩家操作权\n        2.8 文本字符串提示\n        2.9 播放音效（包括单位语音）\n        3.0 播放副官 EVA 语音\n        3.1 在路径点位置播放动画\n        3.2 小地图雷达事件提醒\n        3.3 全局计时器\n        \n        进阶资料\n        小队篇 - 7 援军小队与 80 建立小队\n        小队篇 - 4 建立小队与小队重组\n        小队篇 - 小队与触发联动\n        触发篇 - 53 允许事件触发与 54 禁止事件触发\n        触发篇 - 多条件应用\n        \n        高阶资料\n        局部变量详解\n        触发事件时序与内在原理\n        标签与触发类型\n        程序化思想 - 顺序结构\n        程序化思想 - 选择结构\n        程序化思想 - 循环结构\n</TxCard>\n\n## 官方地图与任务\n\n![](./Pasted%20image%2020240908230702.png)\n\n可供新手用于地形布局以及触发的参考。官方地图大都封装在这里，用 XCC Mixer 可以提取\n\n- Maps01.mix 原版盟军任务\n- Maps02.mix 原版苏军任务\n- Multi.mix 原版地图\n- Multimd.mix 尤里地图\n\n<!--todo下载-->\n\n## 了解游戏\n\n【图片】【启蒙】正版、盗版、原版、mod的萝鸡关系【修订版】【红色警戒吧】_百度贴吧\nhttps://tieba.baidu.com/p/4250301342?see_lz=1\n\n关于剧情及各部游戏的关系请看图片附件\n命令与征服系列时间轴V0.4by-pingacg16.png 命令与征服系列游戏关系图.jpg 命令与征服全系列.jpg\n\n## 快捷键\n\n红警入门小课堂（一）基本操作教学与常用快捷键介绍_哔哩哔哩bilibili_红警_攻略\nhttps://www.bilibili.com/video/BV1ZR4y1W7uF/\n红警2快捷键介绍_哔哩哔哩bilibili_红警_攻略\nhttps://www.bilibili.com/read/cv1981492\n\n\n《队伍控制热键 》\n\n设定小队 Ctrl + 0 - 9 从目前选定的单位里，建立 0 - 9 小队\n选取小队 0 - 9 选取你所设定的小队\n增加选取小队 Shift+0-9 选取 0 - 9 小队成员，\n而不取消之前选取的其它小队\n移动至小队 Alt + 0 - 9 选取 0 - 9 小队，并将小队置于画面中央 增加选取队伍 Shift 将 Shift 键按住，\n点未选取单位将其加入欲组织之队伍之中\n移动攻击 Ctrl+Shift 将 Ctrl + Shift 键按住点选队伍欲前进之区域，\n若在部队前进的途中遭遇到敌人则会自动攻击敌人\n强制攻击 Ctrl 按住 Ctrl 键再点选欲攻击的目标，即可强制攻击\n强制移动 Alt 按住 Alt 键再点选欲强制移动的目标，\n强制队伍到特定区域，可以用来辗过其它单位\n守卫指定地 Ctrl + Alt 按住 Ctrl + Alt 键，再点选欲守卫的区域，\n将会守卫此区域\n护卫部队 Ctrl + Alt 按住 Ctrl + Alt 键，再点选欲守卫的部队，\n将会守卫此部队\n防守建筑物 Ctrl + Alt 按住 Ctrl + Alt 键，再点选欲守卫的建筑物，\n守卫此建筑物\n\n《游戏控制热键 》\n\n同盟 A 与选定目标的操纵者同盟\n欢呼 C 命令队伍为你欢呼\n部署 D 可将选取的对象或队伍部署\n警戒 G 将队伍所在区域设定为 \" 警戒区域 \"\n停止行动 S 将所选取的单位一切行动停止\n单位分散 X 将所选取的单位分散，可避免被车子辗毙\n设定路径点 Z 将 Z 键按住不放，可以设定路径点，放开 Z 键开始后，\n你所选择的队伍，会按照路径点移动\n\n《单位选取热键 》\n\n单位选取 M 选取下一个单位\n单位选取 N 选取上一个单位\n伤害选取 U 依单位受到伤害程度选取单位\n等级选取 Y 依单位等级程度选取单位\n选取指挥所 H 将指挥所在画面中央显示\n战斗队伍全选 P 将所有战斗队伍选取\n选取同种类单位 T 可依单位种类选择队伍\n\n《多人模式讯息 》\n\n与所有观战者交谈 Enter 按下 Enter 开启交谈功能，输入讯息后，\n再按下Enter 传送讯息\n与所有盟友交谈 Home 按下 Home 开启交谈功能，输入讯息后，\n再按下 Enter 传送讯息\n与所有玩家交谈 End 按下 End 开启交谈功能，输入讯息后，\n再按下 Enter 传送讯息\n多人联机音效语音 F5 - F12 向其它玩家传送预设的音效讯息\n一般是嘲笑对手的语音。常用的是F10。笑声。\n\n补充。f 是追随键 右按鼠标是快速移动界面\n\n\n1.部署对象 / 部队 D\n注释：美国大兵的坐下和起立，选中大兵，按D。 辐射工兵的展开模式\n\n2.警戒目前区域 G 在区域内保持警戒状态，如果有敌人前来，可以自动开火攻击\n\n3.移动攻击 点选部队 按下 Ctrl + Shift + 点选部队或区域 出现旋转的红绿色箭头即外为成功\n结合Z键可以控制部队按指定命令消灭地方部队或者摧毁选定的建筑，与此同时，部队会消灭附近的所有地方\n可移动的兵种，而单纯的用Z键体现不出这种效果\n\n4.散开 X 一般在坦克交火的时候常用，如果对方指挥坦克碾压你的辅助兵种，那么利用X键可以是己方辅助兵\n种很好的躲避碾压，同时不断的移动可以有效的吸引对方坦克火力，使它们的炮口不断转移，抑制对方开火频\n率\n注释：相当于屏幕下方控制条上面的九个点的按键\n\n5.强制开火 按住 Ctrl 键，用光标指示目标，再左击；这时，鼠标箭头变由绿色变成红色，无论攻击对方或\n者己方均有效\n注释：可攻击你的部队以前不攻击的目标（射程内）\n\n6.强制移动 按住 Alt 键，用光标指示目标，再左击；配合Z键使用可以有效进行碾压，尤其是用车辆对付美\n国的空降兵是更能显示出效果\n\n7.选项选单 ESC\n\n8.编队 Ctrl + 1 ~ 9\n注释：选中某部队（人，车）操作后，下次点所编数字即可操纵选中部队。 双击键盘上的数字键 (1 2 3……\n0)可以使视野立即转移到所选部队上面，比起F键更好用。\n\n9.与选定阵营同盟 A\n注释：先选中你要结盟的人，再按A\n\n10.选择同类型部队 T\n注释：可选中你屏幕内及临近的同类部队 单击T键可以集合当前视野内的所有同类部队，而双次击T键所选择\n的是游戏中所有同类部队，三击T键可以加快键盘的磨损-_-\n\n11.与所有观战者交谈 （多人模式） 按 Enter 开启交谈功能，输入讯息后，再按 Enter 传送讯息，按鼠标\n右键取消讯息。\n建议：把你不熟悉的输入法在进入游戏前删除，仅留英文（必须）和某种你常用的输入法（一种），在交谈前\n按Ctrl+空格（或Ctrl+Shift ）即可切换成中文交谈。\n注意：中文状态下，大部分快捷键失效\n\n12.与所有盟友交谈（多人模式）\n按 Home 键开启交谈功能，输入讯息后，再按 Enter 传送讯息，按鼠标右键取消讯息。\n按Enter键和Backspace键都可以在游戏中发布信息，两者的区别是，前一种方法发布出的信息所有玩家都可\n以看到，而后者只有盟友可以看的到\n\n13.布置信标\n按下 B 键，按下 Enter 输入讯息后，再按 Enter 传讯，按 Del 取消讯息。 B键的作用是设置心灵信标，\n作用是提示盟友或者锁定画面，最好与Ctrl+F1~F4结合起来使用，可以方便视野的转移\n注释：与屏幕下纺锤状按键等效\n\n14.进入路径点模式 点选部队\n按住 Z 键，设定路径点，放开Z键开始让部队照路径前进。\n注释：与屏幕下折线状按键等效\n\n15.设定集合点\n点选兵营、战车工厂、造船厂或复制中心，空指部再于战场上选择集合点。\n注释：从你设置过的兵营中出来的兵会自动走到该点聚拢 如想取消，先点中建筑物再按s键\n\n16.前往雷达事件地点\n空格键 Space键\n注释：卫星图出现闪动的方框地点即事件地点 如果刚才你与对手在冰天的中间富矿处交火，在战斗结束后的\n一段时间内，利用space仍然可以看到交火发生的所在地\n\n17.所有部队喝采 C\n\n18. 开启外交选单Tab ，然后在盟友下面的指示框内点一下，点成半圆或者圆形，即为结盟\n\n19.跟随镜头F 跟随处于选种状态的部队移动\n\n20.守卫指定点 Ctrl + Alt + 点选区域\n\n21.护卫部队 Ctrl + Alt + 点选部队\n\n22.防守建筑 Ctrl + Alt + 点选建筑\n出现盾牌状指示即为成功，坦克交战的时候如果对微操作不是很熟练的话，可以控制辅助兵种Alt+ctrl+坦\n克，这样坦克到哪里辅助兵种就跟到哪里\n\n23.建筑页面 Q 建筑完工的时候利用此键可以使建筑放下的速度更快\n\n24.武器页面 W\n\n25.步兵页面 E\n\n26.车辆页面 R\n\n27.下一个部队 M\n\n28.上一个部队 N\n\n29.全选 P 选取游戏中所有可以用来战斗的部队\n\n30.以精锐为准选择部队Y 也就是按照坦克获得的星级来区分部队。\n\n31.以生命值为准选择部队 U 一般在坦克交战的时候常用，选取生命值少的部队，拖动使其后移，充分利用每\n一个坦克的火力优势\n\n32.调整已编队部队\n按住 Shift 键，点选已选定部队取消选取或点选未选取的部队，将之加到编队中。\n\n33.将视角转移到以基地为中心置中 H\n\n34.维修模式\n鼠标左点建筑，快捷键K\n\n34.变卖模式\n鼠标左点建筑，快捷键L 比起使用鼠标更快速\n\n35.设立书签\nCtrl + F1 ~ F4\n\n前往书签所在位置\nF1 ~ F4\n注释：可在重要地点设立书签 也就是用快捷键框定游戏中的固定区域，使得视角的转移更加方便快捷。\n举例：在探明对手基地位置后设立书签，想看看对手在造什么就点所设书签，屏幕视角会立即转移到对方基\n地\n\n36.多人联机叫嚣语言\nF5 ~ F12 一般不推荐使用，有人身攻击的嫌疑 单机时无法使用\n\n37.游戏中截图\nCtrl + C （所截图片在红警程序文件夹里可以找到） 如果你在游戏中截图是为了做战报用，那么我建议你去\ndown一款专业的截图软件，因为上传图片的时候允许的图片格式是Jpg，Ctrl+C截图的格式是pcx，再要转换\n的话，十分不方便\n推荐一个网络象册地址 photos.gznet.com\n\n键盘之应用：\n\n1.练键：\n对一个新手来说如何让自己能够提高操作速度是一个首要的问题，所以练键是提高操作速度的必然，也是新手成长的基石。\n如果你从来不用快捷键或者你只用屏幕下方的操作键，那么从现在开始尽量不用鼠标去点它，尝试改为用键盘操作。当然不可能将所有快捷键马上记住和改为键盘操作，这样\n也是不现实的。就我个人而言建议分段使用。\n第一步：\n\n首先使用常用的如：开局先用食指按N在用中指按D,这样会使基地在第一时间打开。\nN 为上一个部队，\nD 为展开。\nQ.建筑页面 建筑完工的时候利用此键可以使建筑放下的速度更快\nW.武器页面\nE.步兵页面\nR.车辆页面\nQ W E R可以快速在建筑页面 武器页面 步兵页面 车辆页面 之间切换。\n空格键 Space键;前往雷达事件地点\nT.选择同类型部队,双击T键所选择的是游戏中所有同类部队\nCtrl + 1 ~ 9 编队\nH.将视角转移到以基地为中心置中\n第二步：\n\nCtrl.强制开火 按住 Ctrl 键，用光标指示目标，再左击；这时，鼠标箭头变由绿色变成红色，无论攻击对方或\n者己方均有效\nAlt .强制移动 按住 Alt 键，用光标指示目标，再左击；配合Z键使用可以有效进行碾压，尤其是用车辆对付美\n国的空降兵是更能显示出效果\nB.心灵信标\nX.散开\nG.警戒\nK.维修\nL.变卖\nZ.路径\nCtrl + F1 ~ F4 设立书签\nTab.外交键 如建立联盟\n第三步：\n\n其他键；个人认为已经不是主要用键，可以根据自己的兴趣和喜好选择。\n\n2.用键：\n\n例：\n开局用N,D键以最快速度打开基地；\n点击电厂；\n用Tab键选择联盟；\n在基地附近按下B键设置心灵信标；\n在预先准备的位置放置鼠标，待建筑单元完成后按下Q键直接放下建筑；\n兵营做好后设置路径点；（或S键）\n选择探路小狗编号；（CTRL+1~0)\n按下W键选择武器；\n按下E键选择步兵；\n按下R键选择车辆；等等\n只有活学多用才是提高用键速度的唯一途径！\n\n3.改键：\n就我所知，高手都或多或少有过改键的经历和用应。\n将一些常用的键如K.L.Y.U键移到键盘左手可控的位置可以大大缩短选键时间，争取第一时间反应。\n个人认为最佳改键方案：将K.L键的位置改为A.S键；\nA为联盟键可以用Tab替代，而且实际应用中也没有Tab好用，所以将A键改为K键（即维修模式）\nS键的用应不如直接鼠标点放，用处也不大，所以将S键改为L键（即变卖模式）\n将Y.U键的位置改为F.V键；\nF跟随镜头用处不大，可将其改为Y键（即精锐部队）\nV键无用处，可将其改为U键（即受伤部队）\n\nRa2keyboard.png\n\n<!--\n## 暂不\n\n技术：  \n\n《红警2原版PVP必修一》：[一只不爱做梦的青凰的动态-哔哩哔哩](https://t.bilibili.com/859011167366938665)\n\n另外可B站搜索相关内容。\n\n---\n\n平台（根据社区风评推荐）：\n\n原版联机：[红色警戒2战网对战平台http://www.ra2ol.com/](http://www.ra2ol.com/)\n\n原版联机：[红警2重聚未来：https://www.yra2.com](https://www.yra2.com)（备用：https://www.ru2023.top/）\n\nMOD联机：（如MO3）一般使用其内置的CNCNET平台\n\n\n\n\nRAT红警社区 [https://www.ratotal.org/](https://www.ratotal.org/)\n\nRAT红警社区 [https://space.bilibili.com/107924269](https://space.bilibili.com/107924269)\n\n红警3吧 [https://tieba.baidu.com/f?kw=%BA%EC%BE%AF3&fr=ala0&tpl=5](https://tieba.baidu.com/f?kw=%BA%EC%BE%AF3&fr=ala0&tpl=5)\n\n☉ 红色警戒3DIY区 ☉ - 红警DIY论坛 [https://bbs.ra2diy.com/forum.php?mod=forumdisplay&fid=12](https://bbs.ra2diy.com/forum.php?mod=forumdisplay&fid=12)\n\n\n\n\n-->"},{"title":"使用 TX 地形拓展包","tags":["进阶"],"categories":"地形与美化","author":"天雪酱","excerpt":"## 介绍\n\nTX (TerraineXpansion) 地形拓展包来自国外，给原版增加了很多新的地形，比如雪地城市，城市瀑布，各种悬崖，停机坪，火车道等。使用 TX 地形扩展包制作的地图绚丽无比。\n","link":"/posts/tx-terrain","content":"## 介绍\n\nTX (TerraineXpansion) 地形拓展包来自国外，给原版增加了很多新的地形，比如雪地城市，城市瀑布，各种悬崖，停机坪，火车道等。使用 TX 地形扩展包制作的地图绚丽无比。\n\n![](./1.webp)\n\n::: warning\n对原版地形都不会用（手拼悬崖不熟练、错误悬崖/水岸、大平地、切糕水平）的 mapper，就不要考虑 TX 地形了，乖乖去用原版地形。但是当你掌握了基础摆法之后就可以大胆使用 TX 地形了。\n:::\n\n### 月球星空地形\n\nTX月表星空地形包在月球图新增了星空和太空悬崖浮岛地形。\n\n![](./2.webp)\n\n也可用 _cyanideT_ 做的[原版月球地形扩充（需要TX地形） - ra2diy](https://bbs.ra2diy.com/forum.php?mod=viewthread&tid=15955)，添加了更多星空和空间站边缘。\n\n## 使用\n\n将压缩包文件先后解压到 1.001 版尤里的复仇根目录覆盖即可。\n\n<TxDownload size='7MB' netdisk='https://wwuj.lanzoul.com/b0ca5qq5a' password='cipx' direct='' name='TX地形拓展包.7z'/>\n\n<TxDownload size='950KB' netdisk='https://wwuj.lanzoul.com/b0ca5qq5a' password='cipx' direct='' name='TX月表地形星空地形二合一.7z' />\n\n::: danger\n使用后在做新城区水岸的时候会出现**错误水岸**，没有好的解决办法，建议关闭自动海岸手动拼\n:::\n"}]
