import{_ as g}from"./ValaxyMain.vue_vue_type_style_index_0_lang-BLk_7Qbr.js";import{_ as k}from"./AFace.vue_vue_type_style_index_0_lang-C2ezRWgk.js";import{k as v,w as t,j as I,l as P,p,r as $,o as A,a as l,d as s,b as u,m as e}from"./app-KTne_XA5.js";import"./YunCloud-Cs73kQ3t.js";import"./tags-BvBwQdnz.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-yJdZaPTV.js";import"./YunCard.vue_vue_type_script_setup_true_lang-Cf9Ykn51.js";import"./index-C5okkQwF.js";import"./YunPostMeta.vue_vue_type_style_index_0_lang-Dp_xRNtJ.js";import"./index-D05q-RW8.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-CZ5QAPxC.js";import"./post-BzJdk7Iq.js";const C={class:"tip custom-block"},q={__name:"map-debug",setup(E,{expose:m}){const i=JSON.parse('{"title":"地图调试与出错补救","description":"","frontmatter":{"title":"地图调试与出错补救","date":"2024-06-17","updated":"2024-08-30","categories":"其他教程","tags":["入门","调试"],"author":"轻稚天雪"},"headers":[{"level":2,"title":"地图崩溃的处理","slug":"地图崩溃的处理","link":"#地图崩溃的处理","children":[{"level":3,"title":"EIP 表","slug":"eip-表","link":"#eip-表","children":[]},{"level":3,"title":"补救方法","slug":"补救方法","link":"#补救方法","children":[]}]},{"level":2,"title":"一般查错流程","slug":"一般查错流程","link":"#一般查错流程","children":[{"level":3,"title":"手动","slug":"手动","link":"#手动","children":[]},{"level":3,"title":"辅助工具","slug":"辅助工具","link":"#辅助工具","children":[]}]}],"relativePath":"pages/posts/map-debug.md","path":"C:/code/web/valaxy-blog/pages/posts/map-debug.md","lastUpdated":null}'),r=P(),o=i.frontmatter||{};return r.meta.frontmatter=Object.assign(r.meta.frontmatter||{},i.frontmatter||{}),p("pageData",i),p("valaxy:frontmatter",o),globalThis.$frontmatter=o,m({frontmatter:{title:"地图调试与出错补救",date:"2024-06-17",updated:"2024-08-30",categories:"其他教程",tags:["入门","调试"],author:"轻稚天雪"}}),(a,n)=>{const d=k,f=$("RouterLink"),b=g;return A(),v(b,{frontmatter:I(o)},{"main-content-md":t(()=>[l("div",C,[n[6]||(n[6]=l("p",{class:"custom-block-title"},[l("span",{lang:"en"},"TIP"),l("span",{lang:"zh-CN"},"提示")],-1)),l("p",null,[n[0]||(n[0]=s("做地图时一定要")),n[1]||(n[1]=l("strong",null,"经常备份",-1)),n[2]||(n[2]=s("吖")),u(d,{face:"nacho:16"}),n[3]||(n[3]=s("，免得地图报废追悔莫及。把地图文件按住")),n[4]||(n[4]=l("code",null,"Ctrl",-1)),n[5]||(n[5]=s("拖一份就行了。"))])]),n[17]||(n[17]=l("p",null,"值得注意的是，并非地图崩溃弹框才叫出错，其实所有未按预期发生的情况，都可视为 Bug ，比如，本应出的一个小队没有出；地形错误；莫名卡关等等……本文将先后讲述崩溃弹框与普通 Bug 的处理。",-1)),n[18]||(n[18]=l("blockquote",null,[l("p",null,[s("也看："),l("a",{href:"https://www.bilibili.com/read/cv1658957/",target:"_blank",rel:"noreferrer"},"【教程】08 ra2 fa2入门基础教程 - 触发篇2 - 纠错基本手册")])],-1)),n[19]||(n[19]=l("h2",{id:"地图崩溃的处理",tabindex:"-1"},[s("地图崩溃的处理 "),l("a",{class:"header-anchor",href:"#地图崩溃的处理","aria-label":'Permalink to "地图崩溃的处理"'},"​")],-1)),n[20]||(n[20]=l("p",null,"常见地图崩溃原因：",-1)),n[21]||(n[21]=l("ul",null,[l("li",null,"刷兵触发忘记填小队"),l("li",null,"允许禁止触发忘记填触发"),l("li",null,"使用“导入地图”时导入了乱七八糟的代码和关联"),l("li",null,"同一特遣部队内填写了两个相同的单位"),l("li",null,"地图中摆放的建筑有重叠，当其被摧毁，就会崩溃"),l("li",null,"若添加了 ini，先检查 ini"),l("li",null,"蜘蛛上了飞机没能出来，再存档读档就会弹框"),l("li",null,"在任意输入框中键入了英文逗号等号分号（它们是地图内部代码结构中的关键字符），破坏了地图内部数据"),l("li",null,"使用文本方式打开地图并修改时使用了错误的文件编码（应为 GB2312），而地图中又有中文")],-1)),n[22]||(n[22]=l("p",null,"如果仅仅是地图编辑器打不开地图，尝试",-1)),n[23]||(n[23]=l("ul",null,[l("li",null,"把地图文件移到别处"),l("li",null,"老老实实从文件-打开去打开"),l("li",null,"考虑编辑器读取的游戏目录是否与地图应该运行的不一致（ini 不匹配导致出错），可能要去地图该运行的那个目录重新注册游戏")],-1)),n[24]||(n[24]=l("h3",{id:"eip-表",tabindex:"-1"},[s("EIP 表 "),l("a",{class:"header-anchor",href:"#eip-表","aria-label":'Permalink to "EIP 表"'},"​")],-1)),n[25]||(n[25]=l("p",null,[s("游戏每次报错便会在其目录（使用 Ares 时，在 Debug 文件夹，崩溃时经你同意才会生成）生成一份"),l("code",null,"except.txt"),s("，打开可见"),l("code",null,"EIP: XXX"),s("，此为错误代码。EIP 表是一些常见错误代码的收集，在代码词典包中可以找到。不过它主要用来查找 ini 代码错误，往往"),l("strong",null,"无法查出"),s("触发错误。另附一些错误补充：")],-1)),n[26]||(n[26]=l("div",{class:"language- vp-adaptive-theme"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"}),l("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[l("code",{"v-pre":""},[l("span",{class:"line"},[l("span",null,"`EIP 006CF3DD`（类别：AI）")]),s(`
`),l("span",{class:"line"},[l("span")]),s(`
`),l("span",{class:"line"},[l("span",null,"AI得到仇恨以后，试图生产一个AI触发所属方为<all>、作战小队所属方不是自己作战方的小队。")]),s(`
`),l("span",{class:"line"},[l("span",null,"一般来说这个小队能够成功的生产，也能够正常的进攻。但是即使AI生产不出来，即便是做过了尝试，也算。在此之后存档，读档的时候就会产生此IE。")]),s(`
`),l("span",{class:"line"},[l("span")]),s(`
`),l("span",{class:"line"},[l("span",null,"或")]),s(`
`),l("span",{class:"line"},[l("span")]),s(`
`),l("span",{class:"line"},[l("span",null,"驱逐舰反潜机的射程是无限，如果AI用这架小飞机飞过整个地图来打我的潜艇，一存档一读档就会弹框，会导致一些AI使用驱逐舰反潜的任务读档弹框。")]),s(`
`),l("span",{class:"line"},[l("span")]),s(`
`),l("span",{class:"line"},[l("span",null,"`EIP 00000005-00000007 `表示单次寻路后，计算出实际所需行走的距离超过了游戏规定的单次自动寻路长度的上限。")]),s(`
`),l("span",{class:"line"},[l("span")]),s(`
`),l("span",{class:"line"},[l("span",null,"由于执行Attack脚本指令时，计算自身执行该脚本所需的移动路径超出西木规定的上限，因此游戏报错。如果对自己的单位下达了需要移动这么长路径的指令，无论玩家还是AI都会弹框。此处西木规定的上限无具体测量，妖妖酱个人认为可能是1024.")]),s(`
`),l("span",{class:"line"},[l("span")]),s(`
`),l("span",{class:"line"},[l("span",null,"解决方法：地图不要做得太大太绕，单次移动脚本必须限制移动路径长度")]),s(`
`),l("span",{class:"line"},[l("span")]),s(`
`),l("span",{class:"line"},[l("span",null,"0065D99F：小队内存在重复单位时，会导致本错误")]),s(`
`),l("span",{class:"line"},[l("span")]),s(`
`),l("span",{class:"line"},[l("span",null,'00529A14：CSF问题 ※读取形如"a,b"这样的两个整数的时候没读取到而且找不到默认值')]),s(`
`),l("span",{class:"line"},[l("span")]),s(`
`),l("span",{class:"line"},[l("span",null,"007C9B92：数值无法读取，或者基地节点问题。以文本方式打开地图，看[Actions]触发结果中，第一个数字[结果个数]，是否与实际结果个数一致，以及格式是否正确。若不一致，也许是编辑过程中程序错乱了。且每行内容应少于512字符。或者查看【所属方】中，基地节点数目是否与真实数目一致。")]),s(`
`),l("span",{class:"line"},[l("span")]),s(`
`),l("span",{class:"line"},[l("span",null,"006E2449：42号触发写错参数")])])]),l("button",{class:"collapse"})],-1)),n[27]||(n[27]=l("h3",{id:"补救方法",tabindex:"-1"},[s("补救方法 "),l("a",{class:"header-anchor",href:"#补救方法","aria-label":'Permalink to "补救方法"'},"​")],-1)),n[28]||(n[28]=l("p",null,[s("手动查错见下节。如果地图崩溃问题实在无法解决，而你又没有备份，可以尝试"),l("strong",null,"挽救地形")],-1)),n[29]||(n[29]=l("blockquote",null,[l("p",null,[s("先记下出错地图的地图大小和类型，再编辑→复制整张地图，然后新建一份同样大小和类型的地图，再编辑→居中粘贴，(^o^)/大功告成！如果你会文本方式打开地图可能可以挽回更多东西。"),l("em",null,"为何不选择【导入一张已存在的地图或BMP图片】？因为很多坏图这样之后仍然出错，而且导入的话连单位的关联信息以及内置ini都导入了，不可控")])],-1)),n[30]||(n[30]=l("h2",{id:"一般查错流程",tabindex:"-1"},[s("一般查错流程 "),l("a",{class:"header-anchor",href:"#一般查错流程","aria-label":'Permalink to "一般查错流程"'},"​")],-1)),n[31]||(n[31]=l("h3",{id:"手动",tabindex:"-1"},[s("手动 "),l("a",{class:"header-anchor",href:"#手动","aria-label":'Permalink to "手动"'},"​")],-1)),n[32]||(n[32]=l("p",null,[s("当你发现任务流程中出现意料之外的情况时，请回忆最近对这部分所做的改动，并检查各项数值是否正确。如果无法定位问题原因（一般是崩溃弹框时），可以使用"),l("strong",null,"排除法"),s("，先禁用/删除一部分触发，来看看问题是否还会出现。")],-1)),n[33]||(n[33]=l("p",null,[s("一个比较简单的调试方法是，给关键触发的结果加上一条结果"),l("code",null,"11 显示文本"),s("，这样来看观察此触发是否执行了。也可以用计时器定位出问题的触发，比如恰好在核弹倒计时剩3分钟时弹框了，那么有可能是流逝时间 "),l("code",null,"7*60=420"),s(" 游戏秒时的某个触发有问题。")],-1)),n[34]||(n[34]=l("p",null,"如果遇到疑难杂症（一般是小队相关）或者复杂的触发组，可以将其抽离出来，在一张单独的地图中专门测试。或是求助他人。",-1)),n[35]||(n[35]=l("h3",{id:"辅助工具",tabindex:"-1"},[s("辅助工具 "),l("a",{class:"header-anchor",href:"#辅助工具","aria-label":'Permalink to "辅助工具"'},"​")],-1)),n[36]||(n[36]=l("p",null,"地图测试查错是有很多辅助工具的。",-1)),l("p",null,[n[8]||(n[8]=s("比如，")),n[9]||(n[9]=l("em",null,"在小地图上绘制脚本轨迹",-1)),n[10]||(n[10]=s("，")),n[11]||(n[11]=l("em",null,"检测地图物体重叠",-1)),n[12]||(n[12]=s("，")),n[13]||(n[13]=l("em",null,"地图触发网络生成器",-1)),n[14]||(n[14]=s("，")),n[15]||(n[15]=l("em",null,"用于AI和地图debug的实时单位信息显示",-1)),n[16]||(n[16]=s("，见")),u(f,{to:"/posts/other-tool#RA2-专用"},{default:t(()=>n[7]||(n[7]=[s("其他工具")])),_:1})]),n[37]||(n[37]=l("p",null,"另外，新版的 FA2SP 应该也能检查出一些错误（在保存地图时）。",-1)),n[38]||(n[38]=l("hr",null,null,-1)),n[39]||(n[39]=l("p",null,"有待补充",-1))]),"main-header":t(()=>[e(a.$slots,"main-header")]),"main-header-after":t(()=>[e(a.$slots,"main-header-after")]),"main-nav":t(()=>[e(a.$slots,"main-nav")]),"main-content":t(()=>[e(a.$slots,"main-content")]),"main-content-after":t(()=>[e(a.$slots,"main-content-after")]),"main-nav-before":t(()=>[e(a.$slots,"main-nav-before")]),"main-nav-after":t(()=>[e(a.$slots,"main-nav-after")]),comment:t(()=>[e(a.$slots,"comment")]),footer:t(()=>[e(a.$slots,"footer")]),aside:t(()=>[e(a.$slots,"aside")]),"aside-custom":t(()=>[e(a.$slots,"aside-custom")]),default:t(()=>[e(a.$slots,"default")]),_:3},8,["frontmatter"])}}};export{q as default};
