import{_ as F}from"./YunCard.vue_vue_type_script_setup_true_lang-zOI1qsDI.js";import{_ as N}from"./YunPostCollapse.vue_vue_type_style_index_0_lang-DoBCo_4N.js";import{as as P,e as A,c as S,o as e,a as _,t as T,ah as q,ai as D,k as I,s as M,W,A as H,u as O,h as Y,C as G,v as J,at as K,a5 as Q,r as U,l as c,b as u,w as a,m as X,ag as Z,aj as tt,g as et,j as t,F as V,i as st,z as nt}from"./app-CjrUvp9y.js";import{_ as ot}from"./YunPageHeader.vue_vue_type_script_setup_true_lang-DFGiOmuj.js";import{u as at}from"./tags-BchB4_tI.js";function rt(g={primary:"#0078E7"}){const s=at(),m=new P("#999999"),f=new P(g.primary);return{tags:s,getTagStyle:o=>{const r=Array.from(s.value).map(([v,C])=>C.count),y=Math.max(...r),n=Math.min(...r),h=y-n,p=(o-n)/h;return{"--yun-tag-color":m.mix(f,p*100).toString(),fontSize:`${p*36+12}px`}}}}const lt={"inline-flex":"",my:"2",p:"1",class:"post-tag cursor-pointer items-baseline leading-4"},it={"inline-flex":""},ct={"inline-flex":"",text:"xs"},ut=A({__name:"YunLayoutPostTag",props:{title:{},count:{}},setup(g){return(s,m)=>(e(),S("span",lt,[_("span",it,"#"+T(s.title),1),_("span",ct,"["+T(s.count)+"]",1)]))}}),mt={class:"yun-text-light",text:"center",p:"2"},pt={class:"justify-center items-end",flex:"~ wrap",gap:"1"},vt=A({__name:"tags",setup(g){q([D({"@type":"CollectionPage"})]);const s=I(),m=M(),f=W(),{t:d}=H(),o=O(),{tags:r,getTagStyle:y}=rt({primary:f.value.colors.primary}),n=Y(()=>s.query.tag||""),h=G(),p=Y(()=>h.postList.filter(i=>i.tags?typeof i.tags=="string"?i.tags===n.value:i.tags.includes(n.value):!1)),v=J(),{show:C}=K(v);function B(l){m.push({query:{tag:l}}),C()}const L=Q(o);return(l,i)=>{const $=Z,w=ot,R=ut,b=U("RouterView"),j=N,z=F;return e(),S(V,null,[l.$slots["sidebar-child"]?(e(),c($,{key:0},{default:a(()=>[X(l.$slots,"sidebar-child")]),_:3})):(e(),c($,{key:1})),u(b,null,{default:a(({Component:E})=>[(e(),c(tt(E),null,{"main-header":a(()=>[u(w,{title:t(L)||t(d)("menu.tags"),icon:t(o).icon||"i-ri-tag-line",color:t(o).color,"page-title-class":t(o).pageTitleClass},null,8,["title","icon","color","page-title-class"])]),"main-content":a(()=>[_("div",mt,T(t(d)("counter.tags",Array.from(t(r)).length)),1),_("div",pt,[(e(!0),S(V,null,st(Array.from(t(r)).sort(),([x,k])=>(e(),c(R,{key:x,title:x,count:k.count,style:nt(t(y)(k.count)),onClick:_t=>B(x.toString())},null,8,["title","count","style","onClick"]))),128))]),u(b)]),"main-nav-before":a(()=>[n.value?(e(),c(z,{key:0,ref_key:"collapse",ref:v,m:"t-4",w:"full"},{default:a(()=>[u(w,{title:n.value,icon:"i-ri-hashtag"},null,8,["title"]),u(j,{w:"full",m:"b-4",p:"x-20 lt-sm:x-5",posts:p.value},null,8,["posts"])]),_:1},512)):et("v-if",!0)]),_:2},1024))]),_:1})],64)}}});export{vt as default};
