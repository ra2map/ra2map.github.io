import{_ as p}from"./ValaxyMain.vue_vue_type_style_index_0_lang-ClpXkmZy.js";import{i as k,w as i,h as u,j as c,p as h,o as f,a,b as e,l}from"./app-G45NqZuR.js";import"./helper-f8z8uJIo.js";import"./tags-D2-p_S_e.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-Dqr4sQV6.js";import"./YunCard.vue_vue_type_script_setup_true_lang-HOw0TaWD.js";import"./index-C5okkQwF.js";import"./YunPostMeta.vue_vue_type_style_index_0_lang-Dzm6dkq3.js";import"./index-CpRw8AFc.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-CcdLmUgK.js";import"./post-CsBZaeuw.js";const x={__name:"music",setup(g,{expose:d}){const s=JSON.parse('{"title":"背景音乐的使用与添加","description":"","frontmatter":{"title":"背景音乐的使用与添加","date":"2024-03-10","updated":"2024-03-10","categories":"地形与美化","tags":["进阶","声音"],"author":"轻稚天雪"},"headers":[{"level":2,"title":"使用","slug":"使用","link":"#使用","children":[]},{"level":2,"title":"添加","slug":"添加","link":"#添加","children":[{"level":3,"title":"ini 部分","slug":"ini-部分","link":"#ini-部分","children":[]},{"level":3,"title":"音乐文件部分","slug":"音乐文件部分","link":"#音乐文件部分","children":[]}]}],"relativePath":"pages/posts/music.md","path":"C:/code/web/valaxy-blog/pages/posts/music.md","lastUpdated":null}'),r=c(),n=s.frontmatter||{};return r.meta.frontmatter=Object.assign(r.meta.frontmatter||{},s.frontmatter||{}),h("pageData",s),h("valaxy:frontmatter",n),globalThis.$frontmatter=n,d({frontmatter:{title:"背景音乐的使用与添加",date:"2024-03-10",updated:"2024-03-10",categories:"地形与美化",tags:["进阶","声音"],author:"轻稚天雪"}}),(t,o)=>{const m=p;return f(),k(m,{frontmatter:u(n)},{"main-content-md":i(()=>o[0]||(o[0]=[a("h2",{id:"使用",tabindex:"-1"},[e("使用 "),a("a",{class:"header-anchor",href:"#使用","aria-label":'Permalink to "使用"'},"​")],-1),a("p",null,[e("触发结果"),a("code",null,"20 播放音乐"),e("可以播放指定音乐，填注册名，只要你有这首音乐就可以。重复与否取决于 ini 设置。如果你想停止播放，可以新建一个静音音乐，并用代码指定它重复播放，最后用触发调用。")],-1),a("h2",{id:"添加",tabindex:"-1"},[e("添加 "),a("a",{class:"header-anchor",href:"#添加","aria-label":'Permalink to "添加"'},"​")],-1),a("h3",{id:"ini-部分",tabindex:"-1"},[e("ini 部分 "),a("a",{class:"header-anchor",href:"#ini-部分","aria-label":'Permalink to "ini 部分"'},"​")],-1),a("p",null,[e("背景音乐的添加分两部分，即"),a("code",null,"thememd.ini"),e("和对应音乐文件。这里先假设你有音乐，来看 ini 如何写。")],-1),a("p",null,[e("假设你已经有了"),a("code",null,"thememd.ini"),e("，打开它，可以看到一个注册表，注册了所有音乐，也有注释")],-1),a("div",{class:"language-ini vp-adaptive-theme"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"},"ini"),a("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[a("code",{"v-pre":""},[a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"[注册名]")]),e(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Name"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"=THEME:xxx "),a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},";显示的名称，对应CSF内字段，不带序号")]),e(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Sound"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"=声音文件名 "),a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},";不带后缀名")]),e(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Normal"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"=yes "),a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},";是否出现在音乐列表中")]),e(`
`),a("span",{class:"line"},[a("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"Repeat"),a("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"=yes "),a("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},";是否重复。不写默认为no。如果填yes，那么游戏中一旦播放到了这首歌，不论手动选择、触发还是随机播放，都会一直单曲循环。当然你可以在音乐列表中手动切换。")])])]),a("button",{class:"collapse"})],-1),a("p",null,"新加音乐时在注册表里添加，然后仿照原来的增加其内容即可。也可以把原来的音乐都删掉。",-1),a("p",null,[e("值得注意的是，如果你的 BGM 只想在某个任务中高潮的时候播放，并且其他时候不想让玩家听到，就把"),a("code",null,"Normal=yes"),e("改为 no，然后在特定时刻用触发播放该音乐。")],-1),a("p",null,[e("另外，INTRO，SCORE，LOADING，CREDITS 这四个的注册名建议不要改，分别是初始界面、评分板、载图时、战役剧终的音乐，想改可以改它们的"),a("code",null,"Sound="),e("。")],-1),a("h3",{id:"音乐文件部分",tabindex:"-1"},[e("音乐文件部分 "),a("a",{class:"header-anchor",href:"#音乐文件部分","aria-label":'Permalink to "音乐文件部分"'},"​")],-1),a("p",null,[e("这里假设你已经有一份通用格式的音乐文件，我们需要将它转为 RA2 能接受的格式。这里使用 "),a("a",{href:"https://wwl.lanzoul.com/iXfZw1qx81vg",target:"_blank",rel:"noreferrer"},"GoldWave"),e(" 转换，如果想用其他工具就自己摸索。")],-1),a("p",null,[e("使用软件打开音乐，然后 文件 -> 另存为，选择"),a("code",null,".wav"),e("，"),a("code",null,"IMA ADPCM 22.050 kHz, 4 位, 立体声, 178 kbps"),e("（也可以 文件–>批处理）。保存好了放到游戏目录，或者打包进 mix 文件。技巧：试试在 XCC mixer 里找到并且双击下你的 wav 文件，如果能播放那应该就稳了，反之播放不了那游戏里也播放不了。")],-1),a("p",null,"放好代码和音乐，进入游戏遭遇战，然后在音乐列表内应该就能看到你的音乐啦。",-1),a("hr",null,null,-1),a("p",null,"参考了：",-1),a("ul",null,[a("li",null,[a("a",{href:"https://tieba.baidu.com/p/5826144157",target:"_blank",rel:"noreferrer"},"如何给红警2添加自己的BGM【红色警戒吧】")]),a("li",null,[a("a",{href:"https://www.bilibili.com/read/cv16584803/",target:"_blank",rel:"noreferrer"},"第12篇：游戏中的背景音乐添加 - 哔哩哔哩")])],-1)])),"main-header":i(()=>[l(t.$slots,"main-header")]),"main-header-after":i(()=>[l(t.$slots,"main-header-after")]),"main-nav":i(()=>[l(t.$slots,"main-nav")]),"main-content":i(()=>[l(t.$slots,"main-content")]),"main-content-after":i(()=>[l(t.$slots,"main-content-after")]),"main-nav-before":i(()=>[l(t.$slots,"main-nav-before")]),"main-nav-after":i(()=>[l(t.$slots,"main-nav-after")]),comment:i(()=>[l(t.$slots,"comment")]),footer:i(()=>[l(t.$slots,"footer")]),aside:i(()=>[l(t.$slots,"aside")]),"aside-custom":i(()=>[l(t.$slots,"aside-custom")]),default:i(()=>[l(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{x as default};
