import{e as b,h as _,r as L,o as t,c as o,k as m,w as v,a as i,g as r,F as w,i as $,d as x,t as C,n as y,A as S,j as k,b as P,z as T,B as Y,C as j,D as V,T as B,l as N}from"./app-DTK7MkJ3.js";import{_ as M}from"./YunCard.vue_vue_type_script_setup_true_lang-BEU4nSCu.js";import{_ as I,a as R}from"./YunPostCategories.vue_vue_type_script_setup_true_lang-BlFz29IZ.js";import{_ as A}from"./YunPostMeta.vue_vue_type_style_index_0_lang-BeL1C_Sa.js";import{u as D}from"./post-TpcOcCSC.js";import"./index-kt1v7PTw.js";const F={class:"pagination"},H=b({__name:"ValaxyPagination",props:{curPage:{},total:{},pageSize:{}},emits:["pageChange"],setup(f,{emit:u}){const a=f,g=u,l=_(()=>Math.ceil(a.total/a.pageSize)),e=_(()=>a.curPage===1||a.curPage===l.value?3:2);function h(s){return s===1||s===l.value?!0:s>a.curPage-e.value&&s<a.curPage+e.value}function c(s){return g("pageChange",s),s===1?"/":`/page/${s}`}return(s,p)=>{const d=L("RouterLink");return t(),o("nav",F,[s.curPage!==1?(t(),m(d,{key:0,class:"page-number",to:c(s.curPage-1),"aria-label":"prev"},{default:v(()=>p[0]||(p[0]=[i("div",{"i-ri-arrow-left-s-line":""},null,-1)])),_:1},8,["to"])):r("v-if",!0),(t(!0),o(w,null,$(l.value,n=>(t(),o(w,null,[h(n)?(t(),m(d,{key:n,class:y(["page-number",s.curPage===n&&"active"]),to:c(n)},{default:v(()=>[x(C(n),1)]),_:2},1032,["class","to"])):n===s.curPage-e.value?(t(),o("span",{key:`prev-space-${n}`,class:"space",disabled:""}," ... ")):n===s.curPage+e.value?(t(),o("span",{key:`next-space-${n}`,class:"space",disabled:""}," ... ")):r("v-if",!0)],64))),256)),s.curPage!==l.value?(t(),m(d,{key:1,class:"page-number",to:c(s.curPage+1),"aria-label":"next"},{default:v(()=>p[1]||(p[1]=[i("div",{"i-ri-arrow-right-s-line":""},null,-1)])),_:1},8,["to"])):r("v-if",!0)])}}}),E={class:"flex flex-1 of-hidden justify-start items-start post-card-info",w:"full"},G=["src","alt"],q={class:"flex-center title text-2xl",text:"center",font:"serif black"},J={flex:"~ grow col",w:"full",justify:"center",items:"center"},K={key:0,py:"1"},O=["innerHTML"],Q={key:2,m:"b-5"},U={key:0,w:"full",h:"10",class:"absolute bottom-0 bg-gradient-to-t from-$va-c-bg-light to-transparent z-1"},W=["href"],X={w:"full",class:"yun-card-actions flex justify-between","min-h":"10",border:"t",text:"sm"},Z={class:"post-categories inline-flex",flex:"wrap 1",items:"center"},ee=b({__name:"YunPostCard",props:{post:{}},setup(f){const u=f,{t:a}=S(),{icon:g,styles:l}=D(u.post.type);return(e,h)=>{const c=Y,s=A,p=I,d=R,n=M;return t(),m(n,{m:"y-4 auto",class:y(e.post.cover?"post-card-image":"post-card"),overflow:"hidden",style:T(k(l))},{default:v(()=>[i("div",E,[e.post.cover?(t(),o("img",{key:0,src:e.post.cover,alt:k(a)("post.cover"),width:"320",height:"180",w:"40%",h:"54",class:"cover object-cover object-center md:shadow",loading:"lazy"},null,8,G)):r("v-if",!0),i("div",{class:y(["flex flex-col items-center relative",e.post.cover&&"h-54"]),w:"full"},[P(c,{class:y(["post-title-link cursor-pointer",e.post.postTitleClass]),to:e.post.path||"",m:"t-3"},{default:v(()=>[i("div",q,[e.post.type?(t(),o("div",{key:0,class:y(["inline-flex",k(g)]),m:"r-1"},null,2)):r("v-if",!0),i("span",null,C(e.post.title),1)])]),_:1},8,["to","class"]),P(s,{frontmatter:e.post},null,8,["frontmatter"]),i("div",J,[e.post.excerpt_type==="text"?(t(),o("div",K)):r("v-if",!0),e.post.excerpt?(t(),o("div",{key:1,class:"markdown-body",op:"90",text:"left",w:"full",p:"x-6 lt-sm:4 y-2",innerHTML:e.post.excerpt},null,8,O)):(t(),o("div",Q))]),r(' <div m="b-5" /> '),e.post.excerpt?(t(),o("div",U)):r("v-if",!0),e.post.url?(t(),o("a",{key:1,href:e.post.url,class:"post-link-btn shadow hover:shadow-md",rounded:"",target:"_blank",m:"b-4"},C(k(a)("post.view_link")),9,W)):r("v-if",!0)],2)]),r(" always show "),i("div",X,[i("div",Z,[P(p,{m:"l-1",categories:e.post.categories},null,8,["categories"])]),e.post.tags?(t(),m(d,{key:0,m:"1",tags:e.post.tags},null,8,["tags"])):r("v-if",!0)])]),_:1},8,["class","style"])}}}),te={class:"yun-post-list",w:"full",p:"x-4 lt-sm:0"},se={key:0,py2:"",op50:"","text-center":""},oe=b({__name:"YunPostList",props:{type:{},posts:{},curPage:{default:1}},setup(f){const u=f,a=j(),g=V(),l=_(()=>g.value.pageSize),e=_(()=>(u.posts||a.postList).filter(c=>!c.hide)),h=_(()=>e.value.slice((u.curPage-1)*l.value,u.curPage*l.value));return(c,s)=>{const p=ee,d=H;return t(),o(w,null,[i("div",te,[h.value.length?r("v-if",!0):(t(),o("div",se," 博主还什么都没写哦～ ")),P(B,{name:"fade"},{default:v(()=>[(t(!0),o(w,null,$(h.value,(n,z)=>(t(),m(p,{key:z,post:n},null,8,["post"]))),128))]),_:1})]),P(d,{"cur-page":c.curPage,"page-size":l.value,total:e.value.length},null,8,["cur-page","page-size","total"])],64)}}}),ce=b({__name:"[page]",setup(f){const u=N(),a=_(()=>Number.parseInt(u.params.page));return(g,l)=>{const e=oe;return t(),m(e,{"cur-page":a.value},null,8,["cur-page"])}}});export{ce as default};
