import{e as v,v as l,u as y,f as k,o as a,c as n,a as e,X as g,ab as T,n as V,ac as D,d as S,g as f,j as c,t as A,b as N,ad as P}from"./app-DTK7MkJ3.js";import{r as h}from"./ValaxyMain.vue_vue_type_style_index_0_lang-DxC2i5ri.js";import{u as E}from"./decrypt-CIAx5Ttj.js";const I={key:0,"w-full":"","pt-14":"","pb-10":""},W={class:"decrypt-password-container w-full sm:w-1/2","flex-center":"","m-auto":"",relative:""},B={key:0,class:"-bottom-6",absolute:"","text-xs":"",op:"50"},O={key:0,"mx-auto":"","my-8":"","text-gray":"",class:"w-full sm:w-1/2 break-all"},U={key:1},M=v({__name:"ValaxyDecrypt",props:{encryptedContent:{}},setup(w){const b=w,o=l(""),s=l(""),d=y().value.password_hints,i=l(!1),{decrypt:x}=E();async function u(){const r=b.encryptedContent;if(r)try{const t=await x(o.value,r);s.value=t||"",fetch("https://api.ra2map.com/record-decrypt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({result:t?"success":"failure",password:o.value,url:window.location.href,screen_widch:screen.width})}),setTimeout(()=>{h()},16)}catch{i.value=!0}}function _(){s.value="",o.value="",setTimeout(()=>{h()},16)}const C=v({name:"ValaxyDeprecatedContent",props:{html:String},render(){const r=`<div>${this.html}</div>`;return P({setup:()=>({frontmatter:y()}),template:r})}}),p=l(!1);return k(()=>{location.protocol!=="https:"&&(p.value=!0)}),(r,t)=>(a(),n("div",null,[s.value?(a(),n("div",U,[N(c(C),{html:s.value},null,8,["html"]),e("div",{"w-full":"","text-center":"","mt-8":""},[e("button",{"m-auto":"",class:"btn","font-bold":"",onClick:_}," Encrypt Again ")])])):(a(),n("div",I,[e("div",W,[g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=m=>o.value=m),"w-full":"",border:"~ solid dark:dark-100","pl-5":"","pr-11":"","py-3":"","rounded-full":"","hover:shadow":"",transition:"",type:"password",placeholder:"Enter password",class:V(i.value&&"border-red"),onInput:t[1]||(t[1]=m=>i.value=!1),onKeyup:D(u,["enter"])},null,34),[[T,o.value]]),e("div",{"data-umami-event":"decrypt","cursor-pointer":"",absolute:"","text-2xl":"","i-ri-arrow-right-circle-line":"","right-3":"","text-gray":"","hover:text-black":"",onClick:u}),p.value?(a(),n("div",B,t[2]||(t[2]=[e("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API",target:"_blank"},[e("span",null,"Web Crypto API")],-1),S(" Only works in HTTPS ")]))):f("v-if",!0)]),c(d)?(a(),n("div",O,[e("span",null,A(c(d)),1)])):f("v-if",!0)]))]))}});export{M as _};
