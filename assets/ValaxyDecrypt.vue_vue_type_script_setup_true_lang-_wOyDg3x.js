import{e as v,v as l,u as y,f as k,c as a,o as n,a as t,g as f,X as g,ad as T,ae as V,n as D,d as S,j as c,t as A,b as N,af as P}from"./app-CjrUvp9y.js";import{r as h}from"./ValaxyMain.vue_vue_type_style_index_0_lang-ClDu1Ntj.js";import{u as E}from"./decrypt-BedaO9m7.js";const I={key:0,"w-full":"","pt-14":"","pb-10":""},W={class:"decrypt-password-container w-full sm:w-1/2","flex-center":"","m-auto":"",relative:""},B={key:0,class:"-bottom-6",absolute:"","text-xs":"",op:"50"},O={key:0,"mx-auto":"","my-8":"","text-gray":"",class:"w-full sm:w-1/2 break-all"},U={key:1},M=v({__name:"ValaxyDecrypt",props:{encryptedContent:{}},setup(w){const x=w,o=l(""),s=l(""),d=y().value.password_hints,i=l(!1),{decrypt:b}=E();async function u(){const r=x.encryptedContent;if(r)try{const e=await b(o.value,r);s.value=e||"",fetch("https://api.ra2map.com/record-decrypt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({result:e?"success":"failure",password:o.value,url:window.location.href,screen_widch:screen.width})}),setTimeout(()=>{h()},16)}catch{i.value=!0}}function _(){s.value="",o.value="",setTimeout(()=>{h()},16)}const C=v({name:"ValaxyDeprecatedContent",props:{html:String},render(){const r=`<div>${this.html}</div>`;return P({setup:()=>({frontmatter:y()}),template:r})}}),p=l(!1);return k(()=>{location.protocol!=="https:"&&(p.value=!0)}),(r,e)=>(n(),a("div",null,[s.value?(n(),a("div",U,[N(c(C),{html:s.value},null,8,["html"]),t("div",{"w-full":"","text-center":"","mt-8":""},[t("button",{"m-auto":"",class:"btn","font-bold":"",onClick:_}," Encrypt Again ")])])):(n(),a("div",I,[t("div",W,[g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=m=>o.value=m),"w-full":"",border:"~ solid dark:dark-100","pl-5":"","pr-11":"","py-3":"","rounded-full":"","hover:shadow":"",transition:"",type:"password",placeholder:"Enter password",class:D(i.value&&"border-red"),onInput:e[1]||(e[1]=m=>i.value=!1),onKeyup:V(u,["enter"])},null,34),[[T,o.value]]),t("div",{"data-umami-event":"decrypt","cursor-pointer":"",absolute:"","text-2xl":"","i-ri-arrow-right-circle-line":"","right-3":"","text-gray":"","hover:text-black":"",onClick:u}),p.value?(n(),a("div",B,e[2]||(e[2]=[t("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API",target:"_blank"},[t("span",null,"Web Crypto API")],-1),S(" Only works in HTTPS ")]))):f("v-if",!0)]),c(d)?(n(),a("div",O,[t("span",null,A(c(d)),1)])):f("v-if",!0)]))]))}});export{M as _};
